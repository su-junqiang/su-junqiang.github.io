<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Shellå­¦ä¹ ]]></title>
    <url>%2F2020%2F09%2F12%2FShell%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Shellå­¦ä¹ ç¬”è®°linuxä¸­ä½¿ç”¨git å…ˆåœ¨æœ¬åœ°ç”Ÿæˆssh keyï¼Œç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼ŒåŽç»­åœ¨githubç­‰ä»£ç æ‰˜ç®¡é…ç½®ä¸­éœ€è¦ç”¨åˆ° 1ssh-keygen -t rsa -C "your_email@youremail.com" ç¡®è®¤è·¯å¾„æŒ‰1æ¬¡å›žè½¦ï¼Œæç¤ºï¼šEnter passphraseï¼ˆè¾“å…¥å¯†ç ï¼‰ï¼Œä¸ç”¨è¾“å¯†ç å†æŒ‰2æ¬¡å›žè½¦å³å¯ã€‚ç”Ÿæˆçš„å¯†é’¥å­˜æ”¾è·¯å¾„ /root/.ssh/id_rsa 1cat /root/.ssh/id_rsa.pub å®‰è£… 1yum install git éªŒè¯ 123[root@localhost ~]# git --versiongit version 1.8.3.1[root@localhost ~]# é…ç½®åŸºæœ¬ä¿¡æ¯ 12345678//é…ç½®åŸºæœ¬ä¿¡æ¯[root@localhost ~]# git config --global user.name "flymegoc"[root@localhost ~]# git config --global user.email 343672271@qq.com//æŸ¥çœ‹é…ç½®[root@localhost ~]# git config --listuser.name=flymegocuser.email=343672271@qq.com[root@localhost ~]# é…ç½®SSHç”¨äºŽæ‹‰å–è¿œç¨‹ä»“åº“ 1TypeError: from_buffer() cannot return the address of the raw string within a str or unicode object è§£å†³åŠžæ³• 1pip install --upgrade pyOpenSSl æŸ¥çœ‹ç½‘å¡ä¿¡æ¯ã€é…ç½®ipæŸ¥çœ‹ç½‘å¡ä¿¡æ¯ï¼š 1ethtool -i eth0 å±•ç¤ºipå‚æ•° 1ip addr show å®‰è£…ifconfigå·¥å…· 1234#é€šè¿‡ä»¥ä¸‹å‘½ä»¤æœç´¢å®‰è£…åŒ…yum search ifconfig#ç„¶åŽå®‰è£…net-tools.*ï¼Œæ ¹æ®å®žé™…æŸ¥æ‰¾å‡ºæ¥çš„åŒ…å®‰è£…yum install net-tools.* é…ç½®ipåœ°å€ 12ifconfig eth0 192.168.249.131 netmask 255.255.255.0route add default gw 192.168.249.2 åˆ é™¤ä¸€ä¸ªç½‘å¡çš„IP 1ip addr flush dev eth0 è°ƒè¯•shellç¨‹åº 1vi /etc/sys.init.d/sys_package 1set -x 1echo "------------------------------" 1/bin/bash /bin/pxe_autorun &gt;&gt; /tmp/1 2&gt;&amp;1 1vi /tmp/1 åœ¨Linuxä¸‹æŸ¥çœ‹ç¡¬ç›˜çš„æ–¹å¼æœ‰å¾ˆå¤š: 1.fdisk -l2.lsblk å¦‚æžœä½¿ç”¨çš„æ˜¯scsiæŽ¥å£çš„å¯ä»¥ä½¿ç”¨: 3.lsscsi smartctlä¼šæŸ¥çœ‹sdaå…·ä½“ä¿¡æ¯,åŒ…æ‹¬åž‹å·,snï¼Œfirmwareç­‰ 4.smartctl -a /dev/sda å¦‚æžœæœ‰RAIDï¼Œè¯·é€šè¿‡å¯¹åº”çš„RAIDç®¡ç†ï¼ˆç›‘æŽ§ï¼‰å·¥å…·æŸ¥çœ‹ï¼Œä¾‹å¦‚LSIçš„MegaCli 5.MegaCli -PDList -aALL é€šè¿‡hdparmå‘½ä»¤æŸ¥çœ‹æŒ‡å®šç¡¬ç›˜çš„åž‹å· 6.hdparm -i /dev/hda æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯12345678910111213141516##æŸ¥çœ‹centosç³»ç»Ÿç‰ˆæœ¬å‘½ä»¤[root@LAMP1 config]# cat /proc/version Linux version 2.6.32-279.el6.x86_64 (mockbuild@c6b9.bsys.dev.centos.org) (gcc version 4.4.6 20120305 (Red Hat 4.4.6-4) (GCC) ) #1 SMP Fri Jun 22 12:19:21 UTC 2012[root@LAMP1 config]# uname -aLinux LAMP1.1 2.6.32-279.el6.x86_64 #1 SMP Fri Jun 22 12:19:21 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux[root@LAMP1 config]# uname -r2.6.32-279.el6.x86_64[root@LAMP1 config]# ##æŸ¥çœ‹ç‰ˆæœ¬ï¼š[root@LAMP1 config]# cat /etc/issueCentOS release 6.3 (Final)Kernel \r on an \m[root@LAMP1 config]# cat /etc/redhat-release CentOS release 6.3 (Final)[root@LAMP1 config]# 12[root@974ca3d2c5dd /]# systemctl status vsftpdFailed to get D-Bus connection: Operation not permitted æŸ¥çœ‹è¿›ç¨‹ã€ç«¯å£å·1234567891011#æŸ¥çœ‹ç¨‹åºè¿›ç¨‹ ps -ef|grep zookeeper#æŸ¥çœ‹ç«¯å£å· netstat -anp|grep 2181#æŸ¥çœ‹ç«¯å£å· lsof -i:2181#æŸ¥çœ‹è¿›ç¨‹pidpgrep -f vsftpd shellä¸­å¯èƒ½ç»å¸¸èƒ½çœ‹åˆ°ï¼šecho log &gt; /dev/null 2&gt;&amp;1å‘½ä»¤çš„ç»“æžœå¯ä»¥é€šè¿‡%&gt;çš„å½¢å¼æ¥å®šä¹‰è¾“å‡º /dev/null ï¼šä»£è¡¨ç©ºè®¾å¤‡æ–‡ä»¶ &gt; ï¼šä»£è¡¨é‡å®šå‘åˆ°å“ªé‡Œï¼Œä¾‹å¦‚ï¼šecho â€œ123â€ &gt; /home/123.txt 1 ï¼šè¡¨ç¤ºstdoutæ ‡å‡†è¾“å‡ºï¼Œç³»ç»Ÿé»˜è®¤å€¼æ˜¯1ï¼Œæ‰€ä»¥â€&gt;/dev/nullâ€ç­‰åŒäºŽâ€1&gt;/dev/nullâ€ 2 ï¼šè¡¨ç¤ºstderræ ‡å‡†é”™è¯¯ &amp; ï¼šè¡¨ç¤ºç­‰åŒäºŽçš„æ„æ€ï¼Œ2&gt;&amp;1ï¼Œè¡¨ç¤º2çš„è¾“å‡ºé‡å®šå‘ç­‰åŒäºŽ1 1 &gt; /dev/null 2&gt;&amp;1 è¯­å¥å«ä¹‰ï¼š 1 &gt; /dev/null ï¼š é¦–å…ˆè¡¨ç¤ºæ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ç©ºè®¾å¤‡æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸è¾“å‡ºä»»ä½•ä¿¡æ¯åˆ°ç»ˆç«¯ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚ 2&gt;&amp;1 ï¼šæŽ¥ç€ï¼Œæ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘ï¼ˆç­‰åŒäºŽï¼‰æ ‡å‡†è¾“å‡ºï¼Œå› ä¸ºä¹‹å‰æ ‡å‡†è¾“å‡ºå·²ç»é‡å®šå‘åˆ°äº†ç©ºè®¾å¤‡æ–‡ä»¶ï¼Œæ‰€ä»¥æ ‡å‡†é”™è¯¯è¾“å‡ºä¹Ÿé‡å®šå‘åˆ°ç©ºè®¾å¤‡æ–‡ä»¶ã€‚ å®žä¾‹è§£æžï¼š cmd &gt;a 2&gt;a å’Œ cmd &gt;a 2&gt;&amp;1 ä¸ºä»€ä¹ˆä¸åŒï¼Ÿ cmd &gt;a 2&gt;a ï¼šstdoutå’Œstderréƒ½ç›´æŽ¥é€å¾€æ–‡ä»¶ a ï¼Œaæ–‡ä»¶ä¼šè¢«æ‰“å¼€ä¸¤éï¼Œç”±æ­¤å¯¼è‡´stdoutå’Œstderräº’ç›¸è¦†ç›–ã€‚ cmd &gt;a 2&gt;&amp;1 ï¼šstdoutç›´æŽ¥é€å¾€æ–‡ä»¶a ï¼Œstderræ˜¯ç»§æ‰¿äº†FD1çš„ç®¡é“ä¹‹åŽï¼Œå†è¢«é€å¾€æ–‡ä»¶a ã€‚aæ–‡ä»¶åªè¢«æ‰“å¼€ä¸€éï¼Œå°±æ˜¯FD1å°†å…¶æ‰“å¼€ã€‚ ä¸¤è€…çš„ä¸åŒç‚¹åœ¨äºŽï¼š cmd &gt;a 2&gt;a ç›¸å½“äºŽä½¿ç”¨äº†FD1ã€FD2ä¸¤ä¸ªäº’ç›¸ç«žäº‰ä½¿ç”¨æ–‡ä»¶ a çš„ç®¡é“ï¼› cmd &gt;a 2&gt;&amp;1 åªä½¿ç”¨äº†ä¸€ä¸ªç®¡é“FD1ï¼Œä½†å·²ç»åŒ…æ‹¬äº†stdoutå’Œstderrã€‚ ä»ŽIOæ•ˆçŽ‡ä¸Šæ¥è®²ï¼Œcmd &gt;a 2&gt;&amp;1çš„æ•ˆçŽ‡æ›´é«˜ã€‚ç»å¸¸å¯ä»¥åœ¨ä¸€äº›è„šæœ¬ï¼Œå°¤å…¶æ˜¯åœ¨crontabè°ƒç”¨æ—¶å‘çŽ°å¦‚ä¸‹å½¢å¼çš„å‘½ä»¤è°ƒç”¨ /tmp/test.sh &gt; /tmp/test.log 2&gt;&amp;1å‰åŠéƒ¨åˆ†/tmp/test.sh &gt; /tmp/test.logå¾ˆå®¹æ˜“ç†è§£ï¼Œé‚£ä¹ˆåŽé¢çš„2&gt;&amp;1æ˜¯æ€Žä¹ˆå›žäº‹å‘¢ï¼Ÿ è¦è§£é‡Šè¿™ä¸ªé—®é¢˜ï¼Œè¿˜æ˜¯å¾—æåˆ°æ–‡ä»¶é‡å®šå‘ã€‚æˆ‘ä»¬çŸ¥é“&gt;å’Œ&lt;æ˜¯æ–‡ä»¶é‡å®šå‘ç¬¦ã€‚é‚£ä¹ˆ1å’Œ2æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨shellä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å’Œä¸‰ä¸ªç³»ç»Ÿæ–‡ä»¶ ç›¸å…³è”ï¼šæ ‡å‡†è¾“å…¥stdinï¼Œæ ‡å‡†è¾“å‡ºstdoutã€æ ‡å‡†é”™è¯¯stderrï¼Œä¸‰ä¸ªç³»ç»Ÿæ–‡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦åˆ†åˆ«ä¸º0ï¼Œ1ã€2ã€‚æ‰€ä»¥è¿™é‡Œ2&gt;&amp;1 çš„æ„æ€å°±æ˜¯å°†æ ‡å‡†é”™è¯¯ä¹Ÿè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºå½“ä¸­ã€‚ ä¸ºä½•2&gt;&amp;1è¦å†™åœ¨åŽé¢ï¼Ÿ command &gt; file 2&gt;&amp;1é¦–å…ˆæ˜¯command &gt; fileå°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°fileä¸­ï¼Œ 2&gt;&amp;1 æ˜¯æ ‡å‡†é”™è¯¯æ‹·è´äº†æ ‡å‡†è¾“å‡ºçš„è¡Œä¸ºï¼Œä¹Ÿå°±æ˜¯åŒæ ·è¢«é‡å®šå‘åˆ°fileä¸­ï¼Œæœ€ç»ˆç»“æžœå°±æ˜¯æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯éƒ½è¢«é‡å®šå‘åˆ°fileä¸­ã€‚ command 2&gt;&amp;1 &gt;file2&gt;&amp;1 æ ‡å‡†é”™è¯¯æ‹·è´äº†æ ‡å‡†è¾“å‡ºçš„è¡Œä¸ºï¼Œä½†æ­¤æ—¶æ ‡å‡†è¾“å‡ºè¿˜æ˜¯åœ¨ç»ˆç«¯ã€‚&gt;file åŽè¾“å‡ºæ‰è¢«é‡å®šå‘åˆ°fileï¼Œä½†æ ‡å‡†é”™è¯¯ä»ç„¶ä¿æŒåœ¨ç»ˆç«¯ã€‚ ç”¨straceå¯ä»¥çœ‹åˆ°ï¼š command &gt; file 2&gt;&amp;1è¿™ä¸ªå‘½ä»¤ä¸­å®žçŽ°é‡å®šå‘çš„å…³é”®ç³»ç»Ÿè°ƒç”¨åºåˆ—æ˜¯ï¼šopen(file) == 3dup2(3,1)dup2(1,2) command 2&gt;&amp;1 &gt;fileè¿™ä¸ªå‘½ä»¤ä¸­å®žçŽ°é‡å®šå‘çš„å…³é”®ç³»ç»Ÿè°ƒç”¨åºåˆ—æ˜¯ï¼šdup2(1,2)open(file) == 3dup2(3,1) å¦‚ä½•ä½¿ç”¨yumä¸‹è½½rpmåŒ…ä½¿ç”¨yumæ’ä»¶Downloadonlyä¸‹è½½rpmåŒ…å’Œä¾èµ–åŒ… 12yum install yum-plugin-downloadonlyyum install --downloadonly --downloaddir=&lt;directory&gt; &lt;package-name&gt; DHCPã€TFTPã€VSFTPé»˜è®¤ç«¯å£å· DHCPç”¨çš„ç«¯å·æ˜¯UDP67å’ŒUDP68ï¼Œè¿™ä¸¤baiä¸ªç«¯å£æ˜¯æ­£å¸¸duçš„DHCPæœåŠ¡ç«¯å£ï¼Œä½ å¯ä»¥ç†zhiè§£ä¸ºä¸€ä¸ªå‘é€ï¼Œä¸€ä¸ªæŽ¥æ”¶daoã€‚å®¢æˆ·ç«¯å‘68ç«¯å£ï¼ˆbootpsï¼‰å¹¿æ’­è¯·æ±‚é…ç½®ï¼ŒæœåŠ¡å™¨å‘67ç«¯å£ï¼ˆbootpcï¼‰å¹¿æ’­å›žåº”è¯·æ±‚ã€‚ TFTPï¼ˆTrivial File Transfer Protocol,ç®€å•æ–‡ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯TCP/IPåè®®æ—ä¸­çš„ä¸€ä¸ªç”¨æ¥åœ¨å®¢æˆ·æœºä¸ŽæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œç®€å•æ–‡ä»¶ä¼ è¾“çš„åè®®ï¼Œæä¾›ä¸å¤æ‚ã€å¼€é”€ä¸å¤§çš„æ–‡ä»¶ä¼ è¾“æœåŠ¡ã€‚ ç«¯å£å·ä¸º69ã€‚ vsftpdå¯åŠ¨åŽï¼Œé»˜è®¤çš„ftpç«¯å£æ˜¯21 shell è„šæœ¬ä¸­çš„$@å’Œ$#$@ï¼šè¡¨ç¤ºæ‰€æœ‰å‚æ•°ï¼›$#è¡¨ç¤ºæ‰€æœ‰å‚æ•°çš„ä¸ªæ•° Linux ä¹‹ shell æ¯”è¾ƒè¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° ç¤ºä¾‹ æ–‡ä»¶æ¯”è¾ƒè¿ç®—ç¬¦ -e filename å¦‚æžœ filename å­˜åœ¨ï¼Œåˆ™ä¸ºçœŸ [ -e /var/log/syslog ] -d filename å¦‚æžœ filename ä¸ºç›®å½•ï¼Œåˆ™ä¸ºçœŸ [ -d /tmp/mydir ] -f filename å¦‚æžœ filename ä¸ºå¸¸è§„æ–‡ä»¶ï¼Œåˆ™ä¸ºçœŸ [ -f /usr/bin/grep ] -L filename å¦‚æžœ filename ä¸ºç¬¦å·é“¾æŽ¥ï¼Œåˆ™ä¸ºçœŸ [ -L /usr/bin/grep ] -r filename å¦‚æžœ filename å¯è¯»ï¼Œåˆ™ä¸ºçœŸ [ -r /var/log/syslog ] -w filename å¦‚æžœ filename å¯å†™ï¼Œåˆ™ä¸ºçœŸ [ -w /var/mytmp.txt ] -x filename å¦‚æžœ filename å¯æ‰§è¡Œï¼Œåˆ™ä¸ºçœŸ [ -L /usr/bin/grep ] filename1 -nt filename2 å¦‚æžœ filename1 æ¯” filename2 æ–°ï¼Œåˆ™ä¸ºçœŸ [ /tmp/install/etc/services -nt /etc/services ] filename1 -ot filename2 å¦‚æžœ filename1 æ¯” filename2 æ—§ï¼Œåˆ™ä¸ºçœŸ [ /boot/bzImage -ot arch/i386/boot/bzImage ] å­—ç¬¦ä¸²æ¯”è¾ƒè¿ç®—ç¬¦ ï¼ˆè¯·æ³¨æ„å¼•å·çš„ä½¿ç”¨ï¼Œè¿™æ˜¯é˜²æ­¢ç©ºæ ¼æ‰°ä¹±ä»£ç çš„å¥½æ–¹æ³•ï¼‰ -z string å¦‚æžœ string é•¿åº¦ä¸ºé›¶ï¼Œåˆ™ä¸ºçœŸ [ -z â€œ$myvarâ€ ] -n string å¦‚æžœ string é•¿åº¦éžé›¶ï¼Œåˆ™ä¸ºçœŸ [ -n â€œ$myvarâ€ ] string1 = string2 å¦‚æžœ string1 ä¸Ž string2 ç›¸åŒï¼Œåˆ™ä¸ºçœŸ [ â€œ$myvarâ€ = â€œone two threeâ€ ] string1 != string2 å¦‚æžœ string1 ä¸Ž string2 ä¸åŒï¼Œåˆ™ä¸ºçœŸ [ â€œ$myvarâ€ != â€œone two threeâ€ ] ç®—æœ¯æ¯”è¾ƒè¿ç®—ç¬¦ num1 -eq num2 ç­‰äºŽï¼Œåˆ™ä¸ºçœŸ [ 3 -eq $mynum ] num1 -ne num2 ä¸ç­‰äºŽï¼Œåˆ™ä¸ºçœŸ [ 3 -ne $mynum ] num1 -lt num2 å°äºŽï¼Œåˆ™ä¸ºçœŸ [ 3 -lt $mynum ] num1 -le num2 å°äºŽæˆ–ç­‰äºŽï¼Œåˆ™ä¸ºçœŸ [ 3 -le $mynum ] num1 -gt num2 å¤§äºŽï¼Œåˆ™ä¸ºçœŸ [ 3 -gt $mynum ] num1 -ge num2 å¤§äºŽæˆ–ç­‰äºŽï¼Œåˆ™ä¸ºçœŸ [ 3 -ge $mynum ] Shell ä¸­çš„ä¸­æ‹¬å·ç”¨æ³•æ€»ç»“ åŒ¹é…å­—ç¬¦ []#åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚â€™[Gg]repâ€™åŒ¹é…Grepå’Œgrepã€‚ 1234[root@localhost test]# lsabb.sh Dest1.sh test1.sh[root@localhost test]# ls [tD]est1.shDest1.sh test1.sh [[æ”¯æŒå­—ç¬¦ä¸²çš„æ¨¡å¼åŒ¹é…ï¼Œä½¿ç”¨=~æ“ä½œç¬¦æ—¶ç”šè‡³æ”¯æŒshellçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å­—ç¬¦ä¸²æ¯”è¾ƒæ—¶å¯ä»¥æŠŠå³è¾¹çš„ä½œä¸ºä¸€ä¸ªæ¨¡å¼ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚[[ hello == hell? ]]ï¼Œç»“æžœä¸ºçœŸã€‚[[ ]] ä¸­åŒ¹é…å­—ç¬¦ä¸²æˆ–é€šé…ç¬¦ï¼Œä¸éœ€è¦å¼•å·ã€‚ 123456$[[ 'abcd' == a*d ]] &amp;&amp; echo True || echo FalseTrue$[ 'abcd' == a*d ] &amp;&amp; echo True || echo FalseFalse Shell é‡Œé¢çš„ä¸­æ‹¬å·ï¼ˆåŒ…æ‹¬å•ä¸­æ‹¬å·ä¸ŽåŒä¸­æ‹¬å·ï¼‰å¯ç”¨äºŽä¸€äº›æ¡ä»¶çš„æµ‹è¯•ï¼š ç®—æœ¯æ¯”è¾ƒ, æ¯”å¦‚ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸º0, [ $var -eq 0 ]ã€‚ æ–‡ä»¶å±žæ€§æµ‹è¯•ï¼Œæ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œ[ -e $var ], æ˜¯å¦æ˜¯ç›®å½•ï¼Œ[ -d $var ]ã€‚ å­—ç¬¦ä¸²æ¯”è¾ƒ, æ¯”å¦‚ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒï¼Œ [[ $var1 = $var2 ]]ã€‚ æ–¹æ‹¬å· æ–¹æ‹¬å·å®šä¹‰äº†æµ‹è¯•æ¡ä»¶ã€‚ ç¬¬ä¸€ä¸ªæ–¹æ‹¬å·åŽå’Œç¬¬äºŒä¸ªæ–¹æ‹¬å·å‰éƒ½è¦åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ æ–¹æ‹¬å·ä¸»è¦åŒ…æ‹¬4ç±»åˆ¤æ–­ï¼š æ•°å€¼æ¯”è¾ƒ å­—ç¬¦ä¸²æ¯”è¾ƒ æ–‡ä»¶æ¯”è¾ƒ ç¬¦åˆæ¡ä»¶æ¯”è¾ƒ 12[ condition1 ] &amp;&amp; [ condition2 ][ condition1 ] || [ condition2 ] åŒæ–¹æ‹¬å· åŒæ–¹æ‹¬å·æä¾›äº†å­—ç¬¦ä¸²æ¯”è¾ƒçš„é«˜çº§ç‰¹æ€§ã€‚ æ‹¬å·ä¸­å¯ä»¥å®šä¹‰ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…å­—ç¬¦ä¸² æ³¨æ„ä¸æ˜¯æ‰€æœ‰çš„shelléƒ½æ”¯æŒåŒæ–¹æ‹¬å·ï¼ åœ¨[[ä¸­ä½¿ç”¨&amp;&amp;å’Œ||è¡¨ç¤ºé€»è¾‘ä¸Žå’Œé€»è¾‘æˆ–ã€‚[ä¸­ä½¿ç”¨-a å’Œ-o è¡¨ç¤ºé€»è¾‘ä¸Žå’Œé€»è¾‘æˆ–ã€‚ 123456789101112131415x=1y=1$[ $x == 1 &amp;&amp; $y == 1 ] &amp;&amp; echo True || echo False-bash: [: missing `]'False$[[ $x == 1 &amp;&amp; $y == 1 ]] &amp;&amp; echo True || echo FalseTrue$[ $x == 1 -a $y == 1 ] &amp;&amp; echo True || echo FalseTrue æ€»ç»“ï¼š ä½¿ç”¨[[ â€¦ ]]æ¡ä»¶åˆ¤æ–­ç»“æž„ï¼Œè€Œä¸æ˜¯[ â€¦ ]ï¼Œèƒ½å¤Ÿé˜²æ­¢è„šæœ¬ä¸­çš„è®¸å¤šé€»è¾‘é”™è¯¯ã€‚æ¯”å¦‚ï¼Œ&amp;&amp;ã€||ã€&lt;å’Œ&gt; æ“ä½œç¬¦èƒ½å¤Ÿæ­£å¸¸å­˜åœ¨äºŽ[[ ]]æ¡ä»¶åˆ¤æ–­ç»“æž„ä¸­ï¼Œ ä½†æ˜¯å¦‚æžœå‡ºçŽ°åœ¨[ ]ç»“æž„ä¸­çš„è¯ï¼Œä¼šæŠ¥é”™ã€‚æ¯”å¦‚å¯ä»¥ç›´æŽ¥ä½¿ç”¨if [[ $a != 1 &amp;&amp; $a != 2 ]] å¦‚æžœä¸ä½¿ç”¨åŒæ‹¬å·, åˆ™ä¸ºif [ $a -ne 1] &amp;&amp; [ $a != 2 ]æˆ–è€…if [ $a -ne 1 -a $a != 2 ] bashæŠŠåŒä¸­æ‹¬å·ä¸­çš„è¡¨è¾¾å¼çœ‹ä½œä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œå¹¶è¿”å›žä¸€ä¸ªé€€å‡ºçŠ¶æ€ç ã€‚]]></content>
      <categories>
        <category>Shell</category>
      </categories>
      <tags>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¬”è®°]]></title>
    <url>%2F2020%2F09%2F05%2FPython%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Pythonç¬”è®°é™æ€è¯­è¨€ä¸ŽåŠ¨æ€è¯­è¨€é™æ€è¯­è¨€ï¼ˆå¼ºç±»åž‹è¯­è¨€ï¼‰ é™æ€è¯­è¨€æ˜¯åœ¨ç¼–è¯‘æ—¶å˜é‡çš„æ•°æ®ç±»åž‹å³å¯ç¡®å®šçš„è¯­è¨€ï¼Œå¤šæ•°é™æ€ç±»åž‹è¯­è¨€è¦æ±‚åœ¨ä½¿ç”¨å˜é‡ä¹‹å‰å¿…é¡»å£°æ˜Žæ•°æ®ç±»åž‹ã€‚ ä¾‹å¦‚ï¼šC++ã€Javaã€Delphiã€C#ç­‰ã€‚ åŠ¨æ€è¯­è¨€ï¼ˆå¼±ç±»åž‹è¯­è¨€ï¼‰ åŠ¨æ€è¯­è¨€æ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šæ•°æ®ç±»åž‹çš„è¯­è¨€ã€‚å˜é‡ä½¿ç”¨ä¹‹å‰ä¸éœ€è¦ç±»åž‹å£°æ˜Žï¼Œé€šå¸¸å˜é‡çš„ç±»åž‹æ˜¯è¢«èµ‹å€¼çš„é‚£ä¸ªå€¼çš„ç±»åž‹ã€‚ ä¾‹å¦‚PHP/ASP/Ruby/Python/Perl/ABAP/SQL/JavaScript/Unix Shellç­‰ç­‰ã€‚ å¼ºç±»åž‹å®šä¹‰è¯­è¨€ å¼ºåˆ¶æ•°æ®ç±»åž‹å®šä¹‰çš„è¯­è¨€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸€ä¸ªå˜é‡è¢«æŒ‡å®šäº†æŸä¸ªæ•°æ®ç±»åž‹ï¼Œå¦‚æžœä¸ç»è¿‡å¼ºåˆ¶è½¬æ¢ï¼Œé‚£ä¹ˆå®ƒå°±æ°¸è¿œæ˜¯è¿™ä¸ªæ•°æ®ç±»åž‹äº†ã€‚ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æžœä½ å®šä¹‰äº†ä¸€ä¸ªæ•´åž‹å˜é‡a,é‚£ä¹ˆç¨‹åºæ ¹æœ¬ä¸å¯èƒ½å°†aå½“ä½œå­—ç¬¦ä¸²ç±»åž‹å¤„ç†ã€‚å¼ºç±»åž‹å®šä¹‰è¯­è¨€æ˜¯ç±»åž‹å®‰å…¨çš„è¯­è¨€ã€‚ å¼±ç±»åž‹å®šä¹‰è¯­è¨€ æ•°æ®ç±»åž‹å¯ä»¥è¢«å¿½ç•¥çš„è¯­è¨€ã€‚å®ƒä¸Žå¼ºç±»åž‹å®šä¹‰è¯­è¨€ç›¸å, ä¸€ä¸ªå˜é‡å¯ä»¥èµ‹ä¸åŒæ•°æ®ç±»åž‹çš„å€¼ã€‚å¼ºç±»åž‹å®šä¹‰è¯­è¨€åœ¨é€Ÿåº¦ä¸Šå¯èƒ½ç•¥é€Šè‰²äºŽå¼±ç±»åž‹å®šä¹‰è¯­è¨€ï¼Œä½†æ˜¯å¼ºç±»åž‹å®šä¹‰è¯­è¨€å¸¦æ¥çš„ä¸¥è°¨æ€§èƒ½å¤Ÿæœ‰æ•ˆçš„é¿å…è®¸å¤šé”™è¯¯ã€‚ ä¸¤è€…åŒºåˆ« ç‰¹æ€§ å¼ºç±»åž‹è¯­è¨€æ˜¯ä¸€æ—¦å˜é‡çš„ç±»åž‹è¢«ç¡®å®šï¼Œå°±ä¸èƒ½è½¬åŒ–çš„è¯­è¨€ã€‚ å¼±ç±»åž‹è¯­è¨€åˆ™åä¹‹ï¼Œä¸€ä¸ªå˜é‡çš„ç±»åž‹æ˜¯ç”±å…¶åº”ç”¨ä¸Šä¸‹æ–‡ç¡®å®šçš„ã€‚ é™æ€è¯­è¨€ä¼˜åŠ¿ ç”±äºŽç±»åž‹çš„å¼ºåˆ¶å£°æ˜Žï¼Œä½¿å¾—IDEæœ‰å¾ˆå¼ºçš„ä»£ç æ„ŸçŸ¥èƒ½åŠ›ï¼Œæ•…ï¼Œåœ¨å®žçŽ°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€å¼€å‘å¤§åž‹å•†ä¸šç³»ç»Ÿã€ä»¥åŠé‚£äº›ç”Ÿå‘½å‘¨æœŸå¾ˆé•¿çš„åº”ç”¨ä¸­ï¼Œä¾æ‰˜IDEå¯¹ç³»ç»Ÿçš„å¼€å‘å¾ˆæœ‰ä¿éšœï¼› ç”±äºŽé™æ€è¯­è¨€ç›¸å¯¹æ¯”è¾ƒå°é—­ï¼Œä½¿å¾—ç¬¬ä¸‰æ–¹å¼€å‘åŒ…å¯¹ä»£ç çš„ä¾µå®³æ€§å¯ä»¥é™åˆ°æœ€ä½Žï¼› åŠ¨æ€è¯­è¨€ä¼˜åŠ¿ æ€ç»´ä¸å—æŸç¼šï¼Œå¯ä»¥ä»»æ„å‘æŒ¥ï¼ŒæŠŠæ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨äº§å“æœ¬èº«ä¸Šï¼› é›†ä¸­æ€è€ƒä¸šåŠ¡é€»è¾‘å®žçŽ°ï¼Œæ€è€ƒè¿‡ç¨‹å³å®žçŽ°è¿‡ç¨‹ï¼› åˆè¯†Python pythonä»¥#å¼€å¤´çš„è¯­å¥æ˜¯æ³¨é‡Šï¼Œæ³¨é‡Šæ˜¯ç»™äººçœ‹çš„ï¼Œå¯ä»¥æ˜¯ä»»æ„å†…å®¹ï¼Œè§£é‡Šå™¨ä¼šå¿½ç•¥æŽ‰æ³¨é‡Šã€‚å…¶ä»–æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œå½“è¯­å¥ä»¥å†’å·:ç»“å°¾æ—¶ï¼Œç¼©è¿›çš„è¯­å¥è§†ä¸ºä»£ç å—ã€‚ Pythonç¨‹åºæ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œå¦‚æžœå†™é”™äº†å¤§å°å†™ï¼Œç¨‹åºä¼šæŠ¥é”™ã€‚ Pythonå†…ç½®çš„ä¸€ç§æ•°æ®ç±»åž‹æ˜¯åˆ—è¡¨ï¼šlistã€‚listæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚~ä»£è¡¨è¯¥åˆ—è¡¨ã€‚ | å…ƒç´ ä¸ªæ•° | lenï¼ˆ~ï¼‰ || â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€”â€”â€” || èŽ·å–æœ€åŽä¸€ä¸ªå…ƒç´  | ~[-1] æˆ–è€…~[len(~)-1] || å¾€listä¸­è¿½åŠ å…ƒç´ åˆ°æœ«å°¾ | ~.append(â€˜Realityâ€™) || å…ƒç´ æ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œæ¯”å¦‚ç´¢å¼•å·ä¸º1çš„ä½ç½® | ~.insert(1,â€™brotherâ€™) || åˆ é™¤listæœ«å°¾çš„å…ƒç´  | ~.pop() || åˆ é™¤æŒ‡å®šä½ç½®ï¼ˆç´¢å¼•å·ä¸º1ï¼‰çš„å…ƒç´  | ~.pop(1) || æŠŠæŸä¸ªå…ƒç´ æ›¿æ¢æˆåˆ«çš„å…ƒç´  | ~[0]=â€™Realityâ€™ | å¦ä¸€ç§æœ‰åºåˆ—è¡¨å«å…ƒç»„ï¼štupleã€‚tupleå’Œlistéžå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼š classmates = (â€˜Michaelâ€™, â€˜Bobâ€™, â€˜Tracyâ€™) ðŸ˜Šæ³¨æ„ï¼šè¦å®šä¹‰ä¸€ä¸ªåªæœ‰1ä¸ªå…ƒç´ çš„tupleï¼Œå¦‚æžœä½ è¿™ä¹ˆå®šä¹‰ï¼št = (1)å®šä¹‰çš„ä¸æ˜¯tupleï¼Œæ˜¯1è¿™ä¸ªæ•°ï¼è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtupleï¼Œåˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ï¼Œè¿™å°±äº§ç”Ÿäº†æ­§ä¹‰ï¼Œå› æ­¤ï¼ŒPythonè§„å®šï¼Œåªæœ‰1ä¸ªå…ƒç´ çš„tupleå®šä¹‰æ—¶å¿…é¡»åŠ ä¸€ä¸ªé€—å·,ï¼Œæ¥æ¶ˆé™¤æ­§ä¹‰ï¼št = (1,) åœ¨Pythonæ¡ä»¶åˆ¤æ–­ä¸­elifæ˜¯else ifçš„ç¼©å†™ï¼Œä¾‹å¦‚ï¼š 1234if x: print('True')elif x&gt;=6: print('false') åªè¦xæ˜¯éžé›¶æ•°å€¼ã€éžç©ºå­—ç¬¦ä¸²ã€éžç©ºlistç­‰ï¼Œå°±åˆ¤æ–­ä¸ºTrueï¼Œå¦åˆ™ä¸ºFalseã€‚ input()è¿”å›žçš„æ•°æ®ç±»åž‹æ˜¯strå¦‚éœ€èŽ·å–intç±»åž‹åˆ™éœ€è¦ int(~)è¿›è¡Œè½¬æ¢ä¸ºæ•´æ•° Pythonä¸­çš„å¾ªçŽ¯æœ‰ä¿©ç§ä¸€ç§æ˜¯forâ€¦inå¾ªçŽ¯ï¼Œä¾æ¬¡æŠŠlistæˆ–tupleä¸­çš„æ¯ä¸ªå…ƒç´ è¿­ä»£å‡ºæ¥ï¼Œçœ‹ä¾‹å­ï¼š 1234sum = 0for x in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]: sum = sum + xprint(sum) å¦‚æžœè¦è®¡ç®—1-100çš„æ•´æ•°ä¹‹å’Œï¼Œä»Ž1å†™åˆ°100æœ‰ç‚¹å›°éš¾ï¼Œå¹¸å¥½Pythonæä¾›ä¸€ä¸ªrange()å‡½æ•°ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œå†é€šè¿‡list()å‡½æ•°å¯ä»¥è½¬æ¢ä¸ºlistã€‚æ¯”å¦‚range(5)ç”Ÿæˆçš„åºåˆ—æ˜¯ä»Ž0å¼€å§‹å°äºŽ5çš„æ•´æ•°ï¼š 12&gt;&gt;&gt; list(range(5))[0, 1, 2, 3, 4] ç¬¬äºŒç§å¾ªçŽ¯æ˜¯whileå¾ªçŽ¯ï¼Œåªè¦æ¡ä»¶æ»¡è¶³ï¼Œå°±ä¸æ–­å¾ªçŽ¯ï¼Œæ¡ä»¶ä¸æ»¡è¶³æ—¶é€€å‡ºå¾ªçŽ¯ã€‚ Pythonå†…ç½®äº†å­—å…¸ï¼šdictçš„æ”¯æŒï¼Œdictå…¨ç§°dictionaryï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿç§°ä¸ºmapï¼Œä½¿ç”¨é”®-å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨ï¼Œå…·æœ‰æžå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚ç”¨Pythonå†™ä¸€ä¸ªdictå¦‚ä¸‹ï¼š 123&gt;&gt;&gt; d = &#123;'Michael': 95, 'Bob': 75, 'Tracy': 85&#125;&gt;&gt;&gt; d['Michael']95 é¿å…keyä¸å­˜åœ¨çš„é”™è¯¯ï¼Œæœ‰ä¸¤ç§åŠžæ³•ï¼Œä¸€æ˜¯é€šè¿‡inåˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ï¼š 12&gt;&gt;&gt; 'Thomas' in dFalse äºŒæ˜¯é€šè¿‡dictæä¾›çš„get()æ–¹æ³•ï¼Œå¦‚æžœkeyä¸å­˜åœ¨ï¼Œå¯ä»¥è¿”å›žNoneï¼Œæˆ–è€…è‡ªå·±æŒ‡å®šçš„valueï¼š 123&gt;&gt;&gt; d.get('Thomas')&gt;&gt;&gt; d.get('Thomas', -1)-1 å’Œlistæ¯”è¾ƒï¼Œdictæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æžå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢žåŠ è€Œå˜æ…¢ï¼› éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤šã€‚ è€Œlistç›¸åï¼š æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢žåŠ è€Œå¢žåŠ ï¼› å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘ã€‚ æ‰€ä»¥ï¼Œdictæ˜¯ç”¨ç©ºé—´æ¥æ¢å–æ—¶é—´çš„ä¸€ç§æ–¹æ³•ã€‚dictå¯ä»¥ç”¨åœ¨éœ€è¦é«˜é€ŸæŸ¥æ‰¾çš„å¾ˆå¤šåœ°æ–¹ã€‚ setå’Œdictç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºŽkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyï¼Œé‡å¤å…ƒç´ è‡ªåŠ¨è¢«è‡ªåŠ¨è¿‡æ»¤ã€‚ | æ·»åŠ å…ƒç´ åˆ°setä¸­ | add(~) || â€”â€”â€”â€”â€” | â€”â€”â€” || åˆ é™¤å…ƒç´  | remove(~) | åœ¨Pythonä¸­ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°è¦ä½¿ç”¨defè¯­å¥ï¼Œä¾æ¬¡å†™å‡ºå‡½æ•°åã€æ‹¬å·ã€æ‹¬å·ä¸­çš„å‚æ•°å’Œå†’å·:ï¼Œç„¶åŽï¼Œåœ¨ç¼©è¿›å—ä¸­ç¼–å†™å‡½æ•°ä½“ï¼Œå‡½æ•°çš„è¿”å›žå€¼ç”¨returnè¯­å¥è¿”å›žã€‚ å®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼šé»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼ 123456def power(x, n=2): s = 1 while n &gt; 0: n = n - 1 s = s * x return s å®šä¹‰å¯å˜å‚æ•°å’Œå®šä¹‰ä¸€ä¸ªlistæˆ–tupleå‚æ•°ç›¸æ¯”ï¼Œä»…ä»…åœ¨å‚æ•°å‰é¢åŠ äº†ä¸€ä¸ª*å·ã€‚ 12345def calc(*numbers): sum = 0 for n in numbers: sum = sum + n * n return sum å¦‚æžœå·²ç»æœ‰ä¸€ä¸ªlistæˆ–è€…tupleï¼Œè¦è°ƒç”¨ä¸€ä¸ªå¯å˜å‚æ•°æ€Žä¹ˆåŠžï¼Ÿå¯ä»¥è¿™æ ·åšï¼š 123&gt;&gt;&gt; nums = [1, 2, 3]&gt;&gt;&gt; calc(*nums)14 *numsè¡¨ç¤ºæŠŠnumsè¿™ä¸ªlistçš„æ‰€æœ‰å…ƒç´ ä½œä¸ºå¯å˜å‚æ•°ä¼ è¿›åŽ»ã€‚è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§ã€‚ ä½¿ç”¨å‘½åå…³é”®å­—å‚æ•°æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æžœæ²¡æœ‰å¯å˜å‚æ•°ï¼Œå°±å¿…é¡»åŠ ä¸€ä¸ª*ä½œä¸ºç‰¹æ®Šåˆ†éš”ç¬¦ã€‚å¦‚æžœç¼ºå°‘*ï¼ŒPythonè§£é‡Šå™¨å°†æ— æ³•è¯†åˆ«ä½ç½®å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ï¼š 123456def person(name, age, *, city='Beijing', job): print(name, age, city, job) ------------------------------------------------------&gt;&gt;&gt; person('Jack', 24, job='Engineer')Jack 24 Beijing Engineer åœ¨Pythonä¸­å®šä¹‰å‡½æ•°æ—¶å¯ä»¥è¿›è¡Œå‚æ•°ç»„åˆï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ï¼Œè¿™5ç§å‚æ•°éƒ½å¯ä»¥ç»„åˆä½¿ç”¨ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚ Pythonæä¾›äº†åˆ‡ç‰‡ï¼ˆSliceï¼‰æ“ä½œç¬¦æ¥èŽ·å–listæˆ–tupleä¸­çš„å‰Nä¸ªå…ƒç´ ï¼š~[0,N] å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡collectionsæ¨¡å—çš„Iterableç±»åž‹åˆ¤æ–­ï¼š 1234567&gt;&gt;&gt; from collections import Iterable&gt;&gt;&gt; isinstance('abc', Iterable) # stræ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance([1,2,3], Iterable) # listæ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance(123, Iterable) # æ•´æ•°æ˜¯å¦å¯è¿­ä»£False å¦‚æžœè¦å¯¹listå®žçŽ°ç±»ä¼¼Javaé‚£æ ·çš„ä¸‹æ ‡å¾ªçŽ¯æ€Žä¹ˆåŠžï¼ŸPythonå†…ç½®çš„enumerateå‡½æ•°å¯ä»¥æŠŠä¸€ä¸ªlistå˜æˆç´¢å¼•-å…ƒç´ å¯¹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨forå¾ªçŽ¯ä¸­åŒæ—¶è¿­ä»£ç´¢å¼•å’Œå…ƒç´ æœ¬èº«ï¼š 123456&gt;&gt;&gt; for i, value in enumerate(['A', 'B', 'C']):... print(i, value)...0 A1 B2 C Pythonæ”¯æŒåœ¨ä¸åˆ›å»ºå®Œæ•´çš„listçš„æƒ…å†µä¸‹ä¸€è¾¹å¾ªçŽ¯ä¸€è¾¹è®¡ç®—ï¼Œè¿™æ ·çš„æœºåˆ¶ç§°ä¸ºç”Ÿæˆå™¨ï¼šgeneratorï¼Œå»ºä¸€ä¸ªgeneratorï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„[]æ”¹æˆ()ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼Œå¯ä»¥é€šè¿‡next()å‡½æ•°èŽ·å¾—generatorçš„ä¸‹ä¸€ä¸ªè¿”å›žå€¼ï¼š 12345&gt;&gt;&gt; g = (x * x for x in range(10))&gt;&gt;&gt; g&lt;generator object &lt;genexpr&gt; at 0x1022ef630&gt;&gt;&gt;&gt; next(g)0 å¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›žä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ï¼šIteratorã€‚ç”Ÿæˆå™¨éƒ½æ˜¯Iteratorå¯¹è±¡ï¼Œä½†listã€dictã€strè™½ç„¶æ˜¯Iterable(å¯è¿­ä»£å¯¹è±¡)ï¼Œå´ä¸æ˜¯Iteratorã€‚æŠŠlistã€dictã€strç­‰Iterableå˜æˆIteratorå¯ä»¥ä½¿ç”¨iter()å‡½æ•°ï¼šiter(&#39;abc&#39;)ã€‚ å› ä¸ºPythonçš„Iteratorå¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•°æ®æµï¼ŒIteratorå¯¹è±¡å¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›žä¸‹ä¸€ä¸ªæ•°æ®ï¼Œç›´åˆ°æ²¡æœ‰æ•°æ®æ—¶æŠ›å‡ºStopIterationé”™è¯¯ã€‚å¯ä»¥æŠŠè¿™ä¸ªæ•°æ®æµçœ‹åšæ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œä½†æˆ‘ä»¬å´ä¸èƒ½æå‰çŸ¥é“åºåˆ—çš„é•¿åº¦ï¼Œåªèƒ½ä¸æ–­é€šè¿‡next()å‡½æ•°å®žçŽ°æŒ‰éœ€è®¡ç®—ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥Iteratorçš„è®¡ç®—æ˜¯æƒ°æ€§çš„ï¼Œåªæœ‰åœ¨éœ€è¦è¿”å›žä¸‹ä¸€ä¸ªæ•°æ®æ—¶å®ƒæ‰ä¼šè®¡ç®—ã€‚ Iteratorç”šè‡³å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ— é™å¤§çš„æ•°æ®æµï¼Œä¾‹å¦‚å…¨ä½“è‡ªç„¶æ•°ã€‚è€Œä½¿ç”¨listæ˜¯æ°¸è¿œä¸å¯èƒ½å­˜å‚¨å…¨ä½“è‡ªç„¶æ•°çš„ã€‚ reduceçš„ç”¨æ³•ï¼šreduceæŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªåºåˆ—[x1,x2,x3,x4,...]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æŽ¥å—ä¿©ä¸ªå‚æ•°ï¼ŒreduceæŠŠç»“æžœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯è®¡è¿ç®—ï¼š 1reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4) Pythonå†…å»ºçš„filter()å‡½æ•°ç”¨äºŽè¿‡æ»¤åºåˆ—ã€‚å’Œmap()ç±»ä¼¼ï¼Œfilter()ä¹ŸæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—ã€‚å’Œmap()ä¸åŒçš„æ˜¯ï¼Œfilter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºŽæ¯ä¸ªå…ƒç´ ï¼Œç„¶åŽæ ¹æ®è¿”å›žå€¼æ˜¯Trueè¿˜æ˜¯Falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªlistä¸­ï¼Œåˆ æŽ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š 12345def is_odd(n): return n % 2 == 1list(filter(is_odd, [1, 2, 4, 5, 6, 9, 10, 15]))# ç»“æžœ: [1, 5, 9, 15] è¿”å›žé—­åŒ…æ—¶ç‰¢è®°ä¸€ç‚¹ï¼šè¿”å›žå‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªçŽ¯å˜é‡ï¼Œæˆ–è€…åŽç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚ åœ¨Pythonä¸­ï¼Œå¯¹åŒ¿åå‡½æ•°æä¾›äº†æœ‰é™æ”¯æŒã€‚è¿˜æ˜¯ä»¥map()å‡½æ•°ä¸ºä¾‹ï¼Œè®¡ç®—f(x)=x2æ—¶ï¼Œé™¤äº†å®šä¹‰ä¸€ä¸ªf(x)çš„å‡½æ•°å¤–ï¼Œè¿˜å¯ä»¥ç›´æŽ¥ä¼ å…¥åŒ¿åå‡½æ•°ï¼š 12&gt;&gt;&gt; list(map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9]))[1, 4, 9, 16, 25, 36, 49, 64, 81] åœ¨Pythonä¸­ï¼Œå®šä¹‰ç±»æ˜¯é€šè¿‡classå…³é”®å­—ï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯ï¼Œç´§æŽ¥ç€æ˜¯(object)ï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯ä»Žå“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„ã€‚ 12class Student(object): pass åœ¨Pythonä¸­ï¼Œå®žä¾‹çš„å˜é‡åå¦‚æžœä»¥__å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—® ç‰¹æ®Šæ–¹æ³•â€__init__â€œå‰åŽåˆ†åˆ«æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼ï¼ï¼ä¹Ÿå°±æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æŽ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½ç”¨__name__ã€__score__è¿™æ ·çš„å˜é‡åã€‚ å¯¹äºŽé™æ€è¯­è¨€ï¼ˆä¾‹å¦‚Javaï¼‰æ¥è¯´ï¼Œå¦‚æžœéœ€è¦ä¼ å…¥Animalç±»åž‹ï¼Œåˆ™ä¼ å…¥çš„å¯¹è±¡å¿…é¡»æ˜¯Animalç±»åž‹æˆ–è€…å®ƒçš„å­ç±»ï¼Œå¦åˆ™ï¼Œå°†æ— æ³•è°ƒç”¨run()æ–¹æ³•ã€‚å¯¹äºŽPythonè¿™æ ·çš„åŠ¨æ€è¯­è¨€æ¥è¯´ï¼Œåˆ™ä¸ä¸€å®šéœ€è¦ä¼ å…¥Animalç±»åž‹ã€‚æˆ‘ä»¬åªéœ€è¦ä¿è¯ä¼ å…¥çš„å¯¹è±¡æœ‰ä¸€ä¸ªrun()æ–¹æ³•å°±å¯ä»¥äº†ã€‚ Pythonä¸­å…è®¸ç»™å®žä¾‹ç»‘å®šä¸€ä¸ªæ²¡æœ‰åœ¨classä¸­å®šä¹‰çš„å±žæ€§æˆ–æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³è¦æŒŸåˆ¶å®žä¾‹çš„å±žæ€§æ—¶ï¼Œå°±éœ€è¦å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„__slots__å˜é‡ï¼Œæ¥é™åˆ¶è¯¥classå®žä¾‹èƒ½æ·»åŠ çš„å±žæ€§ 12class Student(object): __slots__ = ('name', 'age') # ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±žæ€§åç§° Pythonä¸­çš„å¤šè¿›ç¨‹ å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹å¹¶ç­‰å¾…å…¶ç»“æŸï¼Œmultiprocessingæ¨¡å—æä¾›äº†ä¸€ä¸ªProcessç±»æ¥ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹å¯¹è±¡ã€‚ 123456789101112# å¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹å¹¶ç­‰å¾…å…¶ç»“æŸdef run_proc(name): print('Run child process %s (%s)...' % (name, os.getpid()))if __name__ == '__main__': print('Parent Process %s.' % os.getpid()) p = Process(target=run_proc, args=('test',)) print('Child process will start') p.start() p.join() print('Child process end.') å…¶ä¸­join()æ–¹æ³•ç”¨äºŽç­‰å¾…å­è¿›ç¨‹ç»“æŸåœ¨ç»§ç»­å¾€ä¸‹æ‰§è¡Œ åˆ›å»ºè¿›ç¨‹æ± ï¼Œæ‰¹é‡åˆ›å»ºå­è¿›ç¨‹ 1234567891011121314151617def long_time_task(name): print('Run task %s (%s)...' % (name, os.getpid())) start = time.time() time.sleep(random.random() * 3) end = time.time() print('Task %s run %0.2f seconds.' % (name, (end - start)))if __name__ == '__main__': print('Parent process %0.2f seconds.' % os.getpid()) p = Pool(4) for i in range(5): p.apply_async(long_time_task, args=(i,)) print('Waiting for all subprocess done ...') p.close() p.join() print('All subprocess done') è¿™é‡Œæˆ‘è™½ç„¶åˆ›å»ºçš„è¿›ç¨‹æ± æ•°é‡ä¸º4ï¼Œæ‰€ä»¥æƒ³è¦åˆ›å»ºç¬¬äº”ä¸ªå­è¿›ç¨‹æ—¶éœ€è¦ç­‰å¾…å‰é¢æŸä¸ªä»»åŠ¡ç»“æŸæ‰å¯ä»¥æ‰§è¡Œï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆæžœå¦‚ä¸‹ï¼š 12345678910111213Parent process 32496.00 seconds.Waiting for all subprocess done ...Run task 0 (19432)...Run task 1 (42996)...Run task 2 (52964)...Run task 3 (54000)...Task 3 run 1.35 seconds. #Task 3 æ‰§è¡Œå®Œæ¯•ï¼Œç©ºå‡ºè¿›ç¨‹Run task 4 (54000)... #Task 4 æ‰§è¡ŒTask 2 run 1.44 seconds.Task 1 run 1.75 seconds.Task 0 run 2.54 seconds.Task 4 run 1.60 seconds.All subprocess done å¦‚æžœä¸æŒ‡å®šè¿›ç¨‹æ•°å°†é»˜è®¤å¤§å°ä¸ºä¸»æœºçš„CPUæ ¸æ•°ã€‚ è¿›ç¨‹é—´çš„é€šä¿¡ Pthonä¸­çš„multiprocessingæ¨¡å—åŒ…è£…äº†å¯ä»¥å®žçŽ°è¿›ç¨‹é€šä¿¡çš„åº•å±‚æœºåˆ¶ï¼Œæä¾›äº†Queueã€Pipesç­‰å¤šç§æ–¹å¼æ¥äº¤æ¢æ•°æ®ã€‚ 1234567891011121314151617181920212223242526# # è¿›ç¨‹é—´çš„é€šä¿¡def write(q): print('Process to write: %s' % os.getpid()) for value in ['A', 'B', 'C']: print('Put %s to queue...' % value) q.put(value) time.sleep(random.random())def read(q): print('Process to read: %s' % os.getpid()) while True: value = q.get(True) print('Get %s from queue.' % value)if __name__ == '__main__': # çˆ¶è¿›ç¨‹åˆ›å»ºQueueï¼Œå¹¶ä¼ é€’ç»™å„ä¸ªå­è¿›ç¨‹ q = Queue() pw = Process(target=write, args=(q,)) pr = Process(target=read, args=(q,)) # å¯åŠ¨å­è¿›ç¨‹ pw.start() pr.start() pw.join() pr.terminate() è¿™é‡Œçš„ç¨‹åºè¿è¡Œä¹‹åŽä¼šå‘çŽ°æˆ‘ä»¬æ˜¯åœ¨çˆ¶è¿›ç¨‹ä¸­åˆ›å»ºä¸¤ä¸ªå­è¿›ç¨‹ï¼Œä¸€ä¸ªå¾€Queueé‡Œå†™æ•°æ®ï¼Œä¸€ä¸ªä»ŽQueueé‡Œè¯»æ•°æ®ï¼Œè¿™æ ·å°±å®žçŽ°äº†è¿›ç¨‹é—´çš„é€šä¿¡ã€‚ IOç¼–ç¨‹è¯»å†™æ–‡ä»¶æ˜¯æœ€å¸¸è§çš„IOæ“ä½œã€‚Pythonå†…ç½®äº†è¯»å†™æ–‡ä»¶çš„å‡½æ•°ï¼Œç”¨æ³•å’ŒCæ˜¯å…¼å®¹çš„ã€‚ è¯»æ–‡ä»¶ ä½¿ç”¨Pythonå†…ç½®çš„open()å‡½æ•°ï¼Œä¼ å…¥æ–‡ä»¶åä¸Žæ ‡è¯†ç¬¦r 12345678910# æ™®é€šæ•èŽ·IOErrorè¯»æ–‡ä»¶try: f = open('C:/Users/sujunqiang/Desktop/å…¥èŒé‚®ä»¶.txt', 'r') print(f.read())finally: if f: f.close()# withè¯­å¥è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶with open('C:/Users/sujunqiang/Desktop/ç¡¬ä»¶/è“ä¿¡å›¾ç‰‡_0880c08b0110dcb4d408.jpg', 'rb') as f1: print(f1.read()) ç”±äºŽæ–‡ä»¶è¯»å†™æ—¶éƒ½æœ‰å¯èƒ½äº§ç”ŸIOErrorï¼Œä¸€æ—¦å‡ºé”™ï¼ŒåŽé¢çš„f.close()å°±ä¸ä¼šè°ƒç”¨ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯æ— è®ºæ˜¯å¦å‡ºé”™éƒ½èƒ½æ­£ç¡®åœ°å…³é—­æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦æ•èŽ·ä»–çš„å¼‚å¸¸å’Œæœ€ç»ˆæ‰§è¡Œf.close()ï¼›Pythonå¼•å…¥äº†withè¯­å¥æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨close()æ–¹æ³•ã€‚ å†™æ–‡ä»¶ å†™æ–‡ä»¶ä¸Žè¯»æ–‡ä»¶æ˜¯ä¸€æ ·çš„åªæ˜¯æ ‡è¯†ç¬¦æ”¹ä¸ºäº†wå¦‚æžœæƒ³åœ¨æ–‡ä»¶åŽé¢è¿½åŠ å†…å®¹åˆ™æ ‡è¯†ç¬¦ä¸ºa 123# withè¯­å¥å†™æ–‡ä»¶ with open('C:/Users/sujunqiang/Desktop/å…¥èŒé‚®ä»¶.txt', 'a') as f2: f2.write('æµ‹è¯•å†™å…¥') StringIOå’ŒBytesIO StringIO å¾ˆå¤šæ—¶å€™ï¼Œæ•°æ®è¯»å†™ä¸ä¸€å®šæ˜¯æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨å†…å­˜ä¸­è¯»å†™ã€‚StringIOé¡¾åæ€ä¹‰å°±æ˜¯åœ¨å†…å­˜ä¸­è¯»å†™strã€‚è¦æŠŠstrå†™å…¥StringIOï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªStringIOï¼Œç„¶åŽï¼Œåƒæ–‡ä»¶ä¸€æ ·å†™å…¥å³å¯ã€‚ 123456789f = StringIO() f.write('Hello StringIO') print(f.getvalue()) f1 = StringIO('Hello \n Hi \n ä½ å¥½') while True: s = f1.readline() if s == '': break print(s.strip()) å…¶ä¸­getvalue()æ–¹æ³•ç”¨äºŽèŽ·å¾—å†™å…¥åŽçš„strï¼Œwrite()å†™å…¥æ•°æ®ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥åˆå§‹åŒ–StringIOï¼Œ f1 = StringIO(&#39;Hello \n Hi \n ä½ å¥½&#39;) BytesIO StringIOæ“ä½œçš„åªèƒ½æ˜¯strï¼Œå¦‚æžœè¦æ“ä½œäºŒè¿›åˆ¶æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨BytesIOã€‚ 123f3 = BytesIO('ä¸­æ–‡'.encode('utf-8')) # f3.write('ä¸­æ–‡'.encode('utf-8')) print(f3.getvalue()) Pythonçš„å¼‚æ­¥IOPythonå¯¹åç¨‹çš„æ”¯æŒæ˜¯é€šè¿‡generatorå®žçŽ°çš„ã€‚ åœ¨generatorä¸­ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥é€šè¿‡forå¾ªçŽ¯æ¥è¿­ä»£ï¼Œè¿˜å¯ä»¥ä¸æ–­è°ƒç”¨next()å‡½æ•°èŽ·å–ç”±yieldè¯­å¥è¿”å›žçš„ä¸‹ä¸€ä¸ªå€¼ã€‚ ä½†æ˜¯Pythonçš„yieldä¸ä½†å¯ä»¥è¿”å›žä¸€ä¸ªå€¼ï¼Œå®ƒè¿˜å¯ä»¥æŽ¥æ”¶è°ƒç”¨è€…å‘å‡ºçš„å‚æ•°ã€‚ 1234567891011121314151617181920212223def consumer(): r = '' while True: n = yield r if not n: return print('[CONSUMER] Consuming %s ...' % n) r = '200 OK'def produce(c): c.send(None) n = 0 while n &lt; 5: n = n + 1 print('[PRODUCER] Producing %s...' % (n)) r = c.send(n) print('[PRODUCER] Consumer return: %s' % r) c.close()c = consumer()produce(c) æ³¨æ„åˆ°consumerå‡½æ•°æ˜¯ä¸€ä¸ªgeneratorï¼ŒæŠŠä¸€ä¸ªconsumerä¼ å…¥produceåŽï¼š é¦–å…ˆè°ƒç”¨c.send(None)å¯åŠ¨ç”Ÿæˆå™¨ï¼› ç„¶åŽï¼Œä¸€æ—¦ç”Ÿäº§äº†ä¸œè¥¿ï¼Œé€šè¿‡c.send(n)åˆ‡æ¢åˆ°consumeræ‰§è¡Œï¼› consumeré€šè¿‡yieldæ‹¿åˆ°æ¶ˆæ¯ï¼Œå¤„ç†ï¼Œåˆé€šè¿‡yieldæŠŠç»“æžœä¼ å›žï¼› produceæ‹¿åˆ°consumerå¤„ç†çš„ç»“æžœï¼Œç»§ç»­ç”Ÿäº§ä¸‹ä¸€æ¡æ¶ˆæ¯ï¼› produceå†³å®šä¸ç”Ÿäº§äº†ï¼Œé€šè¿‡c.close()å…³é—­consumerï¼Œæ•´ä¸ªè¿‡ç¨‹ç»“æŸã€‚ asyncio asyncioçš„ç¼–ç¨‹æ¨¡åž‹å°±æ˜¯ä¸€ä¸ªæ¶ˆæ¯å¾ªçŽ¯ã€‚æˆ‘ä»¬ä»Žasyncioæ¨¡å—ä¸­ç›´æŽ¥èŽ·å–ä¸€ä¸ªEventLoopçš„å¼•ç”¨ï¼Œç„¶åŽæŠŠéœ€è¦æ‰§è¡Œçš„åç¨‹æ‰”åˆ°EventLoopä¸­æ‰§è¡Œï¼Œå°±å®žçŽ°äº†å¼‚æ­¥IOã€‚ 1234567891011121314151617import asyncioimport threading@asyncio.coroutinedef hello(): print('Hello world! (%s)' % threading.currentThread()) yield from asyncio.sleep(1) print('Hello again! (%s)' % threading.currentThread())# èŽ·å–EventLoop:loop = asyncio.get_event_loop()tasks = [hello(), hello()]# æ‰§è¡Œcoroutineloop.run_until_complete(asyncio.wait(tasks))loop.close() è¾“å‡ºï¼š 12345Hello world! (&lt;_MainThread(MainThread, started 61596)&gt;)Hello world! (&lt;_MainThread(MainThread, started 61596)&gt;)# æš‚åœ1ç§’Hello again! (&lt;_MainThread(MainThread, started 61596)&gt;)Hello again! (&lt;_MainThread(MainThread, started 61596)&gt;) ç”±æ‰“å°çš„å½“å‰çº¿ç¨‹åç§°å¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªcoroutineæ˜¯ç”±åŒä¸€ä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„ã€‚ç¬¬ä¸€ä¸ªhello()ä¼šé¦–å…ˆæ‰“å°å‡ºHello world!ï¼Œç„¶åŽï¼Œyield fromè¯­æ³•å¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿åœ°è°ƒç”¨å¦ä¸€ä¸ªgeneratorã€‚ç”±äºŽasyncio.sleep()ä¹Ÿæ˜¯ä¸€ä¸ªcoroutineï¼Œæ‰€ä»¥çº¿ç¨‹ä¸ä¼šç­‰å¾…asyncio.sleep()ï¼Œè€Œæ˜¯ç›´æŽ¥ä¸­æ–­å¹¶æ‰§è¡Œä¸‹ä¸€ä¸ªæ¶ˆæ¯å¾ªçŽ¯ã€‚å½“asyncio.sleep()è¿”å›žæ—¶ï¼Œçº¿ç¨‹å°±å¯ä»¥ä»Žyield fromæ‹¿åˆ°è¿”å›žå€¼ï¼ˆæ­¤å¤„æ˜¯Noneï¼‰ï¼Œç„¶åŽæŽ¥ç€æ‰§è¡Œä¸‹ä¸€è¡Œè¯­å¥ã€‚ æŠŠasyncio.sleep(1)çœ‹æˆæ˜¯ä¸€ä¸ªè€—æ—¶1ç§’çš„IOæ“ä½œï¼Œåœ¨æ­¤æœŸé—´ï¼Œä¸»çº¿ç¨‹å¹¶æœªç­‰å¾…ï¼Œè€Œæ˜¯åŽ»æ‰§è¡ŒEventLoopä¸­å¦ä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„coroutineäº†ï¼Œå› æ­¤å¯ä»¥å®žçŽ°å¹¶å‘æ‰§è¡Œã€‚ async/await ç”¨asyncioæä¾›çš„`@asyncio.coroutineå¯ä»¥æŠŠä¸€ä¸ªgeneratoræ ‡è®°ä¸ºcoroutineç±»åž‹ï¼Œç„¶åŽåœ¨coroutineå†…éƒ¨ç”¨yield from`è°ƒç”¨å¦ä¸€ä¸ªcoroutineå®žçŽ°å¼‚æ­¥æ“ä½œã€‚ ä¸ºäº†ç®€åŒ–å¹¶æ›´å¥½åœ°æ ‡è¯†å¼‚æ­¥IOï¼Œä»ŽPython 3.5å¼€å§‹å¼•å…¥äº†æ–°çš„è¯­æ³•asyncå’Œawaitï¼Œasyncå’Œawaitæ˜¯é’ˆå¯¹coroutineçš„æ–°è¯­æ³•ï¼Œè¦ä½¿ç”¨æ–°çš„è¯­æ³•ï¼Œåªéœ€è¦åšä¸¤æ­¥ç®€å•çš„æ›¿æ¢ï¼š æŠŠ`@asyncio.coroutineæ›¿æ¢ä¸ºasync`ï¼› æŠŠyield fromæ›¿æ¢ä¸ºawaitã€‚ 12345678910111213141516import asyncioimport threadingasync def hello(): print('Hello world! (%s)' % threading.currentThread()) await asyncio.sleep(1) print('Hello again! (%s)' % threading.currentThread())# èŽ·å–EventLoop:loop = asyncio.get_event_loop()tasks = [hello(), hello()]# æ‰§è¡Œcoroutineloop.run_until_complete(asyncio.wait(tasks))loop.close()]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IPXEçŽ¯å¢ƒDockeråŒ–]]></title>
    <url>%2F2020%2F08%2F25%2FIPXE%E7%8E%AF%E5%A2%83Docker%E5%8C%96%2F</url>
    <content type="text"><![CDATA[IPXEçŽ¯å¢ƒDockeråŒ–åˆè¯†Docker1.å®‰è£…Dockerè¿™é‡Œçš„å®¿ä¸»æœºçŽ¯å¢ƒä¸ºCentOS7.5 å¸è½½æ—§ç‰ˆæœ¬ 12345678910$ yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-selinux \ docker-engine-selinux \ docker-engine æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–åŒ… 123$ yum install -y yum-utils \ device-mapper-persistent-data \ lvm2 ä¸‹é¢çš„å‘½ä»¤æ·»åŠ  yum è½¯ä»¶æº 12345678910$ sudo yum-config-manager \ --add-repo \ https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo$ sudo sed -i 's/download.docker.com/mirrors.ustc.edu.cn\/docker-ce/g' /etc/yum.repos.d/docker-ce.repo# å®˜æ–¹æº# $ sudo yum-config-manager \# --add-repo \# https://download.docker.com/linux/centos/docker-ce.repo æ›´æ–° yum è½¯ä»¶æºç¼“å­˜ï¼Œå¹¶å®‰è£… docker-ce 12$ sudo yum makecache fast$ sudo yum install docker-ce å¯åŠ¨ Docker CE 12$ sudo systemctl enable docker$ sudo systemctl start docker å»ºç«‹ docker ç”¨æˆ·ç»„ 1234#å»ºç«‹ docker ç»„ï¼š$ sudo groupadd docker#å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„ï¼š$ sudo usermod -aG docker $USER æµ‹è¯• Docker æ˜¯å¦å®‰è£…æ­£ç¡® 123456789101112131415161718192021222324252627[root@localhost ~]# docker run hello-worldUnable to find image 'hello-world:latest' locallylatest: Pulling from library/hello-world0e03bdcc26d7: Pull complete Digest: sha256:7f0a9f93b4aa3022c3a4c147a449bf11e0941a1fd0bf4a8e6c9408b2600777c5Status: Downloaded newer image for hello-world:latestHello from Docker!This message shows that your installation appears to be working correctly.To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the "hello-world" image from the Docker Hub. (amd64) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal.To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bashShare images, automate workflows, and more with a free Docker ID: https://hub.docker.com/For more examples and ideas, visit: https://docs.docker.com/get-started/ 2.èŽ·å–é•œåƒ é€šè¿‡ä»¥ä¸‹å‘½ä»¤èŽ·å–ç‰ˆæœ¬ä¿¡æ¯ 12[root@localhost ~]# cat /etc/redhat-release CentOS Linux release 7.5.1804 (Core) ä»Ž Docker é•œåƒä»“åº“èŽ·å–é•œåƒ 123456[root@localhost ~]# docker pull centos:7.5.18047.5.1804: Pulling from library/centos5ad559c5ae16: Pull complete Digest: sha256:7a45e4a1efbaafc1d9aa89925b6fdb33288a96d35ea0581412316e2f0ad3720aStatus: Downloaded newer image for centos:7.5.1804docker.io/library/centos:7.5.1804 ä»¥è¿™ä¸ªé•œåƒä¸ºåŸºç¡€è¿è¡Œä¸€ä¸ªå®¹å™¨ 12345678910111213141516171819# è¿è¡Œå®¹å™¨[root@localhost home]# docker run -it --rm centos:7.5.1804 bash#æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬[root@a64f538e2e9a /]# cat /etc/os-releaseNAME="CentOS Linux"VERSION="7 (Core)"ID="centos"ID_LIKE="rhel fedora"VERSION_ID="7"PRETTY_NAME="CentOS Linux 7 (Core)"ANSI_COLOR="0;31"CPE_NAME="cpe:/o:centos:centos:7"HOME_URL="https://www.centos.org/"BUG_REPORT_URL="https://bugs.centos.org/"CENTOS_MANTISBT_PROJECT="CentOS-7"CENTOS_MANTISBT_PROJECT_VERSION="7"REDHAT_SUPPORT_PRODUCT="centos"REDHAT_SUPPORT_PRODUCT_VERSION="7" -itï¼šè¿™æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ -iï¼šäº¤äº’å¼æ“ä½œï¼Œä¸€ä¸ªæ˜¯ -t ç»ˆç«¯ã€‚æˆ‘ä»¬è¿™é‡Œæ‰“ç®—è¿›å…¥ bash æ‰§è¡Œä¸€äº›å‘½ä»¤å¹¶æŸ¥çœ‹è¿”å›žç»“æžœï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äº¤äº’å¼ç»ˆç«¯ã€‚ --rmï¼šè¿™ä¸ªå‚æ•°æ˜¯è¯´å®¹å™¨é€€å‡ºåŽéšä¹‹å°†å…¶åˆ é™¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æŽ’éšœéœ€æ±‚ï¼Œé€€å‡ºçš„å®¹å™¨å¹¶ä¸ä¼šç«‹å³åˆ é™¤ï¼Œé™¤éžæ‰‹åŠ¨ docker rmã€‚æˆ‘ä»¬è¿™é‡Œåªæ˜¯éšä¾¿æ‰§è¡Œä¸ªå‘½ä»¤ï¼Œçœ‹çœ‹ç»“æžœï¼Œä¸éœ€è¦æŽ’éšœå’Œä¿ç•™ç»“æžœï¼Œå› æ­¤ä½¿ç”¨ --rm å¯ä»¥é¿å…æµªè´¹ç©ºé—´ã€‚ centos:7.5.1804ï¼šè¿™æ˜¯æŒ‡ç”¨ centos:7.5.1804 é•œåƒä¸ºåŸºç¡€æ¥å¯åŠ¨å®¹å™¨ã€‚ bashï¼šæ”¾åœ¨é•œåƒååŽçš„æ˜¯ å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªäº¤äº’å¼ Shellï¼Œå› æ­¤ç”¨çš„æ˜¯ bashã€‚ æŸ¥çœ‹é•œåƒåˆ—è¡¨ 1234[root@localhost home]# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEhello-world latest bf756fb1ae65 7 months ago 13.3kBcentos 7.5.1804 cf49811e3cdb 17 months ago 200MB åˆ é™¤é•œåƒ 123456789101112131415161718#é¦–å…ˆï¼Œåˆ é™¤å®¹å™¨åç§°[root@localhost home]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES2258ea78efdb hello-world "/hello" 36 minutes ago Exited (0) 36 minutes ago intelligent_kare[root@localhost home]# docker rm intelligent_kareintelligent_kare[root@localhost home]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES[root@localhost home]# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEhello-world latest bf756fb1ae65 7 months ago 13.3kBcentos 7.5.1804 cf49811e3cdb 17 months ago 200MB#å…¶æ¬¡ï¼Œå–å‡ºå®¹å™¨[root@localhost home]# docker rmi hello-worldUntagged: hello-world:latestUntagged: hello-world@sha256:7f0a9f93b4aa3022c3a4c147a449bf11e0941a1fd0bf4a8e6c9408b2600777c5Deleted: sha256:bf756fb1ae65adf866bd8c456593cd24beb6a0a061dedf42b26a993176745f6bDeleted: sha256:9c27e219663c25e0f28493790cc0b88bc973ba3b1686355f221c38a36978ac63 åœ¨dockerä¸­ä½¿ç”¨systemctlæ¥ç®¡ç†æœåŠ¡ 1234567# å°è¯•è¿™æ ·å¯åŠ¨å®¹å™¨â€“-privileged=trueå‚æ•°ï¼Œè¡¨ç¤ºå®¹å™¨æ‹¥æœ‰rootæƒé™[root@localhost ~]# docker run -it --privileged centos-ipxe:v1 /usr/sbin/init# è¿™æ ·è¿›å…¥å®¹å™¨çš„bash[root@localhost ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES91c2387e0241 centos-ipxe:v1 "/usr/sbin/init" 24 seconds ago Up 24 seconds affectionate_solomon[root@localhost ~]# docker exec -i -t 91c2387e0241 bash æ“ä½œå®¹å™¨ åˆ—å‡ºæ‰€æœ‰çš„å®¹å™¨ ID 1docker ps -aq åœæ­¢æ‰€æœ‰çš„å®¹å™¨ 1docker stop $(docker ps -aq) åˆ é™¤æ‰€æœ‰çš„å®¹å™¨ 1docker rm $(docker ps -aq) åˆ é™¤æ‰€æœ‰çš„é•œåƒ 1docker rmi $(docker images -q) å¤åˆ¶æ–‡ä»¶ 12docker cp mycontainer:/opt/file.txt /opt/local/docker cp /opt/local/file.txt mycontainer:/opt/ æŸ¥çœ‹dockerå¯åŠ¨å¤±è´¥çš„æ—¥å¿— 1docker logs ae2a84920946 DockerFileå®šåˆ¶é•œåƒ1.DockerFileå¸¸ç”¨æŒ‡ä»¤è¯¦è§£ FROM æŒ‡å®šåŸºç¡€é•œåƒ æ‰€è°“å®šåˆ¶é•œåƒï¼Œé‚£ä¸€å®šæ˜¯ä»¥ä¸€ä¸ªé•œåƒä¸ºåŸºç¡€ï¼Œåœ¨å…¶ä¸Šè¿›è¡Œå®šåˆ¶ã€‚å°±åƒæˆ‘ä»¬ä¹‹å‰è¿è¡Œäº†ä¸€ä¸ª nginx é•œåƒçš„å®¹å™¨ï¼Œå†è¿›è¡Œä¿®æ”¹ä¸€æ ·ï¼ŒåŸºç¡€é•œåƒæ˜¯å¿…é¡»æŒ‡å®šçš„ã€‚è€Œ FROM å°±æ˜¯æŒ‡å®š åŸºç¡€é•œåƒï¼Œå› æ­¤ä¸€ä¸ª Dockerfile ä¸­ FROM æ˜¯å¿…å¤‡çš„æŒ‡ä»¤ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚ 12From centos:7.5.1804...... RUN æ‰§è¡Œå‘½ä»¤ RUN æŒ‡ä»¤æ˜¯ç”¨æ¥æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤çš„ã€‚ç”±äºŽå‘½ä»¤è¡Œçš„å¼ºå¤§èƒ½åŠ›ï¼ŒRUN æŒ‡ä»¤åœ¨å®šåˆ¶é•œåƒæ—¶æ˜¯æœ€å¸¸ç”¨çš„æŒ‡ä»¤ä¹‹ä¸€ã€‚å…¶æ ¼å¼æœ‰ä¸¤ç§ï¼š shell æ ¼å¼ï¼šRUN &lt;å‘½ä»¤&gt;ï¼Œå°±åƒç›´æŽ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥çš„å‘½ä»¤ä¸€æ ·ã€‚åˆšæ‰å†™çš„ Dockerfile ä¸­çš„ RUN æŒ‡ä»¤å°±æ˜¯è¿™ç§æ ¼å¼ã€‚ 1RUN yum install -y ipxe-bootimgs dnsmasq --nogpgcheck exec æ ¼å¼ï¼šRUN [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;]ï¼Œè¿™æ›´åƒæ˜¯å‡½æ•°è°ƒç”¨ä¸­çš„æ ¼å¼ã€‚ 123456RUN yum install -y xinetd tftp-server tftp ipxe-bootimgs --nogpgcheck \ &amp;&amp; mkdir /var/lib/tftpboot/images \ &amp;&amp; cp /usr/share/ipxe/undionly.kpxe /var/lib/tftpboot/ \ &amp;&amp; cp /usr/share/ipxe/ipxe.efi /var/lib/tftpboot/ \ &amp;&amp; mkdir /var/lib/tftpboot/menu \ &amp;&amp; touch /var/lib/tftpboot/menu/boot.ipxe COPYå¤åˆ¶æ–‡ä»¶ æ ¼å¼COPY [--chown=&lt;user&gt;:&lt;group&gt;] &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt; 1COPY ./start.sh /root/ ADDæ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶ ADD æŒ‡ä»¤å’Œ COPY çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ã€‚ä½†æ˜¯åœ¨ COPY åŸºç¡€ä¸Šå¢žåŠ äº†ä¸€äº›åŠŸèƒ½ã€‚æ¯”å¦‚ &lt;æºè·¯å¾„&gt; å¯ä»¥æ˜¯ä¸€ä¸ª URLï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒDocker å¼•æ“Žä¼šè¯•å›¾åŽ»ä¸‹è½½è¿™ä¸ªé“¾æŽ¥çš„æ–‡ä»¶æ”¾åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; åŽ»ã€‚å¦‚æžœ &lt;æºè·¯å¾„&gt; ä¸ºä¸€ä¸ª tar åŽ‹ç¼©æ–‡ä»¶çš„è¯ï¼ŒåŽ‹ç¼©æ ¼å¼ä¸º gzip, bzip2 ä»¥åŠ xz çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£åŽ‹ç¼©è¿™ä¸ªåŽ‹ç¼©æ–‡ä»¶åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; åŽ»ã€‚ 1ADD --chown=55:mygroup files* /mydir/ å› æ­¤åœ¨ COPY å’Œ ADD æŒ‡ä»¤ä¸­é€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¥éµå¾ªè¿™æ ·çš„åŽŸåˆ™ï¼Œæ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶å‡ä½¿ç”¨ COPY æŒ‡ä»¤ï¼Œä»…åœ¨éœ€è¦è‡ªåŠ¨è§£åŽ‹ç¼©çš„åœºåˆä½¿ç”¨ ADDã€‚ CMD å®¹å™¨å¯åŠ¨å‘½ä»¤ CMD æŒ‡ä»¤çš„æ ¼å¼å’Œ CRUN ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä¸¤ç§æ ¼å¼ï¼š shell æ ¼å¼ï¼šCMD &lt;å‘½ä»¤&gt; exec æ ¼å¼ï¼šCMD [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...] 1CMD service nginx start ENTRYPOINT å…¥å£ç‚¹ ENTRYPOINT çš„ç›®çš„å’Œ CMD ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•°ã€‚ENTRYPOINT åœ¨è¿è¡Œæ—¶ä¹Ÿå¯ä»¥æ›¿ä»£ï¼Œä¸è¿‡æ¯” CMD è¦ç•¥æ˜¾ç¹çï¼Œéœ€è¦é€šè¿‡ docker run çš„å‚æ•° --entrypoint æ¥æŒ‡å®šã€‚ å½“æŒ‡å®šäº† ENTRYPOINT åŽï¼ŒCMD çš„å«ä¹‰å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¸å†æ˜¯ç›´æŽ¥çš„è¿è¡Œå…¶å‘½ä»¤ï¼Œè€Œæ˜¯å°† CMD çš„å†…å®¹ä½œä¸ºå‚æ•°ä¼ ç»™ ENTRYPOINT æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´å®žé™…æ‰§è¡Œæ—¶ï¼Œå°†å˜ä¸ºï¼š 1&lt;ENTRYPOINT&gt; "&lt;CMD&gt;" ENV è®¾ç½®çŽ¯å¢ƒå˜é‡ æ ¼å¼æœ‰ä¸¤ç§ï¼š ENV &lt;key&gt; &lt;value&gt; ENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;... å®šä¹‰äº†çŽ¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆåœ¨åŽç»­çš„æŒ‡ä»¤ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªçŽ¯å¢ƒå˜é‡ã€‚æ¯”å¦‚åœ¨å®˜æ–¹ node é•œåƒ Dockerfile ä¸­ï¼Œå°±æœ‰ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š 123456789ENV NODE_VERSION 7.2.0RUN curl -SLO "https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-x64.tar.xz" \ &amp;&amp; curl -SLO "https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc" \ &amp;&amp; gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc \ &amp;&amp; grep " node-v$NODE_VERSION-linux-x64.tar.xz\$" SHASUMS256.txt | sha256sum -c - \ &amp;&amp; tar -xJf "node-v$NODE_VERSION-linux-x64.tar.xz" -C /usr/local --strip-components=1 \ &amp;&amp; rm "node-v$NODE_VERSION-linux-x64.tar.xz" SHASUMS256.txt.asc SHASUMS256.txt \ &amp;&amp; ln -s /usr/local/bin/node /usr/local/bin/nodejs ARG æž„å»ºå‚æ•° æ ¼å¼ï¼šARG &lt;å‚æ•°å&gt;[=&lt;é»˜è®¤å€¼&gt;] æž„å»ºå‚æ•°å’Œ ENV çš„æ•ˆæžœä¸€æ ·ï¼Œéƒ½æ˜¯è®¾ç½®çŽ¯å¢ƒå˜é‡ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼ŒARG æ‰€è®¾ç½®çš„æž„å»ºçŽ¯å¢ƒçš„çŽ¯å¢ƒå˜é‡ï¼Œåœ¨å°†æ¥å®¹å™¨è¿è¡Œæ—¶æ˜¯ä¸ä¼šå­˜åœ¨è¿™äº›çŽ¯å¢ƒå˜é‡çš„ã€‚ä½†æ˜¯ä¸è¦å› æ­¤å°±ä½¿ç”¨ ARG ä¿å­˜å¯†ç ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå› ä¸º docker history è¿˜æ˜¯å¯ä»¥çœ‹åˆ°æ‰€æœ‰å€¼çš„ã€‚ EXPOSE æš´éœ²ç«¯å£ æ ¼å¼ä¸º EXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]ã€‚ EXPOSE æŒ‡ä»¤æ˜¯å£°æ˜Žè¿è¡Œæ—¶å®¹å™¨æä¾›æœåŠ¡ç«¯å£ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå£°æ˜Žï¼Œåœ¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜Žåº”ç”¨å°±ä¼šå¼€å¯è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚åœ¨ Dockerfile ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜Žæœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ï¼›å¦ä¸€ä¸ªç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ docker run -P æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ EXPOSE çš„ç«¯å£ã€‚ WORKDIR æŒ‡å®šå·¥ä½œç›®å½• æ ¼å¼ä¸º WORKDIR &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;ã€‚ ä½¿ç”¨ WORKDIR æŒ‡ä»¤å¯ä»¥æ¥æŒ‡å®šå·¥ä½œç›®å½•ï¼ˆæˆ–è€…ç§°ä¸ºå½“å‰ç›®å½•ï¼‰ï¼Œä»¥åŽå„å±‚çš„å½“å‰ç›®å½•å°±è¢«æ”¹ä¸ºæŒ‡å®šçš„ç›®å½•ï¼Œå¦‚è¯¥ç›®å½•ä¸å­˜åœ¨ï¼ŒWORKDIR ä¼šå¸®ä½ å»ºç«‹ç›®å½•ã€‚ USER æŒ‡å®šå½“å‰ç”¨æˆ· æ ¼å¼ï¼šUSER &lt;ç”¨æˆ·å&gt;[:&lt;ç”¨æˆ·ç»„&gt;] USER æŒ‡ä»¤å’Œ WORKDIR ç›¸ä¼¼ï¼Œéƒ½æ˜¯æ”¹å˜çŽ¯å¢ƒçŠ¶æ€å¹¶å½±å“ä»¥åŽçš„å±‚ã€‚WORKDIR æ˜¯æ”¹å˜å·¥ä½œç›®å½•ï¼ŒUSER åˆ™æ˜¯æ”¹å˜ä¹‹åŽå±‚çš„æ‰§è¡Œ RUN, CMD ä»¥åŠ ENTRYPOINT è¿™ç±»å‘½ä»¤çš„èº«ä»½ã€‚ 2.æž„å»ºé•œåƒæˆ‘ä»¬ä½¿ç”¨äº†docker build å‘½ä»¤è¿›è¡Œé•œåƒæž„å»ºã€‚å…¶æ ¼å¼ä¸ºï¼š 123docker build [é€‰é¡¹] &lt;ä¸Šä¸‹æ–‡è·¯å¾„/URL/-&gt;####################ä¸¾ä¾‹###########################docker build -t ipxe-server:v1 . å¦‚æžœæ³¨æ„ï¼Œä¼šçœ‹åˆ° docker build å‘½ä»¤æœ€åŽæœ‰ä¸€ä¸ª .ã€‚. è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œè€Œ Dockerfile å°±åœ¨å½“å‰ç›®å½•ï¼Œå› æ­¤ä¸å°‘åˆå­¦è€…ä»¥ä¸ºè¿™ä¸ªè·¯å¾„æ˜¯åœ¨æŒ‡å®š Dockerfile æ‰€åœ¨è·¯å¾„ï¼Œè¿™ä¹ˆç†è§£å…¶å®žæ˜¯ä¸å‡†ç¡®çš„ã€‚å¦‚æžœå¯¹åº”ä¸Šé¢çš„å‘½ä»¤æ ¼å¼ï¼Œä½ å¯èƒ½ä¼šå‘çŽ°ï¼Œè¿™æ˜¯åœ¨æŒ‡å®š ä¸Šä¸‹æ–‡è·¯å¾„ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œåº”è¯¥ä¼šå°† Dockerfile ç½®äºŽä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œæˆ–è€…é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚å¦‚æžœè¯¥ç›®å½•ä¸‹æ²¡æœ‰æ‰€éœ€æ–‡ä»¶ï¼Œé‚£ä¹ˆåº”è¯¥æŠŠæ‰€éœ€æ–‡ä»¶å¤åˆ¶ä¸€ä»½è¿‡æ¥ã€‚å¦‚æžœç›®å½•ä¸‹æœ‰äº›ä¸œè¥¿ç¡®å®žä¸å¸Œæœ›æž„å»ºæ—¶ä¼ ç»™ Docker å¼•æ“Žï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ .gitignore ä¸€æ ·çš„è¯­æ³•å†™ä¸€ä¸ª .dockerignoreï¼Œè¯¥æ–‡ä»¶æ˜¯ç”¨äºŽå‰”é™¤ä¸éœ€è¦ä½œä¸ºä¸Šä¸‹æ–‡ä¼ é€’ç»™ Docker å¼•æ“Žçš„ã€‚ é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šæœ‰äººè¯¯ä»¥ä¸º . æ˜¯æŒ‡å®š Dockerfile æ‰€åœ¨ç›®å½•å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æžœä¸é¢å¤–æŒ‡å®š Dockerfile çš„è¯ï¼Œä¼šå°†ä¸Šä¸‹æ–‡ç›®å½•ä¸‹çš„åä¸º Dockerfile çš„æ–‡ä»¶ä½œä¸º Dockerfileã€‚ è¿™åªæ˜¯é»˜è®¤è¡Œä¸ºï¼Œå®žé™…ä¸Š Dockerfile çš„æ–‡ä»¶åå¹¶ä¸è¦æ±‚å¿…é¡»ä¸º Dockerfileï¼Œè€Œä¸”å¹¶ä¸è¦æ±‚å¿…é¡»ä½äºŽä¸Šä¸‹æ–‡ç›®å½•ä¸­ï¼Œæ¯”å¦‚å¯ä»¥ç”¨ -f ../Dockerfile.php å‚æ•°æŒ‡å®šæŸä¸ªæ–‡ä»¶ä½œä¸º Dockerfileã€‚ å½“ç„¶ï¼Œä¸€èˆ¬å¤§å®¶ä¹ æƒ¯æ€§çš„ä¼šä½¿ç”¨é»˜è®¤çš„æ–‡ä»¶å Dockerfileï¼Œä»¥åŠä¼šå°†å…¶ç½®äºŽé•œåƒæž„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­ã€‚ 3.è¿è¡Œé•œåƒdocker run ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ è¯­æ³• 1docker run [OPTIONS] IMAGE [COMMAND] [ARG...] OPTIONSè¯´æ˜Žï¼š -a stdin: æŒ‡å®šæ ‡å‡†è¾“å…¥è¾“å‡ºå†…å®¹ç±»åž‹ï¼Œå¯é€‰ STDIN/STDOUT/STDERR ä¸‰é¡¹ï¼› -d: åŽå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›žå®¹å™¨IDï¼› -i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸Ž -t åŒæ—¶ä½¿ç”¨ï¼› -P: éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£ -p: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£ -t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸Ž -i åŒæ—¶ä½¿ç”¨ï¼› â€“name=â€nginx-lbâ€: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼› â€“dns 8.8.8.8: æŒ‡å®šå®¹å™¨ä½¿ç”¨çš„DNSæœåŠ¡å™¨ï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼› â€“dns-search example.com: æŒ‡å®šå®¹å™¨DNSæœç´¢åŸŸåï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼› -h â€œmarsâ€: æŒ‡å®šå®¹å™¨çš„hostnameï¼› -e username=â€ritchieâ€: è®¾ç½®çŽ¯å¢ƒå˜é‡ï¼› â€“env-file=[]: ä»ŽæŒ‡å®šæ–‡ä»¶è¯»å…¥çŽ¯å¢ƒå˜é‡ï¼› â€“cpuset=â€0-2â€ or â€“cpuset=â€0,1,2â€: ç»‘å®šå®¹å™¨åˆ°æŒ‡å®šCPUè¿è¡Œï¼› -m : è®¾ç½®å®¹å™¨ä½¿ç”¨å†…å­˜æœ€å¤§å€¼ï¼› â€“net=â€bridgeâ€: æŒ‡å®šå®¹å™¨çš„ç½‘ç»œè¿žæŽ¥ç±»åž‹ï¼Œæ”¯æŒ bridge/host/none/container: å››ç§ç±»åž‹ï¼› â€“link=[]: æ·»åŠ é“¾æŽ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨ï¼› â€“expose=[]: å¼€æ”¾ä¸€ä¸ªç«¯å£æˆ–ä¸€ç»„ç«¯å£ï¼› â€“volume , -v: ç»‘å®šä¸€ä¸ªå· â€“restart=always åœ¨å®¹å™¨å·²ç»stopæŽ‰æˆ–Docker stoped/restartedçš„æ—¶å€™é‡å¯å®¹å™¨ â€“privileged=true ä½¿ç”¨è¯¥å‚æ•°containerå†…çš„rootæ‹¥æœ‰çœŸæ­£çš„rootæƒé™ã€‚ 4.å¯¼å…¥/å¯¼å‡ºé•œåƒ123456789####################å¯¼å‡º########################[root@localhost ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESa0a7ceb5e3d8 ipxe-server:v1 "/bin/bash -c /root/â€¦" 14 hours ago Up 14 hours ipxe-server[root@localhost ~]# docker export a0a7ceb5e3d8 &gt; ipxe.tar####################å¯¼å…¥#########################cat ipxe.tar | docker import - ipxe-server:v1 IPXEçŽ¯å¢ƒDOCKERåŒ–åˆ›å»ºæ–‡ä»¶å¤¹/docker-image-file/ipxe-dockerå¹¶åœ¨å…¶ä¸­åˆ›å»ºDockerFile`start.shdocker_build.shdocker_start.sh`è„šæœ¬ 123mkdir -p /root/docker-image-file/ipxe-dockercd /root/docker-image-file/ipxe-dockertouch Dockerfile start.sh docker_build.sh docker_start.sh 1.ç¼–å†™DockerFile1234567891011121314151617181920212223From centos:7.5.1804MAINTAINER â€œRealityâ€ &lt;809962111@qq.com&gt;ENV container docker# é…ç½®dnsmasqæœåŠ¡åŒ…å«dhcpã€tftp#RUN yum install -y ipxe-bootimgs dnsmasq --nogpgcheck \# &amp;&amp; mkdir -p /tftpboot/images \# &amp;&amp; mkdir /tftpboot/menu \# å®‰è£…TFTPæœåŠ¡RUN yum install -y xinetd tftp-server tftp ipxe-bootimgs --nogpgcheck \ &amp;&amp; mkdir /var/lib/tftpboot/images \# &amp;&amp; cp /usr/share/ipxe/undionly.kpxe /var/lib/tftpboot/ \# &amp;&amp; cp /usr/share/ipxe/ipxe.efi /var/lib/tftpboot/ \ &amp;&amp; mkdir /var/lib/tftpboot/menu \# &amp;&amp; touch /var/lib/tftpboot/menu/boot.ipxe \# å®‰è£…DHCPæœåŠ¡ &amp;&amp; yum -y install dhcp --nogpgcheck \# å®‰è£…ftpæœåŠ¡ &amp;&amp; yum -y install vsftpd --nogpgcheck \ &amp;&amp; mkdir /var/ftp/pub/ipxe# å®‰è£…HTTPD# &amp;&amp; yum -y install httpd --nogpgcheck# æ·»åŠ start.shè„šæœ¬COPY ./start.sh /root/ 2.ç¼–å†™start.sh1234567891011121314151617181920212223242526272829303132333435#!/bin/bashchk() &#123; if [ $1 != 0 ] then echo $2 exit 1 fi&#125;# å¼€å¯dnsmasqæœåŠ¡#pkill dnsmasq &gt; /dev/null 2&gt;&amp;1#rm -f /run/dnsmasq.pid#/usr/sbin/dnsmasq# å¼€å¯vsftpdæœåŠ¡pkill vsftpd &gt; /dev/null 2&gt;&amp;1/usr/sbin/vsftpdchk $? "vsftpd error,exit."# å¼€å¯dhcpæœåŠ¡pkill dhcpd &gt; /dev/null 2&gt;&amp;1/usr/sbin/dhcpd -cf /etc/dhcp/dhcpd.conf --no-pidchk $? "dhcpd error,exit."# å¼€å¯xinetd(tftp)æœåŠ¡rm -f /run/xinetd.pid/usr/sbin/xinetd -stayalive -pidfile /var/run/xinetd.pidchk $? "xinetdd error,exit."# å¼€å¯HTTPDæœåŠ¡#pkill httpd &gt; /dev/null 2&gt;&amp;1#rm -rf /run/httpd/*#/usr/sbin/apachectl#chk $? "apache error,exit." 3.ç¼–å†™docker_build.sh123#!/bin/bash# Dockerfile æž„å»ºipxeçŽ¯å¢ƒdocker build -t ipxe-server:v1 . 4.ç¼–å†™docker_start.sh12345678910111213141516171819202122232425262728293031323334353637383940414243444546#!/bin/bashCONTAINER_NAME="ipxe-server"# æ–‡ä»¶è·¯å¾„åŠé…ç½®æ˜ å°„HOST_TFTP_TFTPBOOT_DIR="/root/docker-image-file/ipxe/tftp/tftpboot"DOCKER_TFTP_TFTPBOOT_DIR="/var/lib/tftpboot"HOST_FTP_IMAGE_DIR="/root/docker-image-file/ipxe/ftp/ipxe"DOCKER_FTP_IMAGE_DIR="/var/ftp"#HOST_HTTPD_DIR="/root/docker-image-file/ipxe/tftp/tftpboot/images"#DOCKER_HTTPD_DIR="/var/www/html"HOST_DHCP_CONF_FILE="/root/docker-image-file/ipxe/dhcp/dhcpd.conf"DOCKER_DHCP_CONF_FILE="/etc/dhcp/dhcpd.conf"HOST_TFTP_CONF_FILE="/root/docker-image-file/ipxe/tftp/tftp"DOCKER_TFTP_CONF_FILE="/etc/xinetd.d/tftp"# å¯åŠ¨dockerIMAGE_ID=$(docker run -it --net=host -d --name $&#123;CONTAINER_NAME&#125; \ -v $&#123;HOST_TFTP_TFTPBOOT_DIR&#125;:$&#123;DOCKER_TFTP_TFTPBOOT_DIR&#125; \ -v $&#123;HOST_FTP_IMAGE_DIR&#125;:$&#123;DOCKER_FTP_IMAGE_DIR&#125; \ -v $&#123;HOST_DHCP_CONF_FILE&#125;:$&#123;DOCKER_DHCP_CONF_FILE&#125; \ -v $&#123;HOST_TFTP_CONF_FILE&#125;:$&#123;DOCKER_TFTP_CONF_FILE&#125; \ --privileged=true --restart=always ipxe-server:v1 /bin/bash -c "/root/start.sh;/bin/bash")[[ $? -ne 0 ]] &amp;&amp; echo "Start ipxe server container failed" &amp;&amp; exit 1sleep 0.1s # è¿›å…¥å®¹å™¨bashecho "CONTAINER ID IS : $IMAGE_ID"read -p "Type y/n to enter bash or exit: " enter_message #æç¤ºç”¨æˆ·è¾“å…¥æ•°å­—echo "$enter_message" | grep -q "y"if [ $? -eq 0 ] then #åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¾“å…¥y echo "&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;bash&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;" docker exec -it "$IMAGE_ID" bash exitelse exitfiexit 0]]></content>
      <categories>
        <category>IPXE</category>
      </categories>
      <tags>
        <tag>IPXE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IPXEã€PXE çŽ¯å¢ƒ ï¼Ÿï¼Ÿï¼Ÿ]]></title>
    <url>%2F2020%2F08%2F15%2FPXE%26IPXE%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦åœ¨å®žé™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šæƒ³è¦å®‰è£…Linuxä½†æ˜¯è®¡ç®—æœºä¸å¸¦å…‰é©±æˆ–è½¯é©±ï¼Œæˆ–è€…æ˜¯ç¬”è®°æœ¬é…ç½®çš„éžæ ‡å‡†çš„è½¯é©±å’Œå…‰é©±ï¼Œå¦‚USBæŽ¥å£ï¼Œåœ¨Linuxå®‰è£…æ—¶æ‰€å¼•å¯¼çš„Linuxå†…æ ¸ä¸€èˆ¬éƒ½ä¸ä¼šå¸¦è¿™äº›æŽ¥å£çš„é©±åŠ¨ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•é€šè¿‡æœ¬åœ°å®‰è£…Linuxï¼Œæ­¤å¤–ï¼Œåœ¨ä¸€äº›åœºåˆï¼Œå¦‚æœºæˆ¿ï¼ŒITå®žéªŒå®¤ï¼Œå·¥åŽ‚ç”Ÿäº§çº¿ï¼Œæœ‰å¤§é‡çš„è®¡ç®—æœºéœ€è¦åŒæ—¶å®‰è£…Linuxï¼Œå¦‚æžœé€šè¿‡å…‰é©±çš„æ–¹å¼ä¸€ä¸ªä¸ªå®‰è£…ï¼Œä¸ä»…æ•ˆçŽ‡ä½Žï¼Œä¹Ÿä¸åˆ©äºŽç»´æŠ¤ã€‚è¿™æ˜¯æ—¶å€™ä½ å°±éœ€è¦PXEçš„å¼ºå¤§åŠŸèƒ½äº†ï¼Œæœ¬æ–‡å°†ä¼šä»‹ç»PXEã€IPXEã€ç½‘ç»œå¼•å¯¼äº¤äº’è¿‡ç¨‹ä»¥åŠé…ç½®æµç¨‹ã€‚ PXEPXEæ˜¯æŒ‡åœ¨æ²¡æœ‰è½¯é©±ã€ç¡¬ç›˜ã€CD-ROMçš„æƒ…å†µä¸‹å¼•å¯¼è®¡ç®—æœºçš„ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯BIOSå°†ä½¿ç”¨PXEåè®®ä»Žç½‘ç»œå¼•å¯¼ã€‚ DHCPæœåŠ¡å™¨ï¼šç”¨æ¥åŠ¨æ€åˆ†é…IPåœ°å€ï¼ˆåŒæ—¶åˆ†é…å­ç½‘æŽ©ç ã€ç½‘å…³ã€TFTPæœåŠ¡å™¨åœ°å€ã€å¯åŠ¨æ–‡ä»¶åã€DNSæœåŠ¡å™¨ã€æ—¶é—´æœåŠ¡å™¨ç­‰ç­‰ï¼‰ã€‚ TFTPæœåŠ¡å™¨ï¼šç”¨æ¥æä¾›å¯åŠ¨æ–‡ä»¶çš„ä¸‹è½½ ç®€å•è¯´æ¥ï¼ŒPXEæœåŠ¡å™¨å°±æ˜¯DHCPæœåŠ¡å™¨+TFTPæœåŠ¡å™¨ã€‚å·¥ä½œäºŽClient/Serverçš„ç½‘ç»œæ¨¡å¼ï¼Œæ”¯æŒå·¥ä½œç«™é€šè¿‡ç½‘ç»œä»Žè¿œç«¯æœåŠ¡å™¨ä¸‹è½½æ˜ åƒï¼Œå¹¶ç”±æ­¤æ”¯æŒé€šè¿‡ç½‘ç»œå¯åŠ¨æ“ä½œç³»ç»Ÿï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œç»ˆç«¯è¦æ±‚DHCPæœåŠ¡å™¨åˆ†é…IPåœ°å€ï¼Œå†ç”¨TFTPï¼ˆtrivial file transfer protocolï¼‰æˆ–MTFTP(multicast trivial file transfer protocol)åè®®ä¸‹è½½ä¸€ä¸ªå¯åŠ¨è½¯ä»¶åŒ…åˆ°æœ¬æœºå†…å­˜ä¸­æ‰§è¡Œï¼Œç”±è¿™ä¸ªå¯åŠ¨è½¯ä»¶åŒ…å®Œæˆç»ˆç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰åŸºæœ¬è½¯ä»¶è®¾ç½®ï¼Œä»Žè€Œå¼•å¯¼é¢„å…ˆå®‰è£…åœ¨æœåŠ¡å™¨ä¸­çš„ç»ˆç«¯æ“ä½œç³»ç»Ÿã€‚PXEå¯ä»¥å¼•å¯¼å¤šç§æ“ä½œç³»ç»Ÿï¼Œå¦‚ï¼šWindows95/98/2000/windows2003/windows2008/winXP/win7/win8,linuxç³»åˆ—ç³»ç»Ÿç­‰ã€‚ IPXEipxeçš„å‰èº«ä¸ºgpxeï¼Œç”±äºŽgPXEå­˜åœ¨å•†ä¸šæ”¶è´­é£Žé™©ã€‚å…¶å¼€å‘è€…åˆå¯åŠ¨äº†ä¸€ä¸ªåä¸ºiPXEçš„å¼€æºé¡¹ç›®ã€‚ä½œä¸ºgPXEçš„ä¸€ä¸ªåˆ†æ”¯ã€‚ å®˜æ–¹åœ°å€ï¼šhttp://ipxe.org/ä»Žå®˜ç½‘æ–‡æ¡£ä¸­å¯ä»¥çœ‹å‡ºï¼Œipxeå¾ˆå¼ºå¤§ï¼Œä¹Ÿç¡®å®žå¼ºå¤§ã€‚å¤§è‡´æ„æ€æ˜¯pxeè¿›åŒ–gpxeï¼Œgpxeè¿›åŒ–ipxeï¼ˆhttp://ipxe.org/faqï¼‰ã€‚æ”¯æŒæ›´å¤šçš„åè®®ï¼Œå…¼å®¹æ€§æ›´å¥½ï¼Œä¸æŒ‘ç½‘å¡ã€‚ä¸è¿‡ä¹Ÿå¯ä»¥ç»™ç½‘å¡åˆ·ä¸€ä¸‹romï¼Œè®©ç½‘å¡æ›´å¥½çš„æ”¯æŒipxeå¯åŠ¨ï¼ˆhttp://ipxe.org/howto/romburningï¼‰ã€‚å®ƒæä¾›äº†å®Œæ•´çš„PXEå®žæ–½ï¼Œå¹¶å¢žå¼ºäº†å…¶ä»–åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š é€šè¿‡HTTPä»ŽWebæœåŠ¡å™¨å¯åŠ¨ ä»ŽiSCSI SANå¼•å¯¼ é€šè¿‡FCoEä»Žå…‰çº¤é€šé“SANå¼•å¯¼ ä»ŽAoE SANå¼•å¯¼ ä»Žæ— çº¿ç½‘ç»œå¯åŠ¨ ä»Žå¹¿åŸŸç½‘å¯åŠ¨ ä»ŽInfinibandç½‘ç»œå¯åŠ¨ ç”¨è„šæœ¬æŽ§åˆ¶å¼•å¯¼è¿‡ç¨‹ BIOSå’ŒUEFIBIOSï¼š ï¼ˆBasic Input/Output Systemçš„ç¼©å†™ã€ä¸­æ–‡ï¼šåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼‰ï¼Œåœ¨IBM PCå…¼å®¹æœºä¸Šï¼Œæ˜¯ä¸€ç§ä¸šç•Œæ ‡å‡†çš„å›ºä»¶æŽ¥å£ã€‚BIOSè¿™ä¸ªå­—çœ¼æ˜¯åœ¨1975ç¬¬ä¸€æ¬¡ç”±CP/Mæ“ä½œç³»ç»Ÿä¸­å‡ºçŽ°ã€‚BIOSæ˜¯ä¸ªäººç”µè„‘å¯åŠ¨æ—¶åŠ è½½çš„ç¬¬ä¸€ä¸ªè½¯ä»¶ã€‚BIOSç”¨äºŽè®¡ç®—æœºå¼€æœºæ—¶æ‰§è¡Œç³»ç»Ÿå„éƒ¨åˆ†çš„çš„è‡ªæ£€ï¼Œå¹¶å¯åŠ¨å¼•å¯¼ç¨‹åºæˆ–è£…è½½åœ¨å†…å­˜çš„æ“ä½œç³»ç»Ÿã€‚æ­¤å¤–ï¼ŒBIOSè¿˜å‘æ“ä½œç³»ç»Ÿæä¾›ä¸€äº›ç³»ç»Ÿå‚æ•°ã€‚ç³»ç»Ÿç¡¬ä»¶çš„å˜åŒ–æ˜¯ç”±BIOSéšè—ï¼Œç¨‹åºä½¿ç”¨BIOSæœåŠ¡è€Œä¸æ˜¯ç›´æŽ¥è®¿é—®ç¡¬ä»¶ã€‚çŽ°ä»£æ“ä½œç³»ç»Ÿä¼šå¿½ç•¥BIOSæä¾›çš„æŠ½è±¡å±‚å¹¶ç›´æŽ¥è®¿é—®ç¡¬ä»¶ç»„ä»¶ã€‚ æ¯ä¸€å°æ™®é€šçš„ç”µè„‘éƒ½ä¼šæœ‰ä¸€ä¸ªBIOSï¼Œç”¨äºŽåŠ è½½ç”µè„‘æœ€åŸºæœ¬çš„ç¨‹å¼ç ï¼Œæ‹…è´Ÿç€åˆå§‹åŒ–ç¡¬ä»¶ï¼Œæ£€æµ‹ç¡¬ä»¶åŠŸèƒ½ä»¥åŠå¼•å¯¼æ“ä½œç³»ç»Ÿçš„ä»»åŠ¡ã€‚ UEFIï¼š å…¨ç§°â€œç»Ÿä¸€çš„å¯æ‰©å±•å›ºä»¶æŽ¥å£â€(Unified Extensible Firmware Interface)ï¼Œæ˜¯ä¸€ç§è¯¦ç»†æè¿°ç±»åž‹æŽ¥å£çš„æ ‡å‡†ã€‚è¿™ç§æŽ¥å£ç”¨äºŽæ“ä½œç³»ç»Ÿè‡ªåŠ¨ä»Žé¢„å¯åŠ¨æ“ä½œçŽ¯å¢ƒï¼ŒåŠ è½½åˆ°ä¸€ç§æ“ä½œç³»ç»Ÿä¸Šã€‚å¯æ‰©å±•å›ºä»¶æŽ¥å£ï¼ˆExtensible Firmware Interfaceï¼ŒEFIï¼‰æ˜¯ Intel ä¸º PC å›ºä»¶çš„ä½“ç³»ç»“æž„ã€æŽ¥å£å’ŒæœåŠ¡æå‡ºçš„å»ºè®®æ ‡å‡†ã€‚å…¶ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç»„åœ¨ OS åŠ è½½ä¹‹å‰ï¼ˆå¯åŠ¨å‰ï¼‰åœ¨æ‰€æœ‰å¹³å°ä¸Šä¸€è‡´çš„ã€æ­£ç¡®æŒ‡å®šçš„å¯åŠ¨æœåŠ¡ï¼Œè¢«çœ‹ä½œæ˜¯æœ‰è¿‘20å¤šå¹´åŽ†å²çš„ BIOS çš„ç»§ä»»è€…ã€‚å¦å¤–ï¼Œç”±äºŽUEFIä¸æ”¯æŒ32ä½ã€‚ UEFIçš„ç‰¹ç‚¹ æ¥è‡ªå¾®è½¯å®˜ç½‘ 1ã€é€šè¿‡ä¿æŠ¤é¢„å¯åŠ¨æˆ–é¢„å¼•å¯¼è¿›ç¨‹ï¼Œä»Žè€Œæé«˜å®‰å…¨æ€§ã€‚2ã€ç¼©çŸ­äº†å¯åŠ¨æ—¶é—´å’Œä»Žä¼‘çœ çŠ¶æ€æ¢å¤çš„æ—¶é—´ã€‚3ã€æ”¯æŒå®¹é‡è¶…è¿‡2.2 TBçš„é©±åŠ¨å™¨ã€‚4ã€æ”¯æŒ64ä½çš„çŽ°ä»£å›ºä»¶è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œç³»ç»Ÿåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å¯¹è¶…è¿‡172äº¿GBçš„å†…å­˜è¿›è¡Œå¯»å€ã€‚5ã€UEFIç¡¬ä»¶å¯ä¸ŽBIOSç»“åˆä½¿ç”¨ã€‚ çŽ¯å¢ƒIPXE å¯¹è¿è¡ŒçŽ¯å¢ƒæ²¡æœ‰ä»€ä¹ˆéœ€æ±‚ï¼Œåªéœ€èƒ½æä¾› tftp, dhcp, http ç­‰æœåŠ¡çš„ç³»ç»Ÿå³å¯ã€‚è¿™é‡Œä½¿ç”¨ Linux çŽ¯å¢ƒæ¥æ­å»ºIPXEæœåŠ¡ï¼›é‡‡ç”¨ dnsmasq è¿™ä¸ªå°å·§çŽ²ç‘çš„è½¯ä»¶æä¾› tftp å’Œ dhcp æœåŠ¡ï¼›è¿™é‡Œåœ¨è™šæ‹ŸæœºVMwareÂ® Workstation 15 Proä¸­é¢„è£…äº†CentOS-7.5-x86_64-DVD-1804,ä»¥åŠå°†è¯¥é•œåƒæ”¾ç½®åœ¨/home/ç›®å½•ä¸‹ï¼Œä¸ºåŽç»­ç©ºç™½è™šæ‹Ÿæœºè¿›è¡Œç½‘å¡å¯åŠ¨å®‰è£…ç³»ç»Ÿåšå¥½å‡†å¤‡ã€‚ DHCPæœåŠ¡:ç»™å®¢æˆ·ç«¯åˆ†é…IPåœ°å€,å®šä½å¼•å¯¼ç¨‹åº DNSæœåŠ¡:ä¸ºå®¢æˆ·ç«¯åˆ†é…ä¸»æœºå(å¯é€‰) TFTPæœåŠ¡:æä¾›å¼•å¯¼ç¨‹åºä¸‹è½½(å› ä¸ºç½‘å¡PXEåªæä¾›äº†TFTPå®¢æˆ·ç«¯) FTPæœåŠ¡(æˆ–è€…HTTP/NFS):æä¾›å®‰è£…ç³»ç»Ÿæ‰€éœ€è¦çš„è½¯ä»¶åŒ…(yumæº) LINUXä¸‹çš„å†…æ ¸æ–‡ä»¶ï¼ˆvmlinuz/initrd.img/ System.map ï¼‰vmlinuzvmlinuzæ˜¯å¯å¼•å¯¼çš„ã€åŽ‹ç¼©çš„å†…æ ¸ã€‚â€œvmâ€ä»£è¡¨â€œVirtual Memoryâ€ã€‚Linux æ”¯æŒè™šæ‹Ÿå†…å­˜ï¼Œä¸åƒè€çš„æ“ä½œç³»ç»Ÿæ¯”å¦‚DOSæœ‰640KBå†…å­˜çš„é™åˆ¶ã€‚Linuxèƒ½å¤Ÿä½¿ç”¨ç¡¬ç›˜ç©ºé—´ä½œä¸ºè™šæ‹Ÿå†…å­˜ï¼Œå› æ­¤å¾—åâ€œvmâ€ã€‚vmlinuzæ˜¯å¯æ‰§è¡Œçš„Linuxå†…æ ¸ï¼Œå®ƒä½äºŽ/boot/vmlinuzï¼Œå®ƒä¸€èˆ¬æ˜¯ä¸€ä¸ªè½¯é“¾æŽ¥ã€‚vmlinuxæ˜¯æœªåŽ‹ç¼©çš„å†…æ ¸ï¼Œvmlinuzæ˜¯vmlinuxçš„åŽ‹ç¼©æ–‡ä»¶ã€‚ ä½œç”¨ï¼šè¿›ç¨‹ç®¡ç†ã€å†…å­˜ç®¡ç†ã€æ–‡ä»¶ç®¡ç†ã€é©±åŠ¨ç®¡ç†ã€ç½‘ç»œç®¡ç†ã€‚ initrd.imginitrd.imgæ˜¯ä¸€ä¸ªå°ramdisk(å†…å­˜è™šæ‹Ÿç¡¬ç›˜)çš„æ˜ è±¡ï¼Œ æ”¾çš„æ˜¯å’Œå¯åŠ¨ç›¸å…³çš„é©±åŠ¨æ¨¡å—ï¼Œç”¨ä¸€éƒ¨åˆ†å†…å­˜æ¨¡æ‹Ÿæˆç£ç›˜ï¼Œè®©æ“ä½œç³»ç»Ÿè®¿é—®ã€‚é€šå¸¸çš„æ­¥éª¤æ˜¯å…ˆå¯åŠ¨å†…æ ¸ï¼Œç„¶åŽå†…æ ¸æŒ‚è½½initrd.imgï¼Œå¹¶æ‰§è¡Œé‡Œé¢çš„è„šæœ¬æ¥è¿›ä¸€æ­¥æŒ‚è½½å„ç§å„æ ·çš„æ¨¡å—ã€‚å…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯æ ¹æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨æ¨¡å—ï¼Œæœ‰äº†å®ƒæ‰èƒ½æŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œç»§è€Œè¿è¡Œç”¨æˆ·ç©ºé—´çš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå®Œæˆç³»ç»ŸåŽç»­çš„å¯åŠ¨ã€‚ å¯åŠ¨æµç¨‹å¤§ä½“æµç¨‹ï¼šå®¢æˆ·æœºä»ŽDHCP(èŽ·å–IPï¼Œå¯»æ‰¾iPXEæœåŠ¡å™¨)&gt;tftpèŽ·å–å¼€æœºå¯åŠ¨æ–‡ä»¶&gt;HTTP/TFTP/FTPï¼ˆåŠ è½½å®‰è£…æ–‡ä»¶ï¼‰&gt;æœ¬åœ°å®‰è£… IPXE-CentOS7çŽ¯å¢ƒé…ç½®1.é…ç½®dnsmasqæœåŠ¡å’ŒipxeåŸºæœ¬çŽ¯å¢ƒæœ¬æ¬¡é¢„è£…CentOSçš„ç½‘ç»œé€‚é…å™¨é€‰æ‹©çš„æ˜¯VMnet8ï¼ˆNATï¼‰æ¨¡å¼ï¼Œé…ç½®dnsmasqæœåŠ¡å’ŒipxeåŸºæœ¬çŽ¯å¢ƒå®‰è£…éœ€è¦çš„åŒ…ï¼š 1yum install -y ipxe-bootimgs dnsmasq ç­‰å¾…å®‰è£…å®Œæ¯•åŽï¼Œåˆ›å»ºç›®å½• 12345mkdir /tftpboot# é€‚ç”¨äºŽ BIOS ç¡¬ä»¶cp /usr/share/ipxe/undionly.kpxe /tftpboot/# é€‚ç”¨äºŽ EFI ç¡¬ä»¶cp /usr/share/ipxe/ipxe.efi /tftpboot/ ç¼–å†™ä¸€ä¸ªboot.ipxeæ–‡ä»¶ï¼Œç”¨æ¥å±•ç¤ºIPXEçš„å¼•å¯¼ç•Œé¢ 12mkdir /tftpboot/menuvi /tftpboot/menu/boot.ipxe ç¼–å†™å¦‚ä¸‹å†…å®¹ï¼š 123456789101112#!ipxemenu PXE Boot Optionsitem shell iPXE shellitem exit Exit to BIOS# é»˜è®¤é€‰æ‹© exitï¼Œ ç­‰å¾…æ—¶é—´10schoose --default exit --timeout 10000 option &amp;&amp; goto $&#123;option&#125;# å¯ä»¥åˆ‡æ¢åˆ°shell:shellshell# é€€å‡º:exitexit ä¿®æ”¹/etc/dnsmasq.confé…ç½®æ–‡ä»¶ï¼Œæ›´å…·è‡ªå·±å®žé™…æƒ…å†µé…ç½® 1234567891011121314151617181920212223# ç¦ç”¨dnsport=0# ç›‘å¬åœ°å€æœ¬æœºiplisten-address=192.168.249.131# æŽ¥å¬ç½‘å£interface=ens33 # å¯åŠ¨tftpenable-tftp# é…ç½®tftpå­˜å‚¨æ–‡ä»¶çš„ç›®å½•tftp-root=/tftpboot # éšæœºåˆ†é…åœ°å€dhcp-range=192.168.249.200,192.168.249.250,255.255.255.0# æˆ–è€…é™æ€åˆ†é…åœ°å€#dhcp-range=192.168.72.200,static,255.255.255.0 # é…ç½®å¼•å¯¼æ–‡ä»¶dhcp-vendorclass=BIOS,PXEClient:Arch:00000dhcp-match=set:ipxe,175dhcp-boot=tag:!ipxe,tag:BIOS,undionly.kpxedhcp-boot=tag:!ipxe,tag:!BIOS,ipxe.efidhcp-boot=tag:ipxe,menu/boot.ipxe å¯åŠ¨æœåŠ¡å…³é—­Firewalls &amp; SELinuxå¹¶é‡å¯ 12345678# å¼€æœºä¸è‡ªåŠ¨å¯åŠ¨é˜²ç«å¢™systemctl disable firewalld# å¼€æœºè‡ªåŠ¨å¯åŠ¨dnsmasqsystemctl enable dnsmasq# é€šè¿‡ä¿®æ”¹SELINUXçš„é…ç½®æ–‡ä»¶è¾¾åˆ°å…³é—­SELINUXæœåŠ¡(SELinux ä¸»è¦ä½œç”¨å°±æ˜¯æœ€å¤§é™åº¦åœ°å‡å°ç³»ç»Ÿä¸­æœåŠ¡è¿›ç¨‹å¯è®¿é—®çš„èµ„ # æºï¼ˆæœ€å°æƒé™åŽŸåˆ™ï¼‰ã€‚)sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config# é‡æ–°å¯åŠ¨reboot 2.è®¾ç½®CentOS7ç½‘ç»œå®‰è£…å®‰è£…httpæœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨ 12345yum -y install httpd# å¼€å¯httpdæœåŠ¡systemctl start httpd# è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨systemctl enable httpd æŒ‚è½½isoåˆ°httpæœåŠ¡ä¸Š 123456# åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨æ¥æŒ‚è½½é•œåƒmkdir /var/www/html/media/cd /var/www/html/media/mkdir centos7-ipxe# æŒ‚åœ¨é•œåƒåˆ°ipxe-isoç›®å½•ä¸‹mount -t iso9660 -o,loop /home/CentOS-7.5.iso /var/www/html/media/centos7-ipxe/ ä¿®æ”¹/tftpboot/menu/boot.ipxeå¦‚ä¸‹ 12345678910111213141516171819#!ipxe:startmenu PXE Boot Optionsitem shell iPXE shell# åˆ›å»ºCentOS 7 installationé€‰é¡¹item centos7-net CentOS 7 installationitem exit Exit to BIOSchoose --default centos7-net --timeout 10000 option &amp;&amp; goto $&#123;option&#125;:shellshell:centos7-netset server_root http://192.168.249.131/media/centos7-ipxeinitrd $&#123;server_root&#125;/images/pxeboot/initrd.img# è¿™é‡Œæ²¡æœ‰ä½¿ç”¨ksæ–‡ä»¶,å¦‚æžœä½¿ç”¨ksè‡ªåŠ¨å®‰è£…çš„æƒ…å†µ# kernel $&#123;server_root&#125;/images/pxeboot/vmlinuz inst.ks=$&#123;server_root&#125;/centos7.ks ip=dhcp ipv6.disable initrd=initrd.imgkernel $&#123;server_root&#125;/images/pxeboot/vmlinuz inst.repo=$&#123;server_root&#125;/ ip=dhcp ipv6.disable initrd=initrd.img inst.geoloc=0 devfs=nomountboot:exitexit 3.ç½‘ç»œå®‰è£…CentOSæ–°å»ºè™šæ‹Ÿæœºè®¾ç½®ä¸ºç¨åŽå®‰è£…æ“ä½œç³»ç»Ÿã€‚æ³¨æ„ï¼šæŒ‡å®šåˆ†é…ç»™è™šæ‹Ÿæœºçš„å†…å­˜éœ€è‡³å°‘ä¸º2Gä»¥å…å®‰è£…é”™è¯¯ ä¹‹åŽæŒ‰ç…§æ­£å¸¸åˆ›å»ºè™šæ‹Ÿæœºçš„æ–¹å¼è¿›è¡Œåˆ›å»ºç©ºç™½è™šæ‹Ÿæœºï¼Œåˆ›å»ºå¥½åŽæ‰“å¼€è¯¥è™šæ‹Ÿæœºï¼Œçœ‹åˆ°å¦‚ä¸‹ç”»é¢è¯´æ˜Žä½ å·²æˆåŠŸä¸€åŠäº†ï¼š æŽ¥ä¸‹æ¥ç­‰å¾…æ•°ç§’ä¼šè¿›å…¥å¦‚PXEçš„èœå•é€‰é¡¹é€‰æ‹© CenOS 7 installationè¿›è¡Œå®‰è£… å›žè½¦åŽç­‰å¾…è¿›å…¥å®‰è£…ç”»é¢ æŽ¥ä¸‹æ¥æŒ‰ç…§æç¤ºæ­£ç¡®å®‰è£…å³å¯ 4.ä½¿ç”¨ksè‡ªåŠ¨å®‰è£…ä¸Šè¿°å®‰è£…ä¸ºæ‰‹åŠ¨é€‰æ‹©å¹¶é…ç½®å®‰è£…ï¼Œä¸‹é¢è®²è¿°çš„æ˜¯é€šè¿‡linuxçš„è‡ªåŠ¨å®‰è£…è„šæœ¬kickstartå®Œæˆç³»ç»Ÿå…¨è‡ªåŠ¨å®‰è£…ã€‚è¿™é‡Œté€šè¿‡kickstarté…ç½®å·¥å…·system-config-kickstartç”Ÿæˆè„šæœ¬,åˆ›å»ºæ–‡ä»¶ centos7.kså¹¶é”®å…¥ä¸€ä¸‹å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#version=DEVEL# Install OS instead of upgradeinstall# Keyboard layoutskeyboard 'us'# Root password=123456rootpw --iscrypted $1$jTvf.BHT$2x/yp/PYMZcRmD6/kCrGi1# Use network installationurl --url="http://192.168.249.131/media/centos7-ipxe"# System languagelang zh_CN# System authorization informationauth --useshadow --passalgo=sha512# å‘½ä»¤è¡Œ Use text mode install# text# å›¾å½¢åŒ– Use graphical installgraphicalfirstboot --disable# SELinux configurationselinux --disabled# Firewall configurationfirewall --disabled# Network informationnetwork --bootproto=dhcp --device=ens33# Reboot after installationreboot# System timezonetimezone Asia/Shanghai# username=admin password=123456 user --name=admin --password=$6$piKcV2Fc3Qn6nHdr$a7jafMHWefFMfiNGGb4USIuEXSTlJur5D.DXwFOLHaita35p6DgJwXtBgqjXK/5/5RAghsmNADw1v07bj8jAx1 --iscrypted --gecos="admin"# System bootloader configurationbootloader --location=mbr# Clear the Master Boot Recordzerombr# Partition clearing informationclearpart --all --initlabel# Disk partitioning informationpart /boot --fstype="xfs" --size=500part /home --fstype="xfs" --size=4096part swap --fstype="swap" --size=4096part / --fstype="xfs" --grow --size=1%packages@base@core@desktop-debugging@dial-up@directory-client@fonts@gnome-desktop@guest-desktop-agents@input-methods@internet-browser@java-platform@multimedia@network-file-system-client@print-client@x11binutilschronyftpgcckernel-develkexec-toolsmakeopen-vm-toolspatchpython%end%addon com_redhat_kdump --enable --reserve-mb='auto'%end å°†è¯¥æ–‡ä»¶ç§»åŠ¨è‡³/var/www/html/mediaä¸‹ï¼Œç”±äºŽ/var/www/html/media/centos7-ipxe/ä¸‹å·²æŒ‚åœ¨CentOSçš„é•œåƒï¼Œä¸å…è®¸è¢«å†™å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹/tftpboot/menu/boot.ipxe 123456789101112131415161718#!ipxe:startmenu PXE Boot Optionsitem shell iPXE shellitem centos7-net CentOS 7 installationitem exit Exit to BIOSchoose --default centos7-net --timeout 10000 option &amp;&amp; goto $&#123;option&#125;:shellshell:centos7-netset server_root http://192.168.249.131/media/centos7-ipxeinitrd $&#123;server_root&#125;/images/pxeboot/initrd.img# è¿™é‡Œä½¿ç”¨ksè‡ªåŠ¨å®‰è£…kernel $&#123;server_root&#125;/images/pxeboot/vmlinuz inst.ks=http://192.168.249.131/media/centos7.ks ip=dhcp ipv6.disable initrd=initrd.img#kernel $&#123;server_root&#125;/images/pxeboot/vmlinuz inst.repo=$&#123;server_root&#125;/ ip=dhcp ipv6.disable initrd=initrd.img inst.geoloc=0 devfs=nomountboot:exitexit è¿™æ ·æˆ‘ä»¬æ–°å»ºä¸€å°ç©ºç™½è™šæ‹Ÿæœºå¯åŠ¨è™šæ‹Ÿæœºï¼Œåœ¨åŒä¸€ç½‘æ®µä¸‹å°±å¯ä»¥å®žçŽ°æ— äººå€¼å®ˆå…¨è‡ªåŠ¨å®‰è£…CentOS7ã€‚ 5.è¡¥å……è¿˜æœ‰ä¸€äº›å‘½ä»¤éœ€è¦äº†è§£ä¸€ä¸‹ï¼Œå°±æ˜¯ç½‘å¡å¯åŠ¨çš„æ—¶å€™Ctrl-Bå‡ºæ¥çš„ç•Œé¢ã€‚ 1.æŸ¥çœ‹ç½‘å¡è®¾å¤‡ï¼š 123iPXE&gt; ifstatnet0: 52:54:00:12:34:56 using rtl8139 on PCI00:03.0 (closed) [Link:up, TX:0 TXE:0 RX:0 RXE:0] 2.dhcpèŽ·å–ipï¼š 12iPXE&gt; dhcpDHCP (net0 52:54:00:12:34:56).... ok 3.æŸ¥çœ‹ç›®å‰èŽ·å–åˆ°çš„IPå’ŒDNSï¼š 1234iPXE&gt; routenet0: 10.0.0.155/255.255.255.0 gw 10.0.0.1iPXE&gt; show dnsnet0.dhcp/dns:ipv4 = 10.0.0.6 4.ç›´æŽ¥é“¾åˆ°â€œdefaultâ€æ–‡ä»¶ï¼š 1iPXE&gt; chain http://boot.ipxe.org/demo/boot.php PXE-CentOS7çŽ¯å¢ƒé…ç½®pxeçŽ¯å¢ƒé…ç½®åŒæ ·éœ€è¦æœ‰ä¸€ä¸ªDHCPæœåŠ¡å™¨ï¼Œéœ€è¦æœ‰tftpæœåŠ¡å™¨å’Œä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨ï¼Œå…¶ä¸­æ–‡ä»¶æœåŠ¡å™¨å¯ä»¥æ˜¯ftpï¼Œhttpï¼Œnfsç­‰æ–‡ä»¶æœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥tftpã€dhcpã€ftp(vsftpd)æœåŠ¡è¿›è¡Œæ­å»º 1.å®‰è£…tftpæœåŠ¡tftpçš„æœåŠ¡å™¨éœ€è¦å®‰è£…tftp-serveråŒ…ï¼Œåœ¨CentOS7éœ€è¦å¯åŠ¨tftpd.socket ï¼Œå…¶ä¸­tftpé»˜è®¤çš„æ–‡ä»¶è·¯å¾„ä¸º/var/lib/tftpbootï¼ŒæŽ¥ä¸‹æ¥è¿›è¡Œtftp-serverå®‰è£…ï¼š 1yum -y install tftp-server tftp å¯åŠ¨tftpæœåŠ¡ 1systemctl start tftp.socket ä¿®æ”¹é»˜è®¤æ ¹æ–‡ä»¶è·¯å¾„ 12345678910111213141516[root@centos7 ~]#vim /etc/xinetd.d/tftp############################é…ç½®è¯¦æƒ…#########################service tftp&#123; socket_type = dgram protocol = udp wait = yes user = root server = /usr/sbin/in.tftpd #ä¿®æ”¹æ–‡ä»¶ç›®å½•ä¸ºæ ¹æ–‡ä»¶ server_args = -s /var/lib/tftpboot -c disable = yes per_source = 11 cps = 100 2 flags = IPv4&#125; tftpå®¢æˆ·ç«¯æµ‹è¯• 123456789[root@centos7 ~]#yum -y install tftp[root@centos7 ~]#cd /var/lib/tftpboot[root@centos7 tftpboot]#touch tftp.test[root@centos7 tftpboot]#cd[root@centos7 ~]#tftp 192.168.249.131tftp&gt; get tftp.testtftp&gt; quit[root@centos7 ~]# lstftp.test 2.å®‰è£…DHCPæœåŠ¡å®‰è£…dhcpæœåŠ¡å™¨åŒ… 1[root@centos7 ~]# yum -y install dhcp å¤åˆ¶æ ·ä¾‹é…ç½®æ–‡ä»¶å¹¶è¦†ç›–åŽŸæ¥æ–‡ä»¶ï¼Œå› ä¸ºåŽŸé…ç½®æ–‡ä»¶ä¸ºç©ºã€‚ 1[root@centos7 dhcp]# cp /usr/share/doc/dhcp-4.2.5/dhcpd.conf.example ./dhcpd.conf ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¯æ ¹æ®å®žé™…æƒ…å†µæ¥é…ç½® 123456789101112131415161718192021222324[root@centos7 ~]#vim dhcpd.conf################################é…ç½®è¯¦æƒ…############################ ç¼ºçœç§Ÿçº¦æ—¶é—´default-lease-time 28800;# æœ€å¤§ç§Ÿçº¦æ—¶é—´max-lease-time 43200;# å…è®¸BOOTPå¯åŠ¨allow bootp;# ä»¥ä¸Šéƒ½æ˜¯å…¨å±€å‚æ•°# å­ç½‘å£°æ˜Žå’ŒæŽ©ç subnet 192.168.249.0 netmask 255.255.255.0 &#123; # è®¾ç½®åœ°å€èŒƒå›´ range 192.168.249.3 192.168.249.100; # è®¾ç½®ç½‘å…³ option routers 192.168.249.2; # è®¾ç½®PXEæŒ‡æ˜Žå¼•å¯¼æ–‡ä»¶åç§° filename "pxelinux.0"; # è®¾ç½®PXEå¼•å¯¼æ–‡ä»¶çš„æœåŠ¡å™¨åœ°å€ next-server 192.168.249.136;&#125; å¯ç”¨æœåŠ¡ 1systemctl start dhcpd 3.å®‰è£…ftpæœåŠ¡ftpçš„é»˜è®¤æ–‡ä»¶å…±äº«è·¯å¾„ä¸ºï¼š/var/ftp/pub/å¦‚éœ€è¦å…±äº«æ–‡ä»¶ï¼Œåªéœ€æ”¾åœ¨è¯¥ç›®å½•å³å¯ï¼Œå®‰è£…ç³»ç»Ÿå¯ä»¥ç›´æŽ¥å°†å…‰ç›˜æŒ‚è½½è‡³è¯¥å…±äº«æ–‡ä»¶çš„ä¸€ä¸ªå­ç›®å½•å³å¯ã€‚ å®‰è£…è½¯ä»¶åŒ… 1yum -y install vsftpd åˆ›å»ºæŒ‚è½½ç›®å½•ï¼š 1mkdir /var/ftp/pub/centos7/ æŒ‚è½½å…‰ç›˜è½¯ä»¶å®‰è£…æºè‡³æ–‡ä»¶ç›®å½•ï¼š 1mount -o loop CentOS-7.5.iso /var/ftp/pub/centos7/ å¯ç”¨æœåŠ¡ï¼š 1systemctl start vsftpd 4.ç¼–å†™å¯åŠ¨èœå•åŠå¤åˆ¶å…¶ä»–æ–‡ä»¶å¤åˆ¶ç›¸å…³å†…æ ¸åŠå…¶ä»–æ–‡ä»¶åˆ°tftpæœåŠ¡çš„æ–‡ä»¶æ ¹ç›®å½•ä¸‹ï¼Œå…¶ä¸­å¯åŠ¨èœå•å¼•å¯¼æ–‡ä»¶ç”±syslinuxåŒ…æä¾›ï¼Œæ‰€ä»¥å®‰è£…æ­¤åŒ…å³å¯ã€‚ 1yum -y install syslinux å¤åˆ¶vmlinuzã€initrd.imgã€pxelinux.0ã€chain.c32ã€memdiskã€menu.c32ã€mboot.c32åˆ°/var/lib/tftpbootç›®å½•ä¸‹ 123456[root@centos7 ~]# cd /var/ftp/pub/centos7/images/pxeboot/[root@centos7 pxeboot]# lsinitrd.img TRANS.TBL vmlinuz[root@centos7 pxeboot]# cp vmlinuz initrd.img /var/lib/tftpboot/[root@centos7 pxeboot]# cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot[root@centos7 pxeboot]# cp /usr/share/syslinux/&#123;chain.c32,memdisk,menu.c32,mboot.c32&#125; /var/lib/tftpboot ç¼–å†™å¯åŠ¨èœå•defaultæ–‡ä»¶ 12345678910111213141516171819[root@centos7 pxeboot]# cd /var/lib/tftpboot[root@centos7 tftpboot]# mkdir pxelinux.cfg[root@centos7 tftpboot]# cd pxelinux.cfg/[root@centos7 pxelinux.cfg]# vim defaultdefault menu.c32 prompt 5 timeout 30 MENU TITLE Centos7 PXE LABEL linux_auto MENU LABEL Install Centos7 x86_64 AUTO install KERNEL vmlinuz APPEND initrd=initrd.img ks=ftp://192.168.20.77/pub/ks.cfg LABEL linux MENU LABEL Install Centos7 x86_6 KERNEL vmlinuz APPEND initrd=initrd.img inst.repo=ftp://192.168.20.77/pub/centos7[root@centos7 ~]# cd 5.æ³¨é‡Š initrd.imgè¯¥æ–‡ä»¶å¯ä»¥åœ¨å†…å­˜å½“ä¸­æ¨¡æ‹Ÿæ–‡ä»¶ç³»ç»Ÿ vmlinuzåˆ™æ˜¯ä¸€ä¸ªç¼©å‡ç‰ˆçš„å†…æ ¸æ–‡ä»¶æ‹¥æœ‰ä¸€äº›åŸºæœ¬çš„ç½‘ç»œåŠŸèƒ½ï¼Œå¯ä»¥æŽ§åˆ¶å®¢æˆ·ç«¯è¿›è¡Œä¸‹ä¸€æ­¥çš„ä»Žæ–‡ä»¶å…±äº«ç³»ç»Ÿä¸­ä¸‹è½½çœŸæ­£çš„å†…æ ¸æ–‡ä»¶å’Œé©±åŠ¨æ–‡ä»¶ï¼Œæœ€åŽçœŸæ­£çš„å†…æ ¸æ–‡ä»¶è§£åŽ‹è¿›è¡ŒæŽ¥ç®¡ä¸Šä¸€ä¸ªå†…æ ¸ï¼Œå¼€å§‹è¿›è¡Œè½¯ä»¶åŒ…çš„çœŸæ­£å®‰è£…ç­‰ä»»åŠ¡ã€‚ Pxelinux.0æ–‡ä»¶å®ƒå¯ä»¥è§£é‡Šdefaultæ–‡ä»¶ä¸­çš„æ¯ä¸ªé…ç½®é¡¹ï¼Œå¹¶æ ¹æ®é…ç½®é¡¹åšå‡ºä¸åŒçš„ååº”ã€‚å¦‚ç­‰å¾…çš„æ—¶é—´ã€å¯åŠ¨å™¨èƒŒæ™¯ã€å¯åŠ¨èœå•ã€å†…æ ¸å¼•å¯¼ç­‰ç­‰ã€‚ Vesamenu.c32å’Œmenu.c32æ˜¯syslinuxæ‰€æ‹¥æœ‰ä¼—å¤šæ¨¡å—ä¸­çš„ä¸¤ä¸ªï¼Œå®ƒä»¬çš„åŠŸèƒ½æ˜¯åˆ¶å®šå¯åŠ¨å™¨ä½¿ç”¨ä»€ä¹ˆæ¨¡å¼çš„èƒŒæ™¯ã€‚Vesamenu.c32å›¾å½¢æ¨¡å¼ï¼Œmenu.c32æ–‡æœ¬æ¨¡å¼ã€‚ä½¿ç”¨æ—¶å¯ä»¥é€‰æ‹©ä¸€ä¸ªï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯æ–‡æœ¬æ¨¡å¼ã€‚ pxelinux.cfgç›®å½•ï¼Œpxelinuxè¢«æ‰§è¡ŒåŽï¼Œå®ƒä¼šæ‰«æè¯¥ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™å¼•ç”¨è¢«åˆ¶å®šçš„é…ç½®æ–‡ä»¶ã€‚ Defaultæ–‡ä»¶å­˜æ”¾äºŽpxelinux.cfgç›®å½•ä¸­ï¼Œpxelinuxç¨‹åºæœ€åŽæ‰«æçš„é…ç½®æ–‡ä»¶åå°±æ˜¯defaultï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ç»å¸¸æŠŠå¯åŠ¨å™¨é…ç½®é¡¹éƒ½å†™å…¥è¯¥æ–‡ä»¶ä¸­ï¼Œdefaultæ–‡ä»¶ä¸­ç¬¬ä¸€è¡ŒæŒ‡å®šä½¿ç”¨å“ªç§å½¢å¼çš„å›¾å½¢åŒ–ï¼Œmenu.c32ä¸ºå­—ç¬¦å›¾å½¢åŒ–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å›¾å½¢åŒ–çš„èœå•vesamenu.c32ã€‚promptå’ŒtimeoutæŒ‡å®šè¶…æ—¶æ—¶é—´ï¼Œå¯ä»¥æœ‰å¤šæ®µï¼Œä½¿ç”¨MENU TITLE æŒ‡å®šä¸»æ ‡é¢˜ï¼Œä¸åŒçš„å®‰è£…æ–¹å¼å¯ä»¥æœ‰ä¸åŒLABELï¼Œæˆ‘è¿™é‡Œæœ‰ä¸¤ç§ï¼Œæ‰‹åŠ¨å’Œè‡ªåŠ¨ï¼Œç¬¬ä¸€ç§ä¸ºä½¿ç”¨ks.cfgæ–‡ä»¶è‡ªåŠ¨å®‰è£…ï¼Œç¬¬äºŒç§ä½¿ç”¨æ‰‹åŠ¨æ–¹å¼å®‰è£…ã€‚ 6.å®‰è£…è¿™é‡ŒåŒä¸Šé¢çš„IPXEä¸€æ ·éœ€è¦åˆ›å»ºç©ºç™½è™šæ‹Ÿæœºï¼Œå¦‚æžœéœ€è¦ksæ— äººå€¼å®ˆå…¨è‡ªåŠ¨å®‰è£…åŒæ ·å¯ä»¥ä½¿ç”¨ kickstarté…ç½®å·¥å…·system-config-kickstartç”Ÿæˆè„šæœ¬,åˆ›å»ºæ–‡ä»¶ centos7.ksï¼Œæ ¹æ®è‡ªå·±å®žé™…æƒ…å†µé”®å…¥å†…å®¹åœ¨ï¼ŒåŒä¸€ç½‘æ®µä¸‹å°±å¯ä»¥å®žçŽ°å®‰è£…CentOS7ã€‚ é—®é¢˜åˆé›†1.vsftpdé—®é¢˜åˆé›† ä¸ºvsftpdæ·»åŠ ç”¨æˆ· 1234# æ·»åŠ æ–°ç”¨æˆ· Reality -dæ˜¯ç”¨æˆ·çš„è®¿é—®ç›®å½•useradd -d /var/ftp/pub Reality# ä¸ºç”¨æˆ·è®¾ç½®å¯†ç passwd Reality é…ç½®vsftpd.conf` 1234567#ä¿®æ”¹ftpçš„æ ¹ç›®å½•vim /etc/vsftpd/vsftpd.conf############################é…ç½®è¯¦æƒ…##############################local_root é’ˆå¯¹ç³»ç»Ÿç”¨æˆ·ï¼›anon_root é’ˆå¯¹åŒ¿åç”¨æˆ·ã€‚+++++++ local_root=/var/www/html+++++++ chroot_local_user=YES+++++++ anon_root=/var/ftp/pub vsftpdé…ç½®å®Œæˆå¹¶æ­£å¸¸å¯åŠ¨ä½†æ˜¯æ— æ³•é€šè¿‡ftpåè®®è®¿é—® é¦–å…ˆæŽ’æŸ¥æœ¬åœ°å—å¦å¯ä»¥è®¿é—®ï¼ŒæŸ¥çœ‹vsftpdæ˜¯å¦åœ¨è¿è¡Œ 1systemctl status vsftpd å®‰è£…ftpå‘½ä»¤æŸ¥çœ‹æ˜¯å¦å¯ä»¥ftpè¿žæŽ¥ 1234567891011121314151617[root@localhost 2020-08-18]# yum -y install ftp[root@localhost 2020-08-18]# ftp 192.168.211.132Connected to 192.168.211.132 (192.168.211.132).220 (vsFTPd 3.0.2)Name (192.168.211.132:root): Reality331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp&gt; ls227 Entering Passive Mode (192,168,211,132,207,118).150 Here comes the directory listing.drwxr-xr-x 2 0 0 22 Aug 20 03:33 pxe-server226 Directory send OK.ftp&gt; exit221 Goodbye. å¦‚å¯ä»¥æœ¬åœ°æ­£å¸¸è®¿é—®åˆ™æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å…³é—­æˆ–è€…æ˜¯å¦å…è®¸vsftpdç«¯å£æ”¾è¡Œ 1234567891011121314############################ç¬¬ä¸€ç§#####################################æŸ¥çœ‹vsftpdç«¯å£netstat -ntpl | grep vsftpd#å®‰è£…firewalldyum install firewalld firewall-config# æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼šfirewall-cmd --zone=dmz --list-ports#æ”¾è¡Œvsftpdç«¯å£firewall-cmd --zone=public --add-port=21/tcp --permanent #é‡æ–°åŠ è½½firewall-cmd --reload############################ç¬¬äºŒç§##################################### å…³é—­é˜²ç«å¢™systemctl disable firewalld 2.VirtualBoxæ­å»ºçŽ¯å¢ƒæŒ‡å—åœ¨VirtualBoxä¸Šæ­å»ºPXEæˆ–è€…IPXEçŽ¯å¢ƒæ—¶é¦–å…ˆè¦äº†è§£VirtualBoxä¸­çš„è™šæ‹Ÿç½‘ç»œ ç½‘ç»œæ¨¡å¼ è¯¦æƒ… å¤‡æ³¨ NATã€ˆç½‘ç»œåœ°å€è½¬æ¢æ¨¡å¼ã€‰ VirtualBox ä¸­è™šæ‹Ÿçš„ä¸»æœºï¼ˆä»¥ä¸‹ç®€ç§°ï¼šè™šæ‹Ÿä¸»æœºï¼‰å¹¶ä¸çœŸå®žå­˜åœ¨äºŽç½‘ç»œä¸­ï¼Œå®¿ä¸»æœºå’Œå®¿ä¸»æœºç½‘ç»œä¸­çš„ä»»ä½•ä¸»æœºéƒ½ä¸èƒ½ç›´æŽ¥è®¿é—®è™šæ‹Ÿä¸»æœºï¼Œå„è™šæ‹Ÿä¸»æœºä¹Ÿäº’ä¸ç›¸é€šã€‚è™šæ‹Ÿä¸»æœºèƒ½è®¿ é—®å®¿ä¸»æœºï¼Œä»¥åŠå®¿ä¸»æœºèƒ½è®¿é—®çš„ä»»ä½•ä¸»æœºã€‚è™šæ‹Ÿä¸»æœºè®¿é—®ç½‘ç»œæ˜¯å…ˆé€šè¿‡ VirtualBox è½¬æ¢åŽå†å‘é€å‡ºåŽ»çš„ï¼Œæ•°æ®æŽ¥æ”¶ä¹Ÿæ˜¯å…ˆç”± VirtualBox æŽ¥æ”¶åŽå†è½¬æ¢è½¬å‘åˆ°è™šæ‹Ÿä¸»æœºã€‚ å®¿ä¸»æœºå’Œå®¿ä¸»æœºç½‘ç»œä¸­çš„ä»»ä½•ä¸»æœºéƒ½ä¸èƒ½ç›´æŽ¥è®¿é—®è™šæ‹Ÿä¸»æœºï¼Œä½†æ˜¯VirtualBox æä¾›äº†ç«¯å£è½¬å‘ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥è®¾ç½®ç‰¹å®šçš„ç«¯å£ä¾›å®žä½“ç½‘ç»œè®¿é—®ã€‚ Bridged Adapterã€ˆæ¡¥æŽ¥æ¨¡å¼ã€‰ è™šæ‹Ÿä¸»æœºé€šè¿‡ VirtualBox æ¡¥æŽ¥åˆ°å®¿ä¸»æœºçš„ä¸€ä¸ªç½‘å¡ä¸­ï¼Œå°±åƒçœŸå®žå­˜åœ¨äºŽå®¿ä¸»æœºç½‘ç»œä¸­çš„ä¸€å°ä¸»æœºä¸€æ ·ã€‚è™šæ‹Ÿä¸»æœºèƒ½ä¸Žå®¿ä¸»æœºå’Œå®¿ä¸»æœºç½‘ç»œä¸­çš„ä¸»æœºå®Œç¾Žäº’é€šã€‚è¢«æ¡¥æŽ¥çš„ç½‘å¡ä¼šå¼€å¯æ··æ‚æ¨¡å¼ã€‚è™šæ‹Ÿä¸»æœºç½‘ç»œå‚æ•° ï¼š æ‰‹åŠ¨é…ç½®æˆæ¡¥æŽ¥çš„å®¿ä¸»æœºç½‘å¡çš„åŒä¸€ç½‘æ®µï¼Œæˆ–é€šè¿‡å®¿ä¸»æœºç½‘ç»œä¸­çš„ DHCP Ser èŽ·å–ã€‚ å¦‚æžœå®¿ä¸»æœºåœ¨ä¸€ä¸ªå—é™åˆ¶çš„ç½‘ç»œè™šæ‹Ÿä¸»æœºæ˜¯ä¸èƒ½è®¿é—®äº’è”ç½‘çš„ï¼Œå¦‚ï¼šå®¿ä¸»æœºä½¿ç”¨ADSLã€ä½¿ç”¨ä½¿ç”¨ä»£ç†æˆ–VPNã€å®¿ä¸»æœºç½‘å…³åšäº†MACåœ°å€é™åˆ¶â€¦â€¦ Internalã€ˆå†…éƒ¨æ¨¡å¼ã€‰ è™šæ‹Ÿæœºä¸Žå¤–ç•Œå®Œå…¨åˆ†å¼€ï¼Œè™šæ‹Ÿæœºä¸Žå®¿ä¸»æœºç½‘ç»œä¸èƒ½äº’é€šï¼Œåªæœ‰ åŒä¸€åç§°ï¼ˆå¦‚ï¼šintnetï¼‰çš„å†…éƒ¨ç½‘ç»œæ¨¡å¼çš„è™šæ‹Ÿæœºä¹‹é—´æ‰èƒ½äº’ç›¸è®¿é—® ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¡ä»¶æ˜¯åœ¨åŒä¸€ç½‘æ®µã€‚è™šæ‹Ÿä¸»æœºç½‘ç»œå‚æ•° ï¼š é»˜è®¤ä¸åˆ†é…IPï¼Œéœ€è¦è‡ªå·²æ‰‹åŠ¨è®¾ç½®ã€‚ / Host-only Adapterã€ˆå®¿ä¸»æœºæ¨¡å¼ã€‰ VirtualBox åœ¨å®¿ä¸»æœºä¸­è™šæ‹Ÿä¸€ä¸ª host-only ç½‘å¡ï¼Œç„¶åŽæŠŠè™šæ‹Ÿä¸»æœºæ¡¥æŽ¥åˆ° host-only ç½‘å¡ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® host-only ç½‘å¡ï¼ˆå…±äº«ã€æ¡¥æŽ¥ï¼‰æ¥å®žçŽ°ç½‘ç»œè¿žæŽ¥ / VirtualBoxä¸­é»˜è®¤çš„Host-only Adapteræ˜¯DHCPè‡ªåŠ¨åˆ†é…åœ°å€çš„ï¼Œå³ä½¿å…³é—­DHCPä»»ç„¶ä¼šè‡ªåŠ¨é…ç½®ç½‘å¡ã€‚ç»¼ä¸Šæ‰€è¿°æˆ‘æ‰€é‡‡å–çš„æ˜¯ä¿©å¼ ç½‘å¡æ¥ä½œä¸ºé…ç½®çŽ¯å¢ƒï¼šNATã€æ–°å»ºçš„Host-only Adapterã€‚å…¶ä¸­NATç½‘å¡ç”¨äºŽè¿žæŽ¥å¤–ç½‘ï¼Œæ–°å»ºçš„Host-only Adapterç”¨äºŽXshellè¿žæŽ¥ä¸ŽDHCPåœ°å€åˆ†é…ï¼Œå®žçŽ°å¯¹éœ€è¦ç½‘ç»œå®‰è£…çš„å®¢æˆ·æœºç›´æŽ¥é€šä¿¡ã€‚ é…ç½®Host-only Adapterç½‘å¡,æ–°å»ºè™šæ‹Ÿç½‘å¡ï¼šç®¡ç†-&gt;ä¸»æœºç½‘ç»œç®¡ç†å™¨-&gt;æ–°å»º-&gt;é€‰ä¸­æ‰‹åŠ¨é…ç½®ç½‘å¡-&gt;å–æ¶ˆDHCPæœåŠ¡-&gt;åº”ç”¨ â€‹ åœ¨æ–°å»ºå¥½çš„è™šæ‹Ÿæœºè®¾ç½®ä¸­é€‰æ‹©ç½‘ç»œï¼Œé€‰æ‹©ç½‘å¡1-&gt;ç‚¹å‡»å¯ç”¨ç½‘ç»œè¿žæŽ¥-&gt;è¿žæŽ¥æ–¹å¼é€‰æ‹©ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ï¼›é€‰æ‹©ç½‘å¡2-&gt;ç‚¹å‡»å¯ç”¨ç½‘ç»œè¿žæŽ¥-&gt;è¿žæŽ¥æ–¹å¼é€‰æ‹©ä»…ä¸»æœºç½‘ç»œ-&gt;ç•Œé¢åç§°é€‰æ‹©åˆšåˆ›å»ºçš„è™šæ‹Ÿç½‘ç»œã€‚ è¿™æ—¶å€™æœ‰ä¿©å¼ ç½‘å¡enp0s3(NAT)ã€enp0s8(Host-only)ï¼Œä½†æ˜¯åŽé¢çš„ç½‘å¡ipæ˜¯æ²¡æœ‰çš„éœ€è¦æˆ‘ä»¬è‡ªå·±é…ç½®ï¼Œå¤åˆ¶enp0s3çš„ç½‘å¡é…ç½®åˆ°enp0s8 12cd /etc/sysconfig/network-scripts/cp ifcfg-enp0s3 ifcfg-enp0s8 æŸ¥çœ‹enp0s8ç½‘å¡çš„macåœ°å€ã€uuidå¹¶è®°å½• 1234ifconfig -anmcli con show ç¼–è¾‘ifcfg-enp0s8 123456789101112131415161718192021vi ifcfg-enp0s8#########################################################é…ç½®è¯¦æƒ…######################################################TYPE=EthernetPROXY_METHOD=noneBROWSER_ONLY=noBOOTPROTO=staticDEFROUTE=yesIPV4_FAILURE_FATAL=noIPV6INIT=yesIPV6_AUTOCONF=yesIPV6_DEFROUTE=yesIPV6_FAILURE_FATAL=noIPV6_ADDR_GEN_MODE=stable-privacyNAME=enp0s8HWADDR=08:00:27:73:09:e3UUID=a1a8cdad-3a45-32cc-a3a8-18acb8af644bDEVICE=enp0s8IPADDR=192.168.16.5GATEWAY=192.168.16.24NETMASK=255.255.255.0ONBOOT=yes éœ€è¦ç½‘ç»œå®‰è£…ç³»ç»Ÿçš„å®¢æˆ·æœºåœ¨VirtualBoxä¸Šéœ€è¦è®¾ç½®ç½‘å¡ä¸ŽçŽ¯å¢ƒæœºçš„Host-onlyç½‘å¡ä¸€è‡´æ‰èƒ½å®žçŽ°DHCPåŠ¨æ€åˆ†é…åœ°å€ä»¥åŠä¿©ä¸ªè™šæ‹Ÿæœºä¹‹é—´çš„äº’ç›¸è®¿é—®ã€‚ 3.VirtualBoxä¸­ä½¿ç”¨BIOSå¯åŠ¨TFTPè¿žæŽ¥è¶…æ—¶ å‡ºçŽ°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºåœ¨ipxeçŽ¯å¢ƒä¸­dhcpd.confé…ç½®çš„ipä»¥åŠç½‘å…³éƒ½æ˜¯ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰,è€Œå®žé™…ä¸­NATæ¨¡å¼ä¸­ä¿©ä¸ªè™šæ‹Ÿæœºåœ¨VirtualBoxæ˜¯æ— æ³•ç›´æŽ¥é€šä¿¡çš„ï¼Œæ‰€ä»¥åˆ†é…åˆ°çš„ipä¸ºNATç½‘å¡çš„IPï¼Œé€šè¿‡TFTPåŽ»è®¿é—®Host-onlyä¸­çš„åœ°å€ä¸ŽNATä¸­çš„ipxeçŽ¯å¢ƒåœ°å€æ˜¯æ— æ³•è®¿é—®åˆ°çš„ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°é…ç½®ipxeçŽ¯å¢ƒä¸­çš„dhcp.confå°†åŠ¨æ€IPé…ç½®åˆ°ä¸ŽHost-onlyç½‘å¡ä¸€ç›´çš„åŒä¸€ç½‘æ®µä¸­ï¼Œè¿™æ ·å®¢æˆ·æœºè®¾ç½®çš„ç½‘å¡ä¸ºHost-onlyæ—¶å°±å¯ä»¥æ­£å¸¸é€šè¿‡ç½‘ç»œå¼•å¯¼å¯åŠ¨ã€‚å…·ä½“VirtualBoxç½‘ç»œæ¨¡å¼å¯å‚è€ƒVirtualBoxæ­å»ºçŽ¯å¢ƒæŒ‡å—ã€‚ 4.VirtualBoxä¸­BIOSå®‰è£…å¤±è´¥ï¼šâ€œFATAL:No bootable medium found!System halted.â€ç»è¿‡ç¡®è®¤é»˜è®¤æƒ…å†µä¸‹VirtualBoxä¸‹è½½å®‰è£…åŽæ˜¯ä¸æ”¯æŒPXEå¯åŠ¨çš„ï¼Œå¯åŠ¨çš„æ—¶å€™æ˜¯ä¼šæŠ¥ä¸Šé¢çš„é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºç¼ºå°‘pxeæ‰©å±•åŒ…æ‰€å¯¼è‡´ï¼Œé€šè¿‡ä¸‹é¢è¿™ä¸ªåœ°å€ä¸‹è½½æ‰©å±•åŒ… é€‰æ‹©ä¸‹è½½å¯¹åº”VirtualBoxçš„æ‹“å±•åŒ…å®‰è£…å³å¯ï¼Œæœ€åŽï¼Œåœ¨å…¨å±€è®¾å®šâ€”&gt;æ‹“å±•ä¸­å¯ä»¥å®‰è£…æ‹“å±•åŒ…ï¼Œä¹‹åŽåœ¨è®¾ç½®â€”ç³»ç»Ÿä¸­æ›´æ”¹å¯åŠ¨é¡ºåºï¼Œä¼˜å…ˆä½¿ç”¨ç½‘è·¯å¯åŠ¨ï¼Œå¦‚æžœä½ çš„ç½‘ç»œçŽ¯å¢ƒæ”¯æŒPXEå¯åŠ¨ï¼Œå°±å¯ä»¥ä½¿ç”¨ç½‘ç»œå®‰è£…äº†ã€‚]]></content>
      <categories>
        <category>IPXE</category>
      </categories>
      <tags>
        <tag>IPXE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯†Rust]]></title>
    <url>%2F2020%2F06%2F13%2F%E8%AE%B0%E4%B8%80%E6%AC%A1Rust%E5%88%9D%E5%AD%A6%E5%8E%86%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[åˆè¯†RustRustç®€ä»‹Rustæ˜¯ç”±Mozillaä¸»å¯¼å¼€å‘çš„é€šç”¨ã€ç¼–è¯‘åž‹ç¼–ç¨‹è¯­è¨€ã€‚ è®¾è®¡å‡†åˆ™ä¸ºâ€œå®‰å…¨ã€å¹¶å‘ã€å®žç”¨â€ï¼Œæ”¯æŒå‡½æ•°å¼ã€ä¸¦è¡Œå¼ã€ç¨‹åºå¼ä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£Žæ ¼ ï¼Œ å®ƒæœ‰ç€æƒŠäººçš„è¿è¡Œé€Ÿåº¦ï¼ˆæœ‰äº›é¢†åŸŸç”šè‡³è¶…è¿‡ C/C++ï¼‰ï¼Œèƒ½å¤Ÿé˜²æ­¢è¿è¡Œé”™è¯¯ï¼Œå¹¶ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚RUST è¯­è¨€ä½¿æ¯ä¸ªäººéƒ½èƒ½å¤Ÿæž„å»ºå¯é ã€é«˜æ•ˆçš„è½¯ä»¶ã€‚ ä¸ºäº†å®žçŽ°å®‰å…¨ã€é€Ÿåº¦å’Œæ–Œå‘è¡Œï¼Œå®ƒæ²¡æœ‰é‡‡ç”¨åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼ˆGCï¼‰ã€‚è¿™è®©å®ƒåœ¨å…¶å®ƒè¯­è¨€å¹¶ä¸æ“…é•¿çš„åœºæ™¯ä¸­å¤§å±•èº«æ‰‹ï¼š åµŒå…¥åˆ°å…¶å®ƒè¯­è¨€ä¸­ã€åœ¨ç‰¹å®šçš„æ—¶é—´å’Œç©ºé—´è¦æ±‚ä¸‹ç¼–ç¨‹ã€ç¼–å†™ä¾‹å¦‚è®¾å¤‡é©±åŠ¨å’Œæ“ä½œç³»ç»Ÿè¿™æ ·çš„åº•å±‚ä»£ç ã€‚å®ƒé€šè¿‡ä¸€ç³»åˆ—ä¸äº§ç”Ÿè¿è¡Œæ—¶å¼€é”€çš„ç¼–è¯‘æ—¶å®‰å…¨æ£€æŸ¥æ¥æå‡ç›®å‰è¯­è¨€æ‰€å…³æ³¨çš„é¢†åŸŸï¼ŒåŒæ—¶æ¶ˆé™¤ä¸€åˆ‡æ•°æ®ç«žäº‰ã€‚Rust è¿˜è‡´åŠ›äºŽå®žçŽ°â€œé›¶å¼€é”€æŠ½è±¡â€ï¼Œè™½ç„¶æœ‰äº›æŠ½è±¡çœ‹èµ·æ¥æ›´åƒä¸€ä¸ªé«˜çº§è¯­è¨€çš„ç‰¹æ€§ã€‚å³ä¾¿å¦‚æ­¤ï¼Œä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ Rust æ¥åšä¸€äº›åº•å±‚çš„ç²¾å‡†æŽ§åˆ¶ã€‚ å­¦ä¹ å·¥å…·é›† å­¦ä¹ ç½‘å€ ç±»åž‹ https://www.rust-lang.org/ å®˜ç½‘ https://crates.io/ åŒ…ç®¡ç†å¹³å° https://docs.rs/ æ–‡æ¡£ä¸­å¿ƒ https://kaisery.github.io/trpl-zh-cn/ ä¸­æ–‡ç”µå­ä¹¦ å…¥é—¨æŒ‡å—åœ¨Windowsä¸Šå®‰è£…é¦–å…ˆï¼Œéœ€è¦å®‰è£…æœ€æ–°ç‰ˆçš„ Rust ç¼–è¯‘å·¥å…·å’Œ Visual Studio Codeï¼Œå…·ä½“ç¼–è¯‘å·¥å…·ä»¥åŠVs codeå®‰è£…æ•™ç¨‹è‡ªè¡Œç™¾åº¦ã€‚ Rust ç¼–è¯‘å·¥å…·ï¼šhttps://www.rust-lang.org/zh-CN/tools/install Rust çš„ç¼–è¯‘å·¥å…·ä¾èµ– C è¯­è¨€çš„ç¼–è¯‘å·¥å…·ï¼Œè¿™æ„å‘³ç€ä½ çš„ç”µè„‘ä¸Šè‡³å°‘å·²ç»å­˜åœ¨ä¸€ä¸ª C è¯­è¨€çš„ç¼–è¯‘çŽ¯å¢ƒã€‚å¦‚æžœä½ ä½¿ç”¨çš„æ˜¯ Linux ç³»ç»Ÿï¼Œå¾€å¾€å·²ç»å…·å¤‡äº† GCC æˆ– clangã€‚å¦‚æžœä½ ä½¿ç”¨çš„æ˜¯ macOSï¼Œéœ€è¦å®‰è£… Xcodeã€‚å¦‚æžœä½ æ˜¯ç”¨çš„æ˜¯ Windows æ“ä½œç³»ç»Ÿï¼Œä½ éœ€è¦å®‰è£… Visual Studio 2013 æˆ–ä»¥ä¸Šçš„çŽ¯å¢ƒï¼ˆéœ€è¦ C/C++ æ”¯æŒï¼‰ä»¥ä½¿ç”¨ MSVC æˆ–å®‰è£… MinGW + GCC ç¼–è¯‘çŽ¯å¢ƒï¼ˆCygwin è¿˜æ²¡æœ‰æµ‹è¯•ï¼‰ã€‚ Helloï¼ŒWorldï¼æŽ¥ä¸‹æ¥ï¼Œæ–°å»ºä¸€ä¸ªæºæ–‡ä»¶ï¼Œå‘½åä¸º main.rsã€‚Rust æºæ–‡ä»¶æ€»æ˜¯ä»¥ .rs æ‰©å±•åç»“å°¾ã€‚å¦‚æžœæ–‡ä»¶ååŒ…å«å¤šä¸ªå•è¯ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å®ƒä»¬ã€‚ä¾‹å¦‚å‘½åä¸º hello_world.rsï¼Œè€Œä¸æ˜¯ helloworld.rsã€‚ çŽ°åœ¨æ‰“å¼€åˆšåˆ›å»ºçš„ main.rs æ–‡ä»¶ï¼Œè¾“å…¥ç¤ºä¾‹ ä»£ç ã€‚ æ–‡ä»¶å: main.rs 123fn main() &#123; println!("Hello, world!");&#125; ä¿å­˜æ–‡ä»¶ï¼Œå¹¶å›žåˆ°ç»ˆç«¯çª—å£ã€‚åœ¨ Linux æˆ– macOS ä¸Šï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œç¼–è¯‘å¹¶è¿è¡Œæ–‡ä»¶ï¼š 123$ rustc main.rs$ ./mainHello, world! åœ¨ Windows ä¸Šï¼Œè¾“å…¥å‘½ä»¤ .\main.exeï¼Œè€Œä¸æ˜¯ ./mainï¼š 123&gt; rustc main.rs&gt; .\main.exeHello, world! ä¸ç®¡ä½¿ç”¨ä½•ç§æ“ä½œç³»ç»Ÿï¼Œç»ˆç«¯åº”è¯¥æ‰“å°å­—ç¬¦ä¸² Hello, world!ã€‚ å¦‚æžœå‡ºçŽ°ä»¥ä¸‹é”™è¯¯æç¤ºï¼Œéœ€è¦åœ¨ windowså¹³å°ä¸Šå…ˆå®‰è£… Microsoft C++ build tools 123456789error: linker `link.exe` not found | = note: ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚ (os error 2)note: the msvc targets depend on the msvc linker but `link.exe` was not foundnote: please ensure that VS 2013, VS 2015, VS 2017 or VS 2019 was installed with the Visual C++ optionerror: aborting due to previous error ç‚¹å‡» Microsoft C++ build toolsï¼Œè¿›è¡Œä¸‹è½½å®‰è£…ã€‚ æ­å»º Visual Studio Code å¼€å‘çŽ¯å¢ƒVisual Studio Codeï¼šhttps://code.visualstudio.com/Download ä¸‹è½½å®Œ Visual Studio Code å®‰è£…åŒ…ä¹‹åŽå¯åŠ¨å®‰è£…å‘å¯¼å®‰è£…ï¼ˆæ­¤æ­¥éª¤ä¸åœ¨æ­¤èµ˜è¿°ï¼‰ã€‚ å®‰è£…å®Œ Visual Studio Code ï¼ˆä¸‹æ–‡ç®€ç§° VSCodeï¼‰ä¹‹åŽè¿è¡Œ VSCodeã€‚ä½¿ç”¨å¿«æ·é”®ctrl+p ï¼Œè¾“å…¥å†…å®¹ ext åŽç©ºæ ¼ï¼ŒæŒ‰ä¸‹Enter æ‹“å±•æœç´¢æ¡†è¾“å…¥Chineseï¼Œå®‰è£…ç®€ä½“ä¸­æ–‡æ‰©å±•ï¼Œä½¿ç•Œé¢å˜æˆä¸­æ–‡ã€‚ ç”¨åŒæ ·çš„æ–¹æ³•å®‰è£… rls å’Œ Native Debug ä¸¤ä¸ªæ‰©å±•ã€‚ é‡æ–°å¯åŠ¨ VSCodeï¼ŒRust çš„å¼€å‘çŽ¯å¢ƒå°±æ­å»ºå¥½äº†ã€‚ åœ¨Dç›˜ç›®å½•ä¸‹åˆ›å»ºRust Workspaceæ–‡ä»¶å¤¹ï¼Œ åœ¨ VSCode ä¸­æ‰“å¼€æ–°å»ºçš„æ–‡ä»¶å¤¹ï¼š æ‰“å¼€æ–°çš„ç»ˆç«¯ åœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤ï¼š 1cargo new greeting å½“å‰æ–‡ä»¶ä¸‹ä¸‹ä¼šæž„å»ºä¸€ä¸ªåå« greeting çš„ Rust å·¥ç¨‹ç›®å½•ã€‚ çŽ°åœ¨åœ¨ç»ˆç«¯é‡Œè¾“å…¥ä»¥ä¸‹ä¸‰ä¸ªå‘½ä»¤ ï¼š 123cd ./greeting cargo build cargo run ç³»ç»Ÿåœ¨åˆ›å»ºå·¥ç¨‹æ—¶ä¼šç”Ÿæˆä¸€ä¸ª Hello, world æºç¨‹åº main.rsï¼Œè¿™æ—¶ä¼šè¢«ç¼–è¯‘å¹¶è¿è¡Œï¼š çŒœçŒœçœ‹æ¸¸æˆå¸®åŠ©å…¥é—¨èŽ·å–ç”¨æˆ·è¾“å…¥å†…å®¹é¦–å…ˆåœ¨åˆšæ‰åˆ›å»ºçš„å·¥ç¨‹ä¸‹çš„main.rsä¸‹è¾“å…¥ä»¥ä¸‹ç¤ºä¾‹ä»£ç ï¼š 123456789101112use std::io;fn main() &#123; let hello=String::from("Hello,World! Hello, Rust!"); println!("&#123;&#125;",hello); println!("Guess the number !"); println!("Please input your guess."); let mut guess=String::new(); io::stdin().read_line(&amp;mut guess) .expect("Failed to read line"); println!("You guessed: &#123;&#125;",guess); &#125; æŽ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æžä»£ç ä¸­çš„ä¿¡æ¯ï¼ŒçŒœçŒœçœ‹æ¸¸æˆçš„ä¸»è¦æ“ä½œæ˜¯ç”¨æˆ·æä¾›è¾“å…¥ï¼ŒæŽ§åˆ¶å°åé¦ˆç”¨æˆ·æ‰€çŒœçš„å†…å®¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†ioï¼ˆè¾“å…¥/è¾“å‡ºï¼‰åº“å¼•å…¥åˆ°å½“å‰çš„ä½œç”¨åŸŸï¼Œå…¶ä¸­ioåº“æ¥è‡ªæ ‡å‡†åº“ï¼ˆä¹Ÿè¢«ç§°ä½œstdï¼‰Rustå°†å°‘é‡çš„ç±»åž‹å¼•å…¥åˆ°æ¯ä¸ªç¨‹åºçš„ä½œç”¨åŸŸä¸­ï¼Œå¦‚æžœéœ€è¦çš„ç±»åž‹ä¸åœ¨æ¨¡å—ä¸­éœ€è¦ä½¿ç”¨åˆ°useè¯­å¥æ¥æ˜¾å¼çš„å°†å…¶å¼•å…¥ä½œç”¨åŸŸã€‚ 1use std::id; æŽ¥ä¸‹æ¥ mainå‡½æ•°æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ï¼š 1fn mainï¼ˆï¼‰&#123; å…¶ä¸­fnç”¨æ¥å£°æ˜Žä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œï¼ˆï¼‰è¡¨æ˜Žæ²¡æœ‰å‚æ•°ï¼Œ{ä½œä¸ºå‡½æ•°ä½“çš„å¼€å§‹ã€‚ ä¹‹åŽä¸€ç³»åˆ—çš„println!è¡¨ç¤ºæ˜¯ä¸€ä¸ªåœ¨å±å¹•ä¸Šæ‰“å°å­—ç¬¦ä¸²çš„å® ): 123println!("Hello, world!");println!("Guess the number !");println!("Please input your guess."); è¿™äº›ä»£ç ç”¨äºŽåœ¨æŽ§åˆ¶å°æ‰“å°ï¼Œæç¤ºå¹¶ä»‹ç»æ¸¸æˆå†…å®¹ä¾›ç”¨æˆ·è¾“å…¥ã€‚æŽ¥ä¸‹æ¥åˆ›å»ºä¸€ä¸ªå­˜å‚¨ç”¨æˆ·è¾“å…¥çš„åœ°æ–¹ï¼Œåƒè¿™æ ·ï¼š 1let mut guess=String::new(); æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ªletè¯­å¥ï¼Œç”¨æ¥åˆ›å»ºå˜é‡ ï¼ˆvariableï¼‰ã€‚ä¹‹æ‰€ä»¥letåŽé¢å¤šäº†ä¸€ä¸ªä¿®é¥°è¯mut,æ˜¯å› ä¸º åœ¨ Rust ä¸­ï¼Œå˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œåœ¨å˜é‡åå‰ä½¿ç”¨ mut æ¥ä½¿ä¸€ä¸ªå˜é‡å¯å˜ï¼š 12let a = 5; // ä¸å¯å˜let mut b = 5; // å¯å˜ è®©æˆ‘ä»¬å›žåˆ°çŒœçŒœçœ‹ç¨‹åºä¸­ã€‚çŽ°åœ¨æˆ‘ä»¬çŸ¥é“äº† let mut guess ä¼šå¼•å…¥ä¸€ä¸ªå«åš guess çš„å¯å˜å˜é‡ã€‚ç­‰å·ï¼ˆ=ï¼‰çš„å³è¾¹æ˜¯ guess æ‰€ç»‘å®šçš„å€¼ï¼Œå®ƒæ˜¯ String::new çš„ç»“æžœï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›žä¸€ä¸ª String çš„æ–°å®žä¾‹ã€‚Stringæ˜¯ä¸€ä¸ªæ ‡å‡†åº“æä¾›çš„å­—ç¬¦ä¸²ç±»åž‹ï¼Œå®ƒæ˜¯ UTF-8 ç¼–ç çš„å¯å¢žé•¿æ–‡æœ¬å—ã€‚ ::new é‚£ä¸€è¡Œçš„ :: è¯­æ³•è¡¨æ˜Ž new æ˜¯ String ç±»åž‹çš„ä¸€ä¸ª å…³è”å‡½æ•°ï¼ˆassociated functionï¼‰ã€‚å…³è”å‡½æ•°æ˜¯é’ˆå¯¹ç±»åž‹å®žçŽ°çš„ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ Stringï¼Œè€Œä¸æ˜¯ String çš„æŸä¸ªç‰¹å®šå®žä¾‹ã€‚ä¸€äº›è¯­è¨€ä¸­æŠŠå®ƒç§°ä¸º é™æ€æ–¹æ³•ï¼ˆstatic methodï¼‰ã€‚new å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå­—ç¬¦ä¸²ï¼Œä½ ä¼šå‘çŽ°å¾ˆå¤šç±»åž‹ä¸Šæœ‰ new å‡½æ•°ï¼Œå› ä¸ºå®ƒæ˜¯åˆ›å»ºç±»åž‹å®žä¾‹çš„æƒ¯ç”¨å‡½æ•°åã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œlet mut guess = String::new(); è¿™ä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ªå¯å˜å˜é‡ï¼Œå½“å‰å®ƒç»‘å®šåˆ°ä¸€ä¸ªæ–°çš„ String ç©ºå®žä¾‹ä¸Šï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åšçš„æ˜¯èŽ·å–åˆ°ç”¨æˆ·ä»Žé”®ç›˜ä¸Šè¾“å…¥çš„å˜é‡ï¼ŒäºŽæ˜¯è°ƒç”¨ioåº“ä¸­çš„stdinå‡½æ•°ï¼š 12io::stdin().read_line(&amp;mut guess) .expect("Failed to read line"); å¦‚æžœæœªåœ¨ç¨‹åºå¼€å¤´å£°æ˜Žå°†ioåº“å¼•å…¥åˆ°ç¨‹åºä¸­æ­¤æ—¶çš„io::stdin()åº”è¯¥æ›¿æ¢ä¸ºstd::io::stdin()ã€‚ä»£ç çš„ä¸‹ä¸€éƒ¨åˆ†.readline(&amp;mut guess)æ–¹æ³•ä»Žæ ‡å‡†è¾“å…¥å¥æŸ„ä¸­èŽ·å–ç”¨æˆ·è¾“å…¥ï¼Œæˆ‘ä»¬è¿˜æƒ³read_lineä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼š&amp;mut guessã€‚ç”±äºŽread_lineæ˜¯æ— è®ºç”¨æˆ·åœ¨æ ‡å‡†è¾“å…¥ä¸­è¾“å…¥ä»€ä¹ˆå†…å®¹ï¼Œå®ƒéƒ½ä¼šå°†å…¶å­˜å…¥åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰€ä»¥å®ƒéœ€è¦å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”ç”±äºŽæ˜¯é€šè¿‡ç”¨æˆ·é”®å…¥èµ‹å€¼ï¼Œæ‰€ä»¥å°†å…¶è®¾ç½®ä¸ºå¯å˜çš„ã€‚ &amp; è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª å¼•ç”¨ï¼ˆreferenceï¼‰ï¼Œå®ƒå…è®¸å¤šå¤„ä»£ç è®¿é—®åŒä¸€å¤„æ•°æ®ï¼Œè€Œæ— éœ€åœ¨å†…å­˜ä¸­å¤šæ¬¡æ‹·è´ã€‚å¼•ç”¨æ˜¯ä¸€ä¸ªå¤æ‚çš„ç‰¹æ€§ï¼ŒRust çš„ä¸€ä¸ªä¸»è¦ä¼˜åŠ¿å°±æ˜¯å®‰å…¨è€Œç®€å•çš„æ“çºµå¼•ç”¨ã€‚å®Œæˆå½“å‰ç¨‹åºå¹¶ä¸éœ€è¦äº†è§£å¦‚æ­¤å¤šç»†èŠ‚ã€‚çŽ°åœ¨ï¼Œæˆ‘ä»¬åªéœ€çŸ¥é“å®ƒåƒå˜é‡ä¸€æ ·ï¼Œé»˜è®¤æ˜¯ä¸å¯å˜çš„ã€‚å› æ­¤ï¼Œéœ€è¦å†™æˆ &amp;mut guess æ¥ä½¿å…¶å¯å˜ï¼Œè€Œä¸æ˜¯ &amp;guessã€‚ æŽ¥ä¸‹æ¥çš„ä»£ç æ˜¯ä½¿ç”¨ println! å ä½ç¬¦è¿›è¡Œæ‰“å°å€¼ 1println!("You guessed: &#123;&#125;", guess); è¿™è¡Œä»£ç æ‰“å°å­˜å‚¨ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œé‡Œé¢çš„ {} æ˜¯é¢„ç•™åœ¨ç‰¹å®šä½ç½®çš„å ä½ç¬¦ã€‚ä½¿ç”¨ {} ä¹Ÿå¯ä»¥æ‰“å°å¤šä¸ªå€¼ï¼šç¬¬ä¸€å¯¹ {} ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¹‹åŽçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œç¬¬äºŒå¯¹åˆ™ä½¿ç”¨ç¬¬äºŒä¸ªå€¼ï¼Œä¾æ­¤ç±»æŽ¨ã€‚è°ƒç”¨ä¸€æ¬¡ println! æ‰“å°å¤šä¸ªå€¼çœ‹èµ·æ¥åƒè¿™æ ·ï¼š 123let x = 5;let y = 10;println!("x = &#123;&#125; and y = &#123;&#125;", x, y); è¿™è¡Œä»£ç ä¼šæ‰“å°å‡º x = 5 and y = 10ã€‚å½“ç„¶ä¹Ÿæœ‰æ›´å¥½çš„å†™æ³•ï¼š 123let x = 5;let y = 10;println!("x = &#123;0&#125; and y = &#123;1&#125;", x, y); åœ¨ {} ä¹‹é—´å¯ä»¥æ”¾ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå°†æŠŠä¹‹åŽçš„å¯å˜å‚æ•°å½“ä½œä¸€ä¸ªæ•°ç»„æ¥è®¿é—®ï¼Œä¸‹æ ‡ä»Ž0 å¼€å§‹ã€‚ å¦‚æžœè¦è¾“å‡º {æˆ– }æ€Žä¹ˆåŠžå‘¢ï¼Ÿæ ¼å¼å­—ç¬¦ä¸²ä¸­é€šè¿‡åˆ†åˆ«è½¬ä¹‰ä»£è¡¨ { å’Œ }ã€‚ä½†æ˜¯å…¶ä»–å¸¸ç”¨è½¬ä¹‰å­—ç¬¦ä¸Ž C è¯­è¨€é‡Œçš„è½¬ä¹‰å­—ç¬¦ä¸€æ ·ï¼Œéƒ½æ˜¯åæ–œæ å¼€å¤´çš„å½¢å¼ã€‚ 123fn main() &#123; println!("&#123;&#123;&#125;&#125;"); &#125; ç”Ÿæˆä¸€ä¸ªç§˜å¯†æ•°å­— æŽ¥ä¸‹æ¥ï¼Œéœ€è¦ç”Ÿæˆä¸€ä¸ªç§˜å¯†æ•°å­—ï¼Œå¥½è®©ç”¨æˆ·æ¥çŒœã€‚ç§˜å¯†æ•°å­—åº”è¯¥æ¯æ¬¡éƒ½ä¸åŒï¼Œè¿™æ ·é‡å¤çŽ©æ‰ä¸ä¼šä¹å‘³ï¼›èŒƒå›´åº”è¯¥åœ¨ 1 åˆ° 100 ä¹‹é—´ï¼Œè¿™æ ·æ‰ä¸ä¼šå¤ªå›°éš¾ã€‚Rust æ ‡å‡†åº“ä¸­å°šæœªåŒ…å«éšæœºæ•°åŠŸèƒ½ã€‚ç„¶è€Œï¼ŒRust å›¢é˜Ÿè¿˜æ˜¯æä¾›äº†ä¸€ä¸ª randåº“ã€‚ åœ¨æˆ‘ä»¬ä½¿ç”¨ rand ç¼–å†™ä»£ç ä¹‹å‰ï¼Œéœ€è¦ä¿®æ”¹ Cargo.toml æ–‡ä»¶ï¼Œå¼•å…¥ä¸€ä¸ª rand ä¾èµ–ã€‚çŽ°åœ¨æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¹¶åœ¨åº•éƒ¨çš„ [dependencies] ç‰‡æ®µæ ‡é¢˜ä¹‹ä¸‹æ·»åŠ ï¼š 123[dependencies]rand = "0.5.5" åœ¨ Cargo.toml æ–‡ä»¶ä¸­ï¼Œæ ‡é¢˜ä»¥åŠä¹‹åŽçš„å†…å®¹å±žåŒä¸€ä¸ªç‰‡æ®µï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªæ ‡é¢˜æ‰å¼€å§‹æ–°çš„ç‰‡æ®µã€‚[dependencies] ç‰‡æ®µå‘Šè¯‰ Cargo æœ¬é¡¹ç›®ä¾èµ–äº†å“ªäº›å¤–éƒ¨ crate åŠå…¶ç‰ˆæœ¬ã€‚æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ 0.5.5 æ¥æŒ‡å®š rand åº“ã€‚Cargo ç†è§£è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸º SemVerï¼‰ï¼Œè¿™æ˜¯ä¸€ç§å®šä¹‰ç‰ˆæœ¬å·çš„æ ‡å‡†ã€‚0.5.5 äº‹å®žä¸Šæ˜¯ ^0.5.5 çš„ç®€å†™ï¼Œå®ƒè¡¨ç¤º â€œä»»ä½•ä¸Ž 0.5.5 ç‰ˆæœ¬å…¬æœ‰ API ç›¸å…¼å®¹çš„ç‰ˆæœ¬â€ã€‚çŽ°åœ¨ï¼Œä¸ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œæž„å»ºé¡¹ç›®ï¼Œè¿™æ—¶å€™çš„æŽ§åˆ¶é¢æ¿å¯èƒ½å¡åœ¨Blocking waiting for file lock on package cacheé€šè¿‡ç™¾åº¦æŸ¥è¯¢å»ºè®®å¯ä»¥è®¾ç½®cargoç”¨çš„é•œåƒï¼šåœ¨ä½ çš„CARGO_HOMEç›®å½•ä¸‹(é»˜è®¤æ˜¯~/.cargo)å»ºç«‹ä¸€ä¸ªåå«configæ²¡æœ‰æ‰©å±•åã€åˆ‡è®°ï¼Œæ²¡æœ‰æ‰©å±•åï¼ã€‘çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼šï¼ˆæœ‰äººçš„ç½‘ç»œçŽ¯å¢ƒå—é™ï¼Œæ²¡æœ‰åŠžæ³•ä»¥gitåè®®è®¿é—®å¤–ç½‘ï¼Œè¯·æŠŠä¸‹ä¸€è¡Œé‡Œçš„git://æ¢æˆhttps://æˆ–è€…http://ï¼‰ 12345[source.crates-io]registry = "https://github.com/rust-lang/crates.io-index"replace-with = 'tuna'[source.tuna]registry = "https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git" éªŒè¯ï¼šåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ cargo install cargo-releaseï¼Œä¼šæˆåŠŸå®‰è£…ä¸€ä¸ªå°ç¨‹åºï¼Œç¬¬ä¸€æ¬¡ä¸‹è½½çš„æ—¶å€™ä¼šå¾ˆæ…¢ï¼Œå› ä¸ºæœ‰å¤§çº¦å››ç™¾å…†çš„åˆå§‹ç´¢å¼•æ•°æ®è¦ä¸‹è½½ã€‚ çŽ°åœ¨ï¼Œä¸ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œæž„å»ºé¡¹ç›® : 1234567891011121314$ cargo build Updating crates.io index Downloaded rand v0.5.5 Downloaded libc v0.2.62 Downloaded rand_core v0.2.2 Downloaded rand_core v0.3.1 Downloaded rand_core v0.4.2 Compiling rand_core v0.4.2 Compiling libc v0.2.62 Compiling rand_core v0.3.1 Compiling rand_core v0.2.2 Compiling rand v0.5.5 Compiling guessing_game v0.1.0 (file:///projects/guessing_game) Finished dev [unoptimized + debuginfo] target(s) in 2.53 s Cargo.lock æ–‡ä»¶ç¡®ä¿æž„å»ºæ˜¯å¯é‡çŽ°çš„,è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ Cargo.lock æ–‡ä»¶ã€‚å®ƒåœ¨ç¬¬ä¸€æ¬¡è¿è¡Œ cargo build æ—¶åˆ›å»ºï¼Œå¹¶æ”¾åœ¨ guessing_game ç›®å½•ã€‚å½“ç¬¬ä¸€æ¬¡æž„å»ºé¡¹ç›®æ—¶ï¼ŒCargo è®¡ç®—å‡ºæ‰€æœ‰ç¬¦åˆè¦æ±‚çš„ä¾èµ–ç‰ˆæœ¬å¹¶å†™å…¥ Cargo.lock æ–‡ä»¶ã€‚å½“å°†æ¥æž„å»ºé¡¹ç›®æ—¶ï¼ŒCargo ä¼šå‘çŽ° Cargo.lock å·²å­˜åœ¨å¹¶ä½¿ç”¨å…¶ä¸­æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯å†æ¬¡è®¡ç®—æ‰€æœ‰çš„ç‰ˆæœ¬ã€‚è¿™ä½¿å¾—ä½ æ‹¥æœ‰äº†ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„å¯é‡çŽ°çš„æž„å»ºã€‚æ¢å¥è¯è¯´ï¼Œé¡¹ç›®ä¼šæŒç»­ä½¿ç”¨ 0.5.5 ç›´åˆ°ä½ æ˜¾å¼å‡çº§ï¼Œå¤šäºæœ‰äº† Cargo.lock æ–‡ä»¶ã€‚ æŽ¥ä¸‹æ¥æ›´æ–°main.rsç”Ÿæˆéšæœºæ•° 12345678910111213141516use std::io;use rand::Rng;fn main() &#123; let hello = String::from("Hello,World! Hello, Rust!"); println!("&#123;&#125;", hello); let secret_number=rand::thread_rng().gen_range(1,101); println!("Guess the number !"); println!("Please input your guess."); let mut guess = String::new(); io::stdin() .read_line(&amp;mut guess) .expect("Failed to read line"); println!("You guessed: &#123;&#125;", guess); println!("The secret number is: &#123;&#125;", secret_number);&#125; é¦–å…ˆï¼Œæˆ‘ä»¬æ–°å¢žäº†ä¸€è¡Œ useï¼šuse rand::Rngã€‚Rng æ˜¯ä¸€ä¸ª traitï¼Œå®ƒå®šä¹‰äº†éšæœºæ•°ç”Ÿæˆå™¨åº”å®žçŽ°çš„æ–¹æ³•ï¼Œæƒ³ä½¿ç”¨è¿™äº›æ–¹æ³•çš„è¯ï¼Œæ­¤ trait å¿…é¡»åœ¨ä½œç”¨åŸŸä¸­ã€‚ç¬¬åç« ä¼šè¯¦ç»†ä»‹ç» traitã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ä¸­é—´è¿˜æ–°å¢žåŠ äº†ä¸¤è¡Œã€‚rand::thread_rng å‡½æ•°æä¾›å®žé™…ä½¿ç”¨çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼šå®ƒä½äºŽå½“å‰æ‰§è¡Œçº¿ç¨‹çš„æœ¬åœ°çŽ¯å¢ƒä¸­ï¼Œå¹¶ä»Žæ“ä½œç³»ç»ŸèŽ·å– seedã€‚æŽ¥ä¸‹æ¥ï¼Œè°ƒç”¨éšæœºæ•°ç”Ÿæˆå™¨çš„ gen_range æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ç”±åˆšæ‰å¼•å…¥åˆ°ä½œç”¨åŸŸçš„ Rng trait å®šä¹‰ã€‚gen_range æ–¹æ³•èŽ·å–ä¸¤ä¸ªæ•°å­—ä½œä¸ºå‚æ•°ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªèŒƒå›´åœ¨ä¸¤è€…ä¹‹é—´çš„éšæœºæ•°ã€‚å®ƒåŒ…å«ä¸‹é™ä½†ä¸åŒ…å«ä¸Šé™ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®š 1 å’Œ 101 æ¥è¯·æ±‚ä¸€ä¸ª 1 å’Œ 100 ä¹‹é—´çš„æ•°ã€‚ æ–°å¢žåŠ çš„ç¬¬äºŒè¡Œä»£ç æ‰“å°å‡ºäº†ç§˜å¯†æ•°å­—ã€‚ æ¯”è¾ƒè¾“å…¥ã€ç§˜å¯†æ•°å­— çŽ°åœ¨æœ‰äº†ç”¨æˆ·è¾“å…¥å’Œä¸€ä¸ªéšæœºæ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒå®ƒä»¬ã€‚ 1234567891011121314/* *Rust æœ‰ä¸€ä¸ªé™æ€å¼ºç±»åž‹ç³»ç»Ÿï¼ŒåŒæ—¶ä¹Ÿæœ‰ç±»åž‹æŽ¨æ–­ã€‚å½“æˆ‘ä»¬å†™å‡º let guess = String::new() æ—¶ï¼Œ *Rust æŽ¨æ–­å‡º guess åº”è¯¥æ˜¯ String ç±»åž‹ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬å†™å‡ºç±»åž‹ã€‚å¦ä¸€æ–¹é¢ï¼Œsecret_numberï¼Œ *æ˜¯æ•°å­—ç±»åž‹ã€‚å‡ ä¸ªæ•°å­—ç±»åž‹æ‹¥æœ‰ 1 åˆ° 100 ä¹‹é—´çš„å€¼ï¼š32 ä½æ•°å­— i32ï¼›32 ä½æ— ç¬¦å·æ•°å­— u32ï¼› *64 ä½æ•°å­— i64 ç­‰ç­‰ã€‚Rust é»˜è®¤ä½¿ç”¨ i32ï¼Œæ‰€ä»¥å®ƒæ˜¯ secret_number çš„ç±»åž‹ï¼Œé™¤éžå¢žåŠ ç±»åž‹ä¿¡æ¯ï¼Œ *æˆ–ä»»ä½•èƒ½è®© Rust æŽ¨æ–­å‡ºä¸åŒæ•°å€¼ç±»åž‹çš„ä¿¡æ¯ï¼Œæ‰€ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è½¬æ¢ä¸ºæ•°å­—ç±»åž‹ */ let guess: u32 = guess.trim().parse().expect("Please type a number!");match guess.cmp(&amp;secret_number) &#123; Ordering::Less =&gt; println!("Too small!"), Ordering::Greater =&gt; println!("Too big!"), Ordering::Equal =&gt; println!("You win!"),&#125; ä¸è¿‡ç­‰ç­‰ï¼Œä¸æ˜¯å·²ç»æœ‰äº†ä¸€ä¸ªå«åš guess çš„å˜é‡äº†å—ï¼Ÿç¡®å®žå¦‚æ­¤ï¼Œä¸è¿‡ Rust å…è®¸ç”¨ä¸€ä¸ªæ–°å€¼æ¥ éšè— ï¼ˆshadowï¼‰ guess ä¹‹å‰çš„å€¼ã€‚è¿™ä¸ªåŠŸèƒ½å¸¸ç”¨åœ¨éœ€è¦è½¬æ¢å€¼ç±»åž‹ä¹‹ç±»çš„åœºæ™¯ã€‚å®ƒå…è®¸æˆ‘ä»¬å¤ç”¨ guess å˜é‡çš„åå­—ï¼Œè€Œä¸æ˜¯è¢«è¿«åˆ›å»ºä¸¤ä¸ªä¸åŒå˜é‡ï¼Œ æˆ‘ä»¬å°† guess ç»‘å®šåˆ° guess.trim().parse() è¡¨è¾¾å¼ä¸Šã€‚è¡¨è¾¾å¼ä¸­çš„ guess æ˜¯åŒ…å«è¾“å…¥çš„åŽŸå§‹ String ç±»åž‹ã€‚String å®žä¾‹çš„ trim æ–¹æ³•ä¼šåŽ»é™¤å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½å­—ç¬¦ã€‚u32 åªèƒ½ç”±æ•°å­—å­—ç¬¦è½¬æ¢ï¼Œä¸è¿‡ç”¨æˆ·å¿…é¡»è¾“å…¥ enter é”®æ‰èƒ½è®© read_line è¿”å›žï¼Œç„¶è€Œç”¨æˆ·æŒ‰ä¸‹ enter é”®æ—¶ï¼Œä¼šåœ¨å­—ç¬¦ä¸²ä¸­å¢žåŠ ä¸€ä¸ªæ¢è¡Œï¼ˆnewlineï¼‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·è¾“å…¥ 5 å¹¶æŒ‰ä¸‹ enterï¼Œguess çœ‹èµ·æ¥åƒè¿™æ ·ï¼š5\nã€‚\n ä»£è¡¨ â€œæ¢è¡Œâ€ï¼Œå›žè½¦é”®ã€‚trim æ–¹æ³•æ¶ˆé™¤ \nï¼Œåªç•™ä¸‹ 5ã€‚å­—ç¬¦ä¸²çš„ parse æ–¹æ³•å°†å­—ç¬¦ä¸²è§£æžæˆæ•°å­—ã€‚å› ä¸ºè¿™ä¸ªæ–¹æ³•å¯ä»¥è§£æžå¤šç§æ•°å­—ç±»åž‹ï¼Œå› æ­¤éœ€è¦å‘Šè¯‰ Rust å…·ä½“çš„æ•°å­—ç±»åž‹ï¼Œè¿™é‡Œé€šè¿‡ let guess: u32 æŒ‡å®šã€‚guess åŽé¢çš„å†’å·ï¼ˆ:ï¼‰å‘Šè¯‰ Rust æˆ‘ä»¬æŒ‡å®šäº†å˜é‡çš„ç±»åž‹ã€‚Rust æœ‰ä¸€äº›å†…å»ºçš„æ•°å­—ç±»åž‹ï¼›u32 æ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„ 32 ä½æ•´åž‹ã€‚å¯¹äºŽä¸å¤§çš„æ­£æ•´æ•°æ¥è¯´ï¼Œå®ƒæ˜¯ä¸é”™çš„ç±»åž‹ï¼Œç¬¬ä¸‰ç« è¿˜ä¼šè®²åˆ°å…¶ä»–æ•°å­—ç±»åž‹ã€‚å¦å¤–ï¼Œç¨‹åºä¸­çš„ u32 æ³¨è§£ä»¥åŠä¸Ž secret_number çš„æ¯”è¾ƒï¼Œæ„å‘³ç€ Rust ä¼šæŽ¨æ–­å‡º secret_number ä¹Ÿæ˜¯ u32 ç±»åž‹ã€‚çŽ°åœ¨å¯ä»¥ä½¿ç”¨ç›¸åŒç±»åž‹æ¯”è¾ƒä¸¤ä¸ªå€¼äº†ï¼ parse è°ƒç”¨å¾ˆå®¹æ˜“äº§ç”Ÿé”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²ä¸­åŒ…å« AðŸ‘%ï¼Œå°±æ— æ³•å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ã€‚å› æ­¤ï¼Œparse æ–¹æ³•è¿”å›žä¸€ä¸ª Result ç±»åž‹ã€‚åƒä¹‹å‰ â€œä½¿ç”¨ Result ç±»åž‹æ¥å¤„ç†æ½œåœ¨çš„é”™è¯¯â€œè®¨è®ºçš„ read_line æ–¹æ³•é‚£æ ·ï¼Œå†æ¬¡æŒ‰éƒ¨å°±ç­çš„ç”¨ expect æ–¹æ³•å¤„ç†å³å¯ã€‚å¦‚æžœ parse ä¸èƒ½ä»Žå­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªæ•°å­—ï¼Œè¿”å›žä¸€ä¸ª Result çš„ Err æˆå‘˜æ—¶ï¼Œexpect ä¼šä½¿æ¸¸æˆå´©æºƒå¹¶æ‰“å°é™„å¸¦çš„ä¿¡æ¯ã€‚å¦‚æžœ parse æˆåŠŸåœ°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ï¼Œå®ƒä¼šè¿”å›ž Result çš„ Ok æˆå‘˜ï¼Œç„¶åŽ expect ä¼šè¿”å›ž Ok å€¼ä¸­çš„æ•°å­— çŽ°åœ¨æ¸¸æˆå·²ç»å¤§ä½“ä¸Šèƒ½çŽ©äº†ï¼Œä¸è¿‡ç”¨æˆ·åªèƒ½çŒœä¸€æ¬¡ã€‚å¢žåŠ ä¸€ä¸ªå¾ªçŽ¯æ¥æ”¹å˜å®ƒå§ï¼ loop å…³é”®å­—åˆ›å»ºäº†ä¸€ä¸ªæ— é™å¾ªçŽ¯ã€‚å°†å…¶åŠ å…¥åŽï¼Œç”¨æˆ·å¯ä»¥åå¤çŒœæµ‹ï¼Œ ç”¨æˆ·æ€»èƒ½ä½¿ç”¨ ctrl-c ç»ˆæ­¢ç¨‹åºã€‚ 1234567891011121314151617181920212223242526loop &#123; println!("Please input your guess."); let mut guess = String::new(); /* *èŽ·å–ç”¨æˆ·è¾“å…¥ */ io::stdin() .read_line(&amp;mut guess) .expect("Failed to read line"); /* *Rust æœ‰ä¸€ä¸ªé™æ€å¼ºç±»åž‹ç³»ç»Ÿï¼ŒåŒæ—¶ä¹Ÿæœ‰ç±»åž‹æŽ¨æ–­ã€‚å½“æˆ‘ä»¬å†™å‡º let guess = String::new() æ—¶ï¼Œ *Rust æŽ¨æ–­å‡º guess åº”è¯¥æ˜¯ String ç±»åž‹ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬å†™å‡ºç±»åž‹ã€‚å¦ä¸€æ–¹é¢ï¼Œsecret_numberï¼Œ *æ˜¯æ•°å­—ç±»åž‹ã€‚å‡ ä¸ªæ•°å­—ç±»åž‹æ‹¥æœ‰ 1 åˆ° 100 ä¹‹é—´çš„å€¼ï¼š32 ä½æ•°å­— i32ï¼›32 ä½æ— ç¬¦å·æ•°å­— u32ï¼› *64 ä½æ•°å­— i64 ç­‰ç­‰ã€‚Rust é»˜è®¤ä½¿ç”¨ i32ï¼Œæ‰€ä»¥å®ƒæ˜¯ secret_number çš„ç±»åž‹ï¼Œé™¤éžå¢žåŠ ç±»åž‹ä¿¡æ¯ï¼Œ *æˆ–ä»»ä½•èƒ½è®© Rust æŽ¨æ–­å‡ºä¸åŒæ•°å€¼ç±»åž‹çš„ä¿¡æ¯ï¼Œæ‰€ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è½¬æ¢ä¸ºæ•°å­—ç±»åž‹ */ let guess: u32 = guess.trim().parse().expect("Please type a number!"); match guess.cmp(&amp;secret_number) &#123; Ordering::Less =&gt; println!("Too small!"), Ordering::Greater =&gt; println!("Too big!"), Ordering::Equal =&gt; println!("You win!"), &#125; println!("You guessed: &#123;&#125;", guess); println!("The secret number is: &#123;&#125;", secret_number); &#125; è®©æˆ‘ä»¬å¢žåŠ ä¸€ä¸ª break è¯­å¥ï¼Œåœ¨ç”¨æˆ·çŒœå¯¹æ—¶é€€å‡ºæ¸¸æˆï¼š 12345678match guess.cmp(&amp;secret_number) &#123; Ordering::Less =&gt; println!("Too small!"), Ordering::Greater =&gt; println!("Too big!"), Ordering::Equal =&gt; &#123; println!("You win!"); break; &#125;, &#125; é€šè¿‡åœ¨ You win! ä¹‹åŽå¢žåŠ ä¸€è¡Œ breakï¼Œç”¨æˆ·çŒœå¯¹äº†ç¥žç§˜æ•°å­—åŽä¼šé€€å‡ºå¾ªçŽ¯ã€‚é€€å‡ºå¾ªçŽ¯ä¹Ÿæ„å‘³ç€é€€å‡ºç¨‹åºï¼Œå› ä¸ºå¾ªçŽ¯æ˜¯ main çš„æœ€åŽä¸€éƒ¨åˆ†ã€‚ æœ€ç»ˆä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546use rand::Rng;use std::cmp::Ordering;use std::io;fn main() &#123; let hello = String::from("Hello,World! Hello, Rust!"); println!("&#123;&#125;", hello); /* *ç”Ÿæˆéšæœºæ•° */ let secret_number = rand::thread_rng().gen_range(1, 101); println!("Guess the number !"); loop &#123; println!("Please input your guess."); let mut guess = String::new(); /* *èŽ·å–ç”¨æˆ·è¾“å…¥ */ io::stdin() .read_line(&amp;mut guess) .expect("Failed to read line"); /* *Rust æœ‰ä¸€ä¸ªé™æ€å¼ºç±»åž‹ç³»ç»Ÿï¼ŒåŒæ—¶ä¹Ÿæœ‰ç±»åž‹æŽ¨æ–­ã€‚å½“æˆ‘ä»¬å†™å‡º let guess = String::new() æ—¶ï¼Œ *Rust æŽ¨æ–­å‡º guess åº”è¯¥æ˜¯ String ç±»åž‹ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬å†™å‡ºç±»åž‹ã€‚å¦ä¸€æ–¹é¢ï¼Œsecret_numberï¼Œ *æ˜¯æ•°å­—ç±»åž‹ã€‚å‡ ä¸ªæ•°å­—ç±»åž‹æ‹¥æœ‰ 1 åˆ° 100 ä¹‹é—´çš„å€¼ï¼š32 ä½æ•°å­— i32ï¼›32 ä½æ— ç¬¦å·æ•°å­— u32ï¼› *64 ä½æ•°å­— i64 ç­‰ç­‰ã€‚Rust é»˜è®¤ä½¿ç”¨ i32ï¼Œæ‰€ä»¥å®ƒæ˜¯ secret_number çš„ç±»åž‹ï¼Œé™¤éžå¢žåŠ ç±»åž‹ä¿¡æ¯ï¼Œ *æˆ–ä»»ä½•èƒ½è®© Rust æŽ¨æ–­å‡ºä¸åŒæ•°å€¼ç±»åž‹çš„ä¿¡æ¯ï¼Œæ‰€ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è½¬æ¢ä¸ºæ•°å­—ç±»åž‹ */ let guess: u32 = match guess.trim().parse() &#123; Ok(num) =&gt; num, Err(_) =&gt; continue, &#125;; /* *æ¯”è¾ƒç”¨æˆ·è¾“å…¥ä¸Žéšæœºç”Ÿæˆ */ match guess.cmp(&amp;secret_number) &#123; Ordering::Less =&gt; println!("Too small!"), Ordering::Greater =&gt; println!("Too big!"), Ordering::Equal =&gt; &#123; println!("You win!"); break; &#125; &#125; println!("You guessed: &#123;&#125;", guess); println!("The secret number is: &#123;&#125;", secret_number); &#125;&#125; æ€»ç»“æœ¬ç« é€šè¿‡ç®€ç•¥ä»‹ç»Rustã€çŽ¯å¢ƒæ­å»ºä»¥åŠåŠ¨æ‰‹å®žè·µï¼Œå‘ä½ ä»‹ç»äº† Rust æ–°æ¦‚å¿µï¼šletã€matchã€æ–¹æ³•ã€å…³è”å‡½æ•°ã€ä½¿ç”¨å¤–éƒ¨ èµ„æºåº“ ç­‰ç­‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±ç®—åˆæ­¥è®¤è¯†Rustäº†ä¸ºåŽç»­å­¦ä¹ Rustæ‰“å®šäº†åŸºç¡€ã€‚]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot+Dubbo+Zookeeperç®€å•é›†æˆåˆ†å¸ƒå¼]]></title>
    <url>%2F2019%2F03%2F27%2FSpringBoot-Dubbo-Zookeper%2F</url>
    <content type="text"><![CDATA[Spring Boot+Dubbo+Zookeeperç®€å•é›†æˆåˆ†å¸ƒå¼dubboæ˜¯é˜¿é‡Œå…¬å¸æŽ¨å‡ºè§£å†³åˆ†å¸ƒå¼æœåŠ¡é—®é¢˜çš„æ¡†æž¶ï¼Œæ˜¯ä¸€ä¸ªåŸºäºŽSOAé¢å‘æœåŠ¡ä½“ç³»ç»“æž„çš„åŸºç¡€è®¾æ–½ï¼Œæä¾›äº†è¯¸å¦‚æœåŠ¡å‘å¸ƒæ³¨å†Œã€å®¹é”™è°ƒç”¨ã€éƒ¨ç½²ã€è°ƒç”¨æ¬¡æ•°ç›‘æŽ§ã€æ¯ä¸ªæœåŠ¡çš„æ€§èƒ½ç›‘æŽ§ç­‰å¾ˆå¤šåŠŸèƒ½ã€‚ Dubboå»ºè®®ä½¿ç”¨Zookeeperä½œä¸ºæœåŠ¡çš„æ³¨å†Œä¸­å¿ƒã€‚ Zookeeperçš„ä½œç”¨ï¼š â€‹ zookeeperç”¨æ¥æ³¨å†ŒæœåŠ¡å’Œè¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå“ªä¸€ä¸ªæœåŠ¡ç”±å“ªä¸€ä¸ªæœºå™¨æ¥æä¾›å¿…éœ€è®©è°ƒç”¨è€…çŸ¥é“ï¼Œç®€å•æ¥è¯´å°±æ˜¯ipåœ°å€å’ŒæœåŠ¡åç§°çš„å¯¹åº”å…³ç³»ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ é€šè¿‡ç¡¬ç¼–ç çš„æ–¹å¼æŠŠè¿™ç§å¯¹åº”å…³ç³»åœ¨è°ƒç”¨æ–¹ä¸šåŠ¡ä»£ç ä¸­å®žçŽ°ï¼Œä½†æ˜¯å¦‚æžœæä¾›æœåŠ¡çš„æœºå™¨æŒ‚æŽ‰è°ƒç”¨è€…æ— æ³•çŸ¥æ™“ï¼Œå¦‚æžœä¸æ›´æ”¹ä»£ç ä¼šç»§ç»­è¯·æ±‚æŒ‚æŽ‰çš„æœºå™¨æä¾›æœåŠ¡ã€‚ zookeeperé€šè¿‡å¿ƒè·³æœºåˆ¶å¯ä»¥æ£€æµ‹æŒ‚æŽ‰çš„æœºå™¨å¹¶å°†æŒ‚æŽ‰æœºå™¨çš„ipå’ŒæœåŠ¡å¯¹åº”å…³ç³»ä»Žåˆ—è¡¨ä¸­åˆ é™¤ã€‚è‡³äºŽæ”¯æŒé«˜å¹¶å‘ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ¨ªå‘æ‰©å±•ï¼Œåœ¨ä¸æ›´æ”¹ä»£ç  çš„æƒ…å†µé€šè¿‡æ·»åŠ æœºå™¨æ¥æé«˜è¿ç®—èƒ½åŠ›ã€‚é€šè¿‡æ·»åŠ æ–°çš„æœºå™¨å‘zookeeperæ³¨å†ŒæœåŠ¡ï¼ŒæœåŠ¡çš„æä¾›è€…å¤šäº†èƒ½æœåŠ¡çš„å®¢æˆ·å°±å¤šäº†ã€‚ dubboï¼š â€‹ æ˜¯ç®¡ç†ä¸­é—´å±‚çš„å·¥å…·ï¼Œåœ¨ä¸šåŠ¡å±‚åˆ°æ•°æ®ä»“åº“é—´æœ‰éžå¸¸å¤šæœåŠ¡çš„æŽ¥å…¥å’ŒæœåŠ¡æä¾›è€…éœ€è¦è°ƒåº¦ï¼Œdubboæä¾›ä¸€ä¸ªæ¡†æž¶è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ â€‹ æ³¨æ„è¿™é‡Œçš„dubboåªæ˜¯ä¸€ä¸ªæ¡†æž¶ï¼Œè‡³äºŽä½ æž¶å­ä¸Šæ”¾ä»€ä¹ˆæ˜¯å®Œå…¨å–å†³äºŽä½ çš„ï¼Œå°±åƒä¸€ä¸ªæ±½è½¦éª¨æž¶ï¼Œä½ éœ€è¦é…ä½ çš„è½®å­å¼•æ“Žã€‚è¿™ä¸ªæ¡†æž¶ä¸­è¦å®Œæˆè°ƒåº¦å¿…é¡»è¦æœ‰ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ³¨å†Œä¸­å¿ƒï¼Œå‚¨å­˜æ‰€æœ‰æœåŠ¡çš„å…ƒæ•°æ®ï¼Œä½ å¯ä»¥ç”¨zkï¼Œä¹Ÿå¯ä»¥ç”¨åˆ«çš„ï¼Œåªæ˜¯å¤§å®¶éƒ½ç”¨zkã€‚ zookeeperå’Œdubboçš„å…³ç³»ï¼š â€‹ Dubboçš„å°†æ³¨å†Œä¸­å¿ƒè¿›è¡ŒæŠ½è±¡ï¼Œæ˜¯å¾—å®ƒå¯ä»¥å¤–æŽ¥ä¸åŒçš„å­˜å‚¨åª’ä»‹ç»™æ³¨å†Œä¸­å¿ƒæä¾›æœåŠ¡ï¼Œæœ‰ZooKeeperï¼ŒMemcachedï¼ŒRedisç­‰ã€‚ â€‹ å¼•å…¥äº†ZooKeeperä½œä¸ºå­˜å‚¨åª’ä»‹ï¼Œä¹Ÿå°±æŠŠZooKeeperçš„ç‰¹æ€§å¼•è¿›æ¥ã€‚é¦–å…ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Œå•æ³¨å†Œä¸­å¿ƒçš„æ‰¿è½½èƒ½åŠ›æ˜¯æœ‰é™çš„ï¼Œåœ¨æµé‡è¾¾åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶ å€™å°±éœ€è¦åˆ†æµï¼Œè´Ÿè½½å‡è¡¡å°±æ˜¯ä¸ºäº†åˆ†æµè€Œå­˜åœ¨çš„ï¼Œä¸€ä¸ªZooKeeperç¾¤é…åˆç›¸åº”çš„Webåº”ç”¨å°±å¯ä»¥å¾ˆå®¹æ˜“è¾¾åˆ°è´Ÿè½½å‡è¡¡ï¼›èµ„æºåŒæ­¥ï¼Œå•å•æœ‰è´Ÿè½½å‡è¡¡è¿˜ä¸ å¤Ÿï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®å’Œèµ„æºéœ€è¦åŒæ­¥ï¼ŒZooKeeperé›†ç¾¤å°±å¤©ç„¶å…·å¤‡æœ‰è¿™æ ·çš„åŠŸèƒ½ï¼›å‘½åæœåŠ¡ï¼Œå°†æ ‘çŠ¶ç»“æž„ç”¨äºŽç»´æŠ¤å…¨å±€çš„æœåŠ¡åœ°å€åˆ—è¡¨ï¼ŒæœåŠ¡æä¾›è€…åœ¨å¯åŠ¨ çš„æ—¶å€™ï¼Œå‘ZKä¸Šçš„æŒ‡å®šèŠ‚ç‚¹/dubbo/${serviceName}/providersç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„URLåœ°å€ï¼Œè¿™ä¸ªæ“ä½œå°±å®Œæˆäº†æœåŠ¡çš„å‘å¸ƒã€‚ å…¶ä»–ç‰¹æ€§è¿˜æœ‰Masté€‰ä¸¾ï¼Œåˆ†å¸ƒå¼é”ç­‰ã€‚ä¸‹é¢æ˜¯ç®€å•çš„å®žçŽ°Spring Boot+Dubbo+Zookeeperç®€å•é›†æˆ 1.é¦–å…ˆåœ¨winæˆ–linuxä¸‹å®‰è£…zookeeperï¼Œè¿™é‡Œä»¥winçŽ¯å¢ƒä¸‹è¿›è¡Œå®‰è£…Zookeeper. åœ¨å®˜ç½‘https://mirrors.cnnic.cn/apache/zookeeper/ä¸‹è½½zookeeper. æŠŠä¸‹è½½çš„zookeeperçš„æ–‡ä»¶è§£åŽ‹åˆ°æŒ‡å®šç›®å½• 1234567891011121314151617D:\machine\zookeeper-3.3.6&gt;ä¿®æ”¹confä¸‹å¢žåŠ ä¸€ä¸ªzoo.cfgå†…å®¹å¦‚ä¸‹ï¼š# The number of milliseconds of each tick å¿ƒè·³é—´éš” æ¯«ç§’æ¯æ¬¡tickTime=2000# The number of ticks that the initial# synchronization phase can takeinitLimit=10# The number of ticks that can pass between# sending a request and getting anacknowledgementsyncLimit=5# the directory where the snapshot isstored. //é•œåƒæ•°æ®ä½ç½®dataDir=D:\\data\\zookeeper#æ—¥å¿—ä½ç½®dataLogDir=D:\\logs\\zookeeper# the port at which the clients willconnect å®¢æˆ·ç«¯è¿žæŽ¥çš„ç«¯å£clientPort=2181 æ³¨ï¼šå¦‚æžœå¯åŠ¨æœ‰æŠ¥é”™æç¤ºcfgæ–‡ä»¶æœ‰é”™è¯¯ï¼Œå¯ä»¥ç”¨zoo_sample.cfgå†…å†…å®¹æ›¿ä»£ä¹Ÿæ˜¯å¯ä»¥çš„ è¿›å…¥åˆ°binç›®å½•ï¼Œå¹¶ä¸”å¯åŠ¨zkServer.cmdï¼Œè¿™ä¸ªè„šæœ¬ä¸­ä¼šå¯åŠ¨ä¸€ä¸ªjavaè¿›ç¨‹ 123D:\machine\zookeeper-3.3.6&gt;cd binD:\machine\zookeeper-3.3.6\bin&gt;D:\machine\zookeeper-3.3.6\bin &gt;zkServer.cmd 2.åˆ›å»ºç”Ÿäº§è€…åŠæ¶ˆè´¹è€…demoç›®å½•æ ¼å¼å¦‚ä¸‹ï¼š å°†å¿…é¡»çš„jarå¯¼å…¥åˆ°dubboåŠdubboapiçš„pom.xmlä¸­ 123456789101112131415161718192021222324&lt;!--å¼•å…¥zookeeper--&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;3.4.6&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--å¼•å…¥dubbo--&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.0&lt;/version&gt;&lt;/dependency&gt;&lt;!--å¼•å…¥zookeeperå®¢æˆ·ç«¯--&gt;&lt;dependency&gt; &lt;groupId&gt;com.101tec&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;0.10&lt;/version&gt;&lt;/dependency&gt; 3.dubboé…ç½®æ–‡ä»¶åˆ†åˆ«åœ¨æœåŠ¡ç«¯å’Œæ¶ˆè´¹ç«¯ä¸‹çš„resourcesä¸‹åˆ›å»ºprovider.xmlåŠcustomer.xml provider.xml: 12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"&gt; &lt;!--é…ç½®æœåŠ¡åç§°--&gt; &lt;dubbo:application name="provider" /&gt; &lt;!--é…ç½®æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œdubboä¸ä»…ä»…æ”¯æŒzookeeper--&gt; &lt;dubbo:registry address="zookeeper://127.0.0.1:2181" /&gt; &lt;!--å£°æ˜Žå¯¹å¤–æš´éœ²çš„æœåŠ¡--&gt; &lt;dubbo:service interface="com.example.dubbo.service.UserService" ref="UserService" /&gt; &lt;bean id="demoService" class="com.example.dubbo.service.impl.UserServiceImpl"&gt;&lt;/bean&gt;&lt;/beans&gt; customer.xml:è¿™é‡Œé…ç½®å’Œprovider.xmlçš„æ—¶å€™æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä¸ç”¨æ³¨å…¥bean 123456789101112&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"&gt; &lt;!--é…ç½®æœåŠ¡åç§°--&gt; &lt;dubbo:application name="customer" /&gt; &lt;!--é…ç½®æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œdubboä¸ä»…ä»…æ”¯æŒzookeeper--&gt; &lt;dubbo:registry address="zookeeper://127.0.0.1:2181" /&gt; &lt;!--å£°æ˜ŽæœåŠ¡å¼•ç”¨ï¼Œä¸ŽæœåŠ¡å£°æ˜ŽæŽ¥å£ç±»åž‹ä¸€è‡´--&gt; &lt;dubbo:reference interface="com.example.dubbo.service.UserService" id="UserService" /&gt;&lt;/beans&gt; 4.ç¼–å†™æµ‹è¯•ç±»è¿™é‡Œçš„æŽ¥å£ä¸Žå®žä½“ç±»æ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å…±åŒéƒ½æœ‰çš„ ç¼–å†™poï¼š 1234567891011121314151617package com.example.dubbo.po;import lombok.Data;import java.io.Serializable;/** * @Description : * @Author : è‹ä¿Šå¼º * @Date : 2019/3/25 */@Datapublic class User implements Serializable &#123; private static final long serialVersionUID = 1L; private int id; private String password;&#125; ç¼–å†™service 12345678910111213package com.example.dubbo.service;import com.example.dubbo.po.User;/** * @Description : * @Author : è‹ä¿Šå¼º * @Date : 2019/3/25 */public interface UserService &#123; User selectUserById(int id);&#125; åœ¨æœåŠ¡ç«¯ç¼–å†™impl 123456789101112131415161718192021package com.example.dubbo.service.impl;import com.example.dubbo.po.User;import com.example.dubbo.service.UserService;import org.springframework.stereotype.Service;/** * @Description : * @Author : è‹ä¿Šå¼º * @Date : 2019/3/25 */@Service("UserService")public class UserServiceImpl implements UserService &#123; @Override public User selectUserById(int id) &#123; System.out.println("è¿™é‡Œæ˜¯dubboçš„æœåŠ¡ç«¯"); System.out.println("éœ€è¦æŸ¥è¯¢çš„ç”¨æˆ·ä¸º" + id); return null; &#125;&#125; åœ¨å®¢æˆ·ç«¯ç¼–å†™controller 1234567891011121314151617181920212223242526package com.example.dubbo.controller;import com.example.dubbo.po.User;import com.example.dubbo.service.UserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RestController;/** * @Description : * @Author : è‹ä¿Šå¼º * @Date : 2019/3/25 */@RestControllerpublic class UserController &#123; @Autowired private UserService userService; @GetMapping("selectUserById/&#123;id&#125;") public String selectUserById(@PathVariable("id") int id)&#123; System.out.println(id); User user= userService.selectUserById(id); return "ok"; &#125;&#125; è‡³äºŽå¦‚ä½•ä½¿ç”¨dubbo-admin ç›‘æŽ§æ­å»ºï¼Œè¯»è€…å¯å‚è€ƒhttps://blog.csdn.net/evankaka/article/details/47858707 æºç ä¸‹è½½https://github.com/su-junqiang/dubbo-zookeper-demo.git]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxå®‰è£…jdk1.8&&è®¾ç½®Tomcatä¸ºå¼€æœºå¯åŠ¨æœåŠ¡&&MySQLå¤–ç½‘è®¿é—®&&rediså®‰è£…é…ç½®]]></title>
    <url>%2F2019%2F01%2F01%2Flinux%26%26jdk%26%26mysql%26%26redis%2F</url>
    <content type="text"><![CDATA[linuxå®‰è£…jdk1.8è§£åŽ‹jdkå®‰è£…åŒ…ï¼šé™„ä¸Šjdk1.8çš„ä¸‹è½½åœ°å€ï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html å°†jdk-8u192-linux-x64.tar.gzä¸‹è½½åˆ°æœ¬åœ°ç”¨xftpå°†å…¶ä¸Šä¼ è‡³xshellä¸­è‡ªå·±æŒ‡å®šçš„ä¸‹è½½ç›®å½• ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶è§£åŽ‹ 12tar -zxvf jdk1.8.0_191.tar.gz //è§£åŽ‹å®‰è£…åŒ…åˆ°å½“å‰æ–‡ä»¶å¤¹ mv jdk1.8.0_191 java1.8 //é‡å‘½å ä¹‹åŽé…ç½®ä¸€ä¸‹çŽ¯å¢ƒå˜é‡ã€‚ ç¼–è¾‘/etc/ä¸‹çš„profileæ–‡ä»¶ï¼Œé…ç½®çŽ¯å¢ƒå˜é‡ 1sudo vi /etc/profile // åˆ°profileé…ç½®çŽ¯å¢ƒå˜é‡ åœ¨profileæ–‡ä»¶æ·»åŠ ä»¥ä¸‹å†…å®¹ 123export JAVA_HOME=/root/server/jdk1.8 //jdk1.8çš„ç›®å½• export JRE_HOME=$&#123;JAVA_HOME&#125;/jre export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH ä¹‹åŽä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ä¹‹åŽåœ¨æŽ§åˆ¶å°è¾“å…¥Java å’Œ Java -version çœ‹æœ‰æ²¡æœ‰ä¿¡æ¯è¾“å‡ºï¼Œå¦‚ä¸‹ï¼š 12java -version java version &quot;1.8.0_191&quot; //ç‰ˆæœ¬å· Java(TM) SE Runtime Environment (build 1.8.0_191-b12) Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode) èƒ½æ˜¾ç¤ºä»¥ä¸Šä¿¡æ¯ï¼Œå°±è¯´æ˜Žjdkå®‰è£…æˆåŠŸå•¦ linuxè®¾ç½®Tomcatä¸ºå¼€æœºå¯åŠ¨æœåŠ¡è§£åŽ‹tomcatå®‰è£…åŒ…é™„ä¸Štomcat8çš„ä¸‹è½½åœ°å€https://tomcat.apache.org/download-80.cgi å°†tar.gz (pgp, sha512)ä¸‹è½½åˆ°æœ¬åœ°ç”¨xftpå°†å…¶ä¸Šä¼ è‡³xshellä¸­è‡ªå·±æŒ‡å®šçš„ä¸‹è½½ç›®å½• ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶è§£åŽ‹ 12tar -zxvf apache-tomcat-8.5.35.tar.gz //è§£åŽ‹å®‰è£…åŒ…åˆ°å½“å‰æ–‡ä»¶å¤¹ mv apache-tomcat-8.5.35 tomcat8 //é‡å‘½å å°†tomcatå®‰è£…ç›®å½•ä¸‹binæ–‡ä»¶å¤¹ä¸­çš„catalina.shæ‹·è´åˆ°/etc/init.dä¸‹å¹¶ä¿®æ”¹åç§°ä¸ºtomcat 12cp /tomcat8/bin/catalina.sh /etc/init.d/ mv /etc/init.d/catalina.sh tomcat //å°†æœåŠ¡é‡å‘½åä¸ºtomcat åˆ†åˆ«æ‰§è¡Œä¸Šé¢ä¸‰æ¡å‘½ä»¤ï¼Œå¦‚æžœæç¤ºé”™è¯¯åœ¨å¼€å¤´åŠ ä¸Šsudoï¼Œç„¶åŽé…ç½®/etc/init.d/tomcatæ·»åŠ ä»¥ä¸‹å†…å®¹ 12CATALINA_HOME=/root/server/tomcat8 //tomcat8çš„ç›®å½• JAVA_HOME=/root/server/jdk1.8 //jdk1.8çš„ç›®å½• CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$CATALINA_HOME/lib ä¹‹åŽä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ä¹‹åŽè¿›è¡Œæ·»åŠ å¼€æœºè‡ªå¯æœåŠ¡ 1234apt install sysv-rc-conf //é¦–å…ˆå®‰è£…sysv-rc-conf update-rc.d â€“f tomcat remove sysv-rc-conf tomcat on sysv-rc-conf tomcat --list é‡å¯ 12reboot netstat -ntlp //æŸ¥çœ‹ç«¯å£8080æ˜¯å¦å¯åŠ¨ linuxè®¾ç½®MySQLå¤–ç½‘è®¿é—®é€šè¿‡apt-getå®‰è£…mysql 123sudo apt-get install mysql-server apt-get install mysql-client apt-get install mysql-client è¿›å…¥MySQLé…ç½®å…è®¸å¤–ç½‘è®¿é—® 123mysql -uroot -p //è¾“å…¥å¯†ç  use mysql select host,user from user; å®žçŽ°è¿œç¨‹è¿žæŽ¥(æŽˆæƒæ³•)å°†hostå­—æ®µçš„å€¼æ”¹ä¸º%å°±è¡¨ç¤ºåœ¨ä»»ä½•å®¢æˆ·ç«¯æœºå™¨ä¸Šèƒ½ä»¥rootç”¨æˆ·ç™»å½•åˆ°mysqlæœåŠ¡å™¨ï¼Œå»ºè®®åœ¨å¼€å‘æ—¶è®¾ä¸º%ã€‚ 12update user set host=&apos;%&apos; where user=&apos;root&apos;;flush privileges; æŽˆæƒç”¨æˆ· ä»»æ„ä¸»æœºä»¥ç”¨æˆ·rootå’Œå¯†ç mypwdè¿žæŽ¥åˆ°mysqlæœåŠ¡å™¨ 1GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos; IDENTIFIED BY &apos;mypwd&apos; WITH GRANT OPTION; flush privileges; IPä¸º192.168.1.102çš„ä¸»æœºä»¥ç”¨æˆ·myuserå’Œå¯†ç mypwdè¿žæŽ¥åˆ°mysqlæœåŠ¡å™¨ 12GRANT ALL PRIVILEGES ON *.* TO &apos;myuser&apos;@&apos;192.168.1.102&apos; IDENTIFIED BY &apos;mypwd&apos; WITH GRANT OPTION; flush privileges; linuxå®‰è£…é…ç½®redisé€šè¿‡wgetä¸‹è½½redisçš„åŽ‹ç¼©åŒ…12wget http://download.redis.io/releases/redis-5.0.3.tar.gz //redis wgetä¸‹è½½ tar xzf redis-5.0.3.tar.gz //è§£åŽ‹redisåŒ… è¿›å…¥redis-5.0.3ä¸‹çš„srcç›®å½• 1cd redis-5.0.3/src make install PREFIX=/usr/local/redis //æ³¨æ„:makeç¼–è¯‘å¦‚æžœå¤±è´¥ï¼Œå› ä¸ºæ²¡æœ‰å®‰è£…gccæœåŠ¡ å®‰è£…gccæœåŠ¡ï¼Œä¹‹åŽæç¤ºä¸‹è½½æ–‡ä»¶yç¡®è®¤ 1yum install gcc è¾“å…¥ make PREFIX=/usr/local/redis install å®‰è£…redis åˆ° ç›®å½• /usr/local/redis 123456Hint: It&apos;s a good idea to run &apos;make test&apos; ;) INSTALL install INSTALL install INSTALL install INSTALL install INSTALL install ä»¥ä¸Šæé†’è¡¨æ˜Žå®‰è£…æˆåŠŸã€‚ è¿›å…¥å®‰è£…ç›®å½•ï¼ŒæŸ¥çœ‹ bin ç›®å½•ä¸‹çš„æ–‡ä»¶ 123cd /usr/local/redis/bin ls redis-benchmark redis-check-aof redis-check-rdb redis-cli redis-sentinel redis-server å…¶ä¸­ï¼š redis-benchmark â€”-æ€§èƒ½æµ‹è¯•å·¥å…· redis-check-aof â€”-AOFæ–‡ä»¶ä¿®å¤å·¥å…· redis-check-dump â€”-RDBæ–‡ä»¶æ£€æŸ¥å·¥å…·ï¼ˆå¿«ç…§æŒä¹…åŒ–æ–‡ä»¶ï¼‰ redis-cli â€”-å‘½ä»¤è¡Œå®¢æˆ·ç«¯ redis-server â€”-redisæœåŠ¡å™¨å¯åŠ¨å‘½ä»¤ é…ç½® redis.conf,è¿›å…¥ä¸€å¼€å§‹è§£åŽ‹çš„æ–‡ä»¶å¤¹ 1cd /root/server/redis ls cp redis.conf /usr/local/redis/ ä¿®æ”¹redis.confé…ç½®æ–‡ä»¶ 1sudo vi redis.conf daemonize yes å°† daemonize no ä¿®æ”¹ä¸º daemonize yes è¿™æ ·ä¾¿å¯ä»¥ä»¥åŽç«¯æ¨¡å¼å¯åŠ¨ å¯åŠ¨redisæœåŠ¡ è¿›å…¥å®‰è£…ç›®å½• /usr/local/redis/ ï¼Œå‘½ä»¤è¡Œï¼š cd /usr/local/redis/ 1./bin/redis-server ./redis.conf]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>Linux</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸åŒçš„ SQL JOIN]]></title>
    <url>%2F2018%2F12%2F29%2FSql%26%26Join%2F</url>
    <content type="text"><![CDATA[INNER JOINå†…è¿žæŽ¥æ˜¯æœ€å¸¸è§çš„ä¸€ç§è¿žæŽ¥ï¼Œåªè¿žæŽ¥åŒ¹é…çš„è¡Œã€‚ inner joinè¯­æ³• 1select column_name(s) from table 1 INNER JOIN table 2 ON table 1.column_name=table 2.column_name æ³¨é‡Šï¼šINNER JOINä¸ŽJOINæ˜¯ç›¸åŒ INNER JOINäº§ç”Ÿçš„ç»“æžœé›†ä¸­ï¼Œæ˜¯1å’Œ2çš„äº¤é›†ã€‚ LEFT JOINè¿”å›žå·¦è¡¨çš„å…¨éƒ¨è¡Œå’Œå³è¡¨æ»¡è¶³ONæ¡ä»¶çš„è¡Œï¼Œå¦‚æžœå·¦è¡¨çš„è¡Œåœ¨å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸€è¡Œå³è¡¨ä¸­å¯¹åº”æ•°æ®ç”¨NULLä»£æ›¿ã€‚ LEFT JOIN è¯­æ³• 1select column_name(s) from table 1 LEFT JOIN table 2 ON table 1.column_name=table 2.column_name æ³¨é‡Šï¼šåœ¨æŸäº›æ•°æ®åº“ä¸­ï¼ŒLEFT JOIN ç§°ä¸ºLEFT OUTER JOIN LEFT JOINäº§ç”Ÿè¡¨1çš„å®Œå…¨é›†ï¼Œè€Œ2è¡¨ä¸­åŒ¹é…çš„åˆ™æœ‰å€¼ï¼Œæ²¡æœ‰åŒ¹é…çš„åˆ™ä»¥nullå€¼å–ä»£ã€‚ RIGHT JOINRIGHT JOINè¿”å›žå³è¡¨çš„å…¨éƒ¨è¡Œå’Œå·¦è¡¨æ»¡è¶³ONæ¡ä»¶çš„è¡Œï¼Œå¦‚æžœå³è¡¨çš„è¡Œåœ¨å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸€è¡Œå·¦è¡¨ä¸­å¯¹åº”æ•°æ®ç”¨NULLä»£æ›¿ã€‚ RIGHT JOINè¯­æ³• 1select column_name(s) from table 1 RIGHT JOIN table 2 ON table 1.column_name=table 2.column_name æ³¨é‡Šï¼šåœ¨æŸäº›æ•°æ®åº“ä¸­ï¼ŒRIGHT JOIN ç§°ä¸ºRIGHT OUTER JOIN RIGHT JOINäº§ç”Ÿè¡¨2çš„å®Œå…¨é›†ï¼Œè€Œ1è¡¨ä¸­åŒ¹é…çš„åˆ™æœ‰å€¼ï¼Œæ²¡æœ‰åŒ¹é…çš„åˆ™ä»¥nullå€¼å–ä»£ã€‚ FULL JOINä¼šä»Žå·¦è¡¨ å’Œå³è¡¨ é‚£é‡Œè¿”å›žæ‰€æœ‰çš„è¡Œã€‚å¦‚æžœå…¶ä¸­ä¸€ä¸ªè¡¨çš„æ•°æ®è¡Œåœ¨å¦ä¸€ä¸ªè¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œï¼Œé‚£ä¹ˆå¯¹é¢çš„æ•°æ®ç”¨NULLä»£æ›¿ FULL OUTER JOINè¯­æ³• 1select column_name(s) from table 1 FULL OUTER JOIN table 2 ON table 1.column_name=table 2.column_name FULL OUTER JOINäº§ç”Ÿ1å’Œ2çš„å¹¶é›†ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºŽæ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ä¼šä»¥nullåšä¸ºå€¼ã€‚]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaä¸­çš„forå¾ªçŽ¯ä¸ŽSQL]]></title>
    <url>%2F2018%2F12%2F29%2Fjava%26%26for%2F</url>
    <content type="text"><![CDATA[javaä¸­çš„forå¾ªçŽ¯åŸºç¡€çš„forå¾ªçŽ¯123for (int i = 0; i &lt; players.size(); i++) &#123;System.out.println(players.get(i));&#125; ä»¥å‰çš„å¾ªçŽ¯æ–¹å¼123for (String player : players) &#123;System.out.print(player + ";\n ");&#125; ä½¿ç”¨ lambda è¡¨è¾¾å¼ä»¥åŠå‡½æ•°æ“ä½œ(functional operation)1players.forEach((player) -&gt; System.out.print(player + ";\n ")); åœ¨ Java 8 ä¸­ä½¿ç”¨åŒå†’å·æ“ä½œç¬¦(double colon operator)1players.forEach(System.out::println); Javaæ•°æ®ç±»åž‹å’ŒMySqlæ•°æ®ç±»åž‹å¯¹åº”è¡¨]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitå¸¸ç”¨å‘½ä»¤è¯¦è§£]]></title>
    <url>%2F2018%2F12%2F29%2Fgit%26%26command%2F</url>
    <content type="text"><![CDATA[é…ç½®è´¦å·ä¿¡æ¯1234git config --global user.name ***git config --global user.email ***@***.***git config --list# æŸ¥çœ‹é…ç½®çš„ä¿¡æ¯git help config# èŽ·å–å¸®åŠ©ä¿¡æ¯ ç”Ÿæˆå¯†é’¥1ssh-keygen -t rsa -C ***@***.*** åˆå§‹åŒ–åˆå§‹åŒ–ä¸€ä¸ªç›®å½•ä¸ºå·¥ä½œç›®å½•1git init å‘ä¸´æ—¶ä»“åº“æ·»åŠ æ–‡ä»¶â€™ . â€˜è¡¨ç¤ºå…¨éƒ¨æ·»åŠ ï¼Œå½“ä½ éœ€è¦æ·»åŠ åˆšæ‰æ‰€ä¿®æ”¹çš„æ‰€æœ‰æ–‡ä»¶æ—¶ï¼Œå°±å¯ç”¨ç‚¹è¡¨ç¤ºã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ·»åŠ å…·ä½“æŸä¸€æ–‡ä»¶ï¼Œå¦‚git add a.doc 123git add . åˆ›å»ºæ–°åˆ†æ”¯ï¼šgit branch new_featuregit åˆ‡æ¢åˆ°å¦ä¸€åˆ†æ”¯: checkout new_feature å‘æ°¸ä¹…ä»“åº“æäº¤æ–‡ä»¶add å‘½ä»¤æ˜¯å‘gitçš„ä¸´æ—¶ä»“åº“æäº¤ï¼Œä¸´æ—¶ä»“åº“ç±»ä¼¼ç¼“å†²åŒºï¼Œcommit è¡¨ç¤ºçœŸæ­£çš„å‘ä»£ç åº“æäº¤ã€‚ 1git commit . -m &quot;æ³¨é‡Šéƒ¨åˆ†&quot; åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯å»ºç«‹åˆ†æ”¯æ˜¯åˆ›å»ºä»£ç çš„ç‹¬ç«‹ç‰ˆæœ¬çš„åŠ¨ä½œï¼Œç‹¬ç«‹äºŽä¸»å¹²åˆ†æ”¯[ä¸»åˆ†æ”¯(åç§°å«åšmaster)ï¼Œå³æ˜¯æˆ‘ä»¬å¹²åˆšæäº¤çš„åˆ†æ”¯ï¼Œå½“ä½ æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œgitä¼šé»˜è®¤å¸®æˆ‘ä»¬æäº¤åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚ä¸»åˆ†æ”¯æ˜¯é»˜è®¤ç”Ÿæˆçš„ï¼Œå…¶å®ƒåˆ†æ”¯éœ€è¦è‡ªå·±åˆ›å»º]ã€‚ åˆ›å»ºå¹¶åŒæ—¶åˆ‡æ¢åˆ°ä½ æ–°å»ºçš„åˆ†æ”¯ï¼Œå‘é€ï¼š 1git checkout -b new_feature ä¸Šé¢çš„å‘½ä»¤æˆ‘ä»¬å¯ä»¥åˆ†ä¸¤æ­¥æ‰§è¡Œï¼Œå…ˆåˆ›å»ºä¸€ä¸ªåˆ†æ”¯ç„¶åŽæ‰‹åŠ¨åˆ‡æ¢ï¼Œå°±åƒè¿™æ ·ï¼š å¦‚æžœè¦çœ‹åœ¨é¡¹ç›®ä¸‹æ‰€æœ‰çš„åˆ†æ”¯ï¼Œå‘é€è¿™ä¸ªï¼š 1git branch çŽ°åœ¨ä½ å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸Šæ— æ‰€é¡¾å¿Œåœ°åšä»»ä½•ä½ æƒ³åšçš„ï¼šä»»ä½•æ—¶å€™ï¼Œä½ éƒ½å¯ä»¥å›žåˆ°ä½ åˆ›å»ºåˆ†æ”¯å‰çš„çŠ¶æ€ã€‚ åˆå¹¶åˆ†æ”¯å½“æˆ‘ä»¬å¯¹åˆ†æ”¯ä¸Šçš„æ–°åŠŸèƒ½æ»¡æ„äº†çš„æ—¶å€™ï¼Œå°±éœ€è¦æŠŠå®ƒåŠ åˆ°ä¸»å¹²åˆ†æ”¯ä¸Šã€‚å½“æˆ‘ä»¬åœ¨è‡ªå·±çš„æ–°åŠŸèƒ½åˆ†æ”¯ä¸Šæ—¶ï¼Œé¦–å…ˆéœ€è¦åŠ è½½ï¼ˆstageï¼‰å¹¶ä¸”æäº¤ä½ çš„æ–‡ä»¶ï¼š 1git add .t commit -m &quot;adds my new feature&quot; ç„¶åŽæˆ‘ä»¬ç§»åˆ°è‡ªå·±çš„ä¸»å¹²åˆ†æ”¯ï¼š 1git checkout master åƒè¿™æ ·åˆå¹¶ï¼š 1git merge new_feature æ­¤æ—¶ï¼Œä½ çš„ä¸»å¹²åˆ†æ”¯å’Œä½ çš„æ–°åŠŸèƒ½åˆ†æ”¯ä¼šå˜æˆä¸€æ ·çš„ã€‚ ç‰ˆæœ¬å›žé€€gitä¼šå¸®ä½ è®°å½•ä½ çš„ä»»ä½•ä¸€æ¬¡æäº¤ï¼ˆæ‰€ä»¥ï¼Œæäº¤æ—¶å†™æ³¨é‡Šæ˜¯å¾ˆéœ€è¦çš„ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ‰¾å›žä»¥å‰ç‰ˆæœ¬ï¼‰ï¼Œä½•æ—¶åˆ‡æ¢äº†å“ªäº›åˆ†æ”¯ç­‰ç­‰ã€‚æŸ¥çœ‹çš„å‘½ä»¤å¾ˆç®€å•ï¼š 1git reflog ä½ ä¼šå‘çŽ°gitæ˜¯ç”¨ä¸€äº›ä¸è§„å¾‹çš„16è¿›åˆ¶æ•°ä»£è¡¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬å¦‚æžœæƒ³å›žåˆ°æŸä¸€ä¸ªä»¥å‰çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š 12git reset --hard è¯¥ç‰ˆæœ¬çš„16è¿›åˆ¶æ•° (æ³¨ï¼šåªéœ€å†™å‰å‡ ä½å³å¯ï¼Œgitä¼šè‡ªå·±åŽ»å¯»æ‰¾) å¦‚æžœä¸æ˜¯ç‰¹æ®Šæƒ…å†µï¼Œæˆ‘ä»¬åº”è¯¥å¾ˆå°‘åŽ»å›žé€€åˆ°ç‰¹åˆ«å¤è€çš„ç‰ˆæœ¬ï¼Œæœ€å¸¸ç”¨çš„èŽ«è¿‡äºŽå¯¹è‡ªå·±åˆšåˆšåšçš„ä¿®æ”¹ä¸æ»¡æ„ï¼Œï¼ˆåœ¨ä¸Šä¸€æ¬¡commitä¹‹åŽåšäº†ä¿®æ”¹ï¼Œä¹‹åŽè¿˜æ²¡æœ‰åšaddå’Œcommitæ“ä½œï¼‰æƒ³æ’¤å›žåˆ°ä¸Šä¸€æ¬¡çš„commitã€‚ä½ åªéœ€å†™ä¸€ä¸ªå‘½ä»¤å³å¯å›žé€€åˆ°åˆšæ‰commitçš„çŠ¶æ€: 12git checkout -- . (ç‰¹åˆ«æ³¨æ„ï¼šcheckoutåŽé¢æ˜¯ä¸¤æ -- å¦‚æžœæ²¡æœ‰è¿™ä¸¤æ æ˜¯ä»€ä¹ˆï¼Ÿ å°±æ˜¯åˆ‡æ¢åˆ†æ”¯äº†ï¼è¦ç‰¹åˆ«æ³¨æ„ï¼å½“ç„¶ï¼Œ--åŽé¢è¿˜éœ€è¦ &apos; . &apos;ï¼Œ è¡¨ç¤ºå…¨éƒ¨æ’¤å›žã€‚) æ ‡ç­¾12345678git tag v1.0# æ–°å»ºæ ‡ç­¾ git tag -a v1.0 -m &apos;my version 1.0&apos;# æ–°å»ºå¸¦æ³¨é‡Šæ ‡ç­¾ git checkout tagname# åˆ‡æ¢åˆ°æ ‡ç­¾ git tag# åˆ—å‡ºçŽ°æœ‰æ ‡ç­¾ push origin v1.5# æŽ¨é€åˆ†æ”¯åˆ°æºä¸Š git push origin --tags# ä¸€æ¬¡æ€§æŽ¨é€æ‰€æœ‰åˆ†æ”¯ git tag -d v1.0# åˆ é™¤æ ‡ç­¾ git push origin :refs/tags/v1.0# åˆ é™¤è¿œç¨‹æ ‡ç­¾ ä¸Šä¼ æ–‡ä»¶åˆ°è¿œç¨‹ä»£ç åº“ä¹‹æ‰€ä»¥è¯´git å¼ºå¤§ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åˆšåˆšæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨æœ¬åœ°å®Œæˆçš„ï¼Œä¸éœ€è¦è”ç½‘ï¼Œä¸éœ€è¦è‡ªå·±é¢å¤–å»ºåº“ï¼Œè¿™æ˜¯svnï¼Œcvsç­‰å…¶å®ƒç‰ˆæœ¬ç®¡ç†å·¥å…·åšä¸åˆ°çš„ã€‚ä½†è¿™æ ·å²‚ä¸æ˜¯ä¸èƒ½å›¢é˜Ÿåˆä½œäº†ï¼Ÿ åˆ«æ€¥ï¼Œè¿™å°±æœ‰äº†githubï¼Œbitbucketç­‰ç½‘ç«™ï¼Œå®ƒä»¬ä¸ºå¼€å‘è€…å…è´¹æä¾›è¿œç¨‹ä»£ç åº“ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†è‡ªå·±çš„ä»£ç å­˜å‚¨åˆ°ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†è¿œç¨‹åº“çš„ä»£ç pullåˆ°æœ¬åœ°ï¼Œå®žçŽ°å›¢é˜Ÿå¼€å‘ã€‚ æœ¬åœ°åº“ä¸Žè¿œç¨‹åº“è¿›è¡Œç»‘å®šï¼š 1git remote add origin git@server-name:path/repo-name.git æŽ¥ç€æˆ‘ä»¬å°±å‘è¿™ä¸ªè¿œç¨‹ä»“åº“æäº¤ä»£ç ï¼š git push origin æœ¬åœ°åˆ†æ”¯åç§°:è¿œç¨‹åˆ†æ”¯åç§° (åº”è¯¥å¾ˆå¥½ç†è§£ï¼Œpushä»£è¡¨ä¸Šä¼ å‘½ä»¤ï¼Œâ€˜ ï¼š â€™å·¦è¾¹å†™ä¸Šæœ¬åœ°çš„éœ€è¦ä¸Šä¼ çš„åˆ†æ”¯åç§°ï¼Œå³è¾¹å†™ä¸Šå°†è¿™ä¸ªåˆ†æ”¯ä¸Šä¼ åˆ°æœåŠ¡çš„åˆ†æ”¯åç§°ï¼Œ) git push origin master (å°†æœ¬åœ°çš„masteråˆ†æ”¯æŽ¨é€åˆ°è¿œç¨‹masteråˆ†æ”¯ä¸Šï¼Œæ˜¯git push origin master:masterçš„ç®€å†™å½¢å¼) åœ¨å›¢é˜Ÿå¼€å‘çš„æ—¶å€™ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ºäº†ä¸å¿…è¦çš„éº»çƒ¦ï¼Œä¸€å®šè®°å¾—è¦å°†è‡ªå·±çš„æœ¬åœ°æ–‡ä»¶æ›´æ–°åˆ°è¿œç¨‹ä»£ç åº“çš„æœ€æ–°ç‰ˆæœ¬åŽå†åšä¿®æ”¹ã€‚æ›´æ–°è¿œç¨‹ä»£ç åº“å¾ˆç®€å•. 1git pull origin master ä½¿ç”¨.gitignoreæ–‡ä»¶ åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå¾€å¾€æœ‰äº›æ–‡ä»¶æ˜¯æ— éœ€çº³å…¥ Git ç®¡ç†çš„ï¼Œæ¯”å¦‚è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œåƒæ—¥å¿—æˆ–è€…ç¼–è¯‘è¿‡ç¨‹ä¸­åˆ›å»ºçš„æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º .gitignore çš„æ–‡ä»¶ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æ³¨æ„1.ä»¥# ç¬¦å·å¼€å§‹çš„è¡Œéƒ½ä¼šè¢«gitå¿½è§† 2.æ”¯æŒglobæ¨¡å¼åŒ¹é…ï¼ˆå³ç®€åŒ–äº†çš„æ­£åˆ™è¡¨è¾¾å¼ï¼‰ ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910å¿½ç•¥æ‰€æœ‰ .tmp ç»“å°¾çš„æ–‡ä»¶*.tmp###### ä½† main.tmp é™¤å¤–!main.tmp###### ä»…ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ noteæ–‡ä»¶/noteå¿½ç•¥ build/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶build/ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/notes.txtdoc/notes.txt å…¶ä»–æŠ€å·§åœ¨Macç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€ä¸ªå¾ˆè®¨åŽŒçš„æ–‡ä»¶å«åš .DS_Store,å¦‚æžœæˆ‘ä»¬ä½¿ç”¨Macç³»ç»Ÿä¸€èˆ¬ä¼šåœ¨é¡¹ç›®åˆå§‹åŒ–çš„æ—¶å€™å°†å…¶åŠ å…¥`.gitignoreï¼Œä½†æœ‰æ—¶å€™ä¼šå› ä¸ºä»ŽWindowsè¿ç§»ç­‰åŽŸå› å¯¼è‡´å¿˜è®°æ·»åŠ å¹¶ä¸”commitè¿›ä»“åº“äº†ã€‚ è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å°†å…¶ç§»å‡ºGitä»“åº“ï¼Œæ­¥éª¤å¦‚ä¸‹: 12find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch ç„¶åŽå†å°†`.gitignore`é‡Œæ·»åŠ `.DS_Store`,é‡æ–°commitå³å¯ã€‚ å¯¹äºŽè¿™ç§å¸¸ç”¨å´åˆæ¯”è¾ƒé•¿çš„å‘½ä»¤ï¼Œæˆ‘ä¹ æƒ¯å°†å…¶ç»„è£…æˆå‡½æ•°åŠ å…¥bashrcä¸­ 123function cleands &#123; find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch &#125; è¿™æ ·ï¼Œæ‰§è¡Œcleandså³å¯ã€‚ git é»˜è®¤å¯¹äºŽæ–‡ä»¶åå¤§å°å†™æ˜¯ä¸æ•æ„Ÿçš„,è¦æƒ³ä¿®æ­£è¿™ä¸€ç‚¹ï¼Œä½¿ç”¨å¦‚ä¸‹é…ç½®ï¼š 1git config core.ignorecase false æœ‰æ—¶å€™commitä¹‹åŽçªç„¶æ„è¯†åˆ°commitçš„ä¿¡æ¯ä¸­æœ‰å•è¯æ‹¼é”™ä¹‹ç±»ï¼Œæƒ³åšä¿®æ”¹ï¼š 1git commit --amend Vimåœ¨å®‰è£…Vundleæ’ä»¶åŽä½¿ç”¨Vimæ¥commitä¸€äº›ä¿¡æ¯å¯èƒ½ä¼šæŠ¥é”™å¦‚ä¸‹ 12error: There was a problem with the editor &apos;vi&apos;. Please supply the message using either -m or -F option. è§£å†³æ–¹å¼ï¼š 1git config --global core.editor $(which vim) æƒ³è®©git çš„logä¿¡æ¯çœ‹èµ·æ¥æ›´geekï¼Ÿ 1git config --global alias.lg &quot;log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit&quot; git lg ä¸€ä¸‹è¯•è¯•ã€‚ gitignore å…¨å±€é…ç½® æ–°å»º~/.gitignoreæ–‡ä»¶ï¼š 12.DS\_Store *.swp ç„¶åŽæ‰§è¡Œï¼š 1$git config --global core.excludesfile ~/.gitignore .gitignoreè§„åˆ™ä¸ç”Ÿæ•ˆ æœ‰äº›æ—¶å€™æˆ‘ä»¬åœ¨cloneä¸€ä¸ªé¡¹ç›®ç¼–è¯‘åŽï¼Œå¾€å¾€ideä¼šç”Ÿæˆè®¸å¤šæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶åŠ å…¥.gitignore,ä½†æˆ‘ä»¬æŒ‰ç…§è§„åˆ™æ·»åŠ è¿›åŽ»ä¹‹åŽå¾€å¾€å¹¶ä¸ä¼šç”Ÿæ•ˆï¼ŒåŽŸå› æ˜¯.gitignoreåªèƒ½å¿½ç•¥é‚£äº›åŽŸæ¥æ²¡æœ‰è¢«trackçš„æ–‡ä»¶è¯¥æ–‡ä»¶åªèƒ½ä½œç”¨äºŽ Untracked Filesï¼Œä¹Ÿå°±æ˜¯é‚£äº›ä»Žæ¥æ²¡æœ‰è¢« Git è®°å½•è¿‡çš„æ–‡ä»¶ï¼ˆè‡ªæ·»åŠ ä»¥åŽï¼Œä»Žæœª add åŠ commit è¿‡çš„æ–‡ä»¶)ï¼Œå¦‚æžœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹.gitignoreæ˜¯æ— æ•ˆçš„ã€‚é‚£ä¹ˆè§£å†³æ–¹æ³•å°±æ˜¯å…ˆæŠŠæœ¬åœ° ç¼“å­˜åˆ é™¤ï¼ˆæ”¹å˜æˆæœªtrackçŠ¶æ€ï¼‰ï¼š 1git rm --cached ***]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoè¿›é˜¶é«˜çº§åŠŸèƒ½é…ç½®]]></title>
    <url>%2F2018%2F12%2F19%2FHexo-config%2F</url>
    <content type="text"><![CDATA[è¿›é˜¶é«˜çº§åŠŸèƒ½é…ç½®æ›´å¤šå¦‚å¤–æŒ‚ä¸€æ ·çš„åŠŸèƒ½é…ç½®ï¼Œå°±ç›´æŽ¥è´´å¤§ä½¬çš„æ–‡ç« äº†ï¼Œå“ªäº›åŠŸèƒ½è‡ªå·±å–œæ¬¢ï¼ŒæŒ‰ç…§å¤§ä½¬çš„æ•™ç¨‹æ¥é…ç½®å°±è¡Œã€‚ä¸è¿‡ä¹Ÿæœ‰å‘ï¼Œæ¯”å¦‚æœ‰äº›åŠŸèƒ½ï¼ˆè¶…é“¾æŽ¥æ ·å¼ã€ä¾§æ å¤´åƒåœ†å½¢å¹¶æ—‹è½¬ï¼‰å¯ä»¥ç›´æŽ¥é€šè¿‡åœ¨custom.stylæ·»åŠ  CSS ä»£ç å®žçŽ°ï¼Œæ— éœ€æ›´æ”¹å…¶å®ƒæ–‡ä»¶ï¼ hexoé«˜é˜¶æ•™ç¨‹nextä¸»é¢˜ä¼˜åŒ– hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™ Hexoæ­å»ºåšå®¢çš„ä¸ªæ€§åŒ–è®¾ç½® ç¬¬ä¸€ç¯‡æ–‡ç« å†…æœ‰ NexT ä¸»é¢˜çš„æ–‡ä»¶ç›®å½•è¯´æ˜Žï¼Œè¿™å¯¹è‡ªå·±è‡ªå®šä¹‰åšå®¢æœ‰å¾ˆå¤§å¸®åŠ©ã€‚ æ›´æ”¹ä¸Šä¸€ç¯‡ï¼Œä¸‹ä¸€ç¯‡çš„é¡ºåºè¿›å…¥ä¸€ç¯‡æ–‡ç« ï¼Œåœ¨æ–‡ç« åº•éƒ¨ï¼Œæœ‰ä¸Šä¸‹ç¯‡çš„é“¾æŽ¥ï¼ˆ&lt; &gt;ï¼‰ï¼Œä½†æ˜¯ç‚¹ &gt; å‘çŽ°è¿›å…¥çš„æ˜¯é¡µé¢ä¸­çš„çš„ä¸Šé¢é‚£ç¯‡æ–‡ç« ï¼Œä¸Žæ“ä½œä¹ æƒ¯ä¸ç¬¦ï¼Œåˆ«æ‰­ã€‚ æˆ‘çŒœè¿™æ˜¯ä»Žæ—¶é—´è§’åº¦è®¾è®¡çš„ï¼Œ&gt; è‹±è¯­å« nextï¼Œè€Œ next æ˜¯æ›´æ–°çš„ã€‚ä¸è¿‡åˆ«æ‰­å°±æ”¹æˆä¹ æƒ¯çš„å¥½äº†ï¼Œä»Žç©ºé—´ä½ç½®è§’åº¦è®¾è®¡ã€‚ æ–¹æ³•å°±æ˜¯ä¿®æ”¹æ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_macro/post.swig&#123;% if not is_index and (post.prev or post.next) %&#125; &lt;div class=&quot;post-nav&quot;&gt; &lt;div class=&quot;post-nav-next post-nav-item&quot;&gt;- &#123;% if post.next %&#125;+ &#123;% if post.prev %&#125;- &lt;a href=&quot;&#123;&#123; url_for(post.next.path) &#125;&#125;&quot; rel=&quot;next&quot; title=&quot;&#123;&#123; post.next.title &#125;&#125;&quot;&gt;+ &lt;a href=&quot;&#123;&#123; url_for(post.prev.path) &#125;&#125;&quot; rel=&quot;prev&quot; title=&quot;&#123;&#123; post.prev.title &#125;&#125;&quot;&gt;- &lt;i class=&quot;fa fa-chevron-left&quot;&gt;&lt;/i&gt; &#123;&#123; post.next.title &#125;&#125;+ &lt;i class=&quot;fa fa-chevron-left&quot;&gt;&lt;/i&gt; &#123;&#123; post.prev.title &#125;&#125; &lt;/a&gt; &#123;% endif %&#125; &lt;/div&gt; &lt;span class=&quot;post-nav-divider&quot;&gt;&lt;/span&gt; &lt;div class=&quot;post-nav-prev post-nav-item&quot;&gt;- &#123;% if post.prev %&#125;+ &#123;% if post.next %&#125;- &lt;a href=&quot;&#123;&#123; url_for(post.prev.path) &#125;&#125;&quot; rel=&quot;prev&quot; title=&quot;&#123;&#123; post.prev.title &#125;&#125;&quot;&gt;+ &lt;a href=&quot;&#123;&#123; url_for(post.next.path) &#125;&#125;&quot; rel=&quot;next&quot; title=&quot;&#123;&#123; post.next.title &#125;&#125;&quot;&gt;- &#123;&#123; post.prev.title &#125;&#125; &lt;i class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt;+ &#123;&#123; post.next.title &#125;&#125; &lt;i class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt; &lt;/a&gt; &#123;% endif %&#125; &lt;/div&gt; &lt;/div&gt;&#123;% endif %&#125; è‡ªå·±æ”¹å•è¯è¯·æ³¨æ„ï¼šæ˜¯ prev ä¸æ˜¯ pervï¼Œä¹‹å‰è‡ªå·±æžé”™äº†ï¼Œç„¶åŽç›¯ç€ç”µè„‘å±å¹•å°´å°¬åŠå¤©ï¼Œä¸åœæƒ³ç‰¹ä¹ˆè€å­å“ªé‡Œé”™äº†ï¼Œæ€Žä¹ˆç‰¹ä¹ˆå°±æ˜¯è¾¾ä¸åˆ°æ•ˆæžœï¼ï¼Ÿï¼Ÿï¼Ÿ ç§»åŠ¨ç«¯æ˜¾ç¤º back-to-top æŒ‰é’®å’Œä¾§æ ä»Šå¤©æ›´æ–°ä¸€ä¸‹ NexT ä¸»é¢˜ï¼Œå‘çŽ°å·²ç»æ·»åŠ è¿™åŠŸèƒ½ï¼Œå‰ææ˜¯ä¸»é¢˜çš„è®¾è®¡æ¨¡ç‰ˆæ˜¯ Muse æˆ– Mistï¼Œç„¶åŽå¯ä»¥ç›´æŽ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼š 12æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/_config.yml# Enable sidebar on narrow viewonmobile: true å¦‚æžœä½ å‘çŽ°ä½ çš„ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æ²¡æœ‰è¿™æ®µå†…å®¹ï¼Œå¯ä»¥å°è¯•æŒ‰ä¸‹é¢çš„æ–¹æ³•æ›´æ–°ä¸»é¢˜ã€‚ [åŽŸæ–¹æ³•] ä¸ªäººæ„Ÿè§‰åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºä¾§æ ï¼Œæœ‰åˆ©äºŽé˜…è¯»ï¼Œæˆ‘çš„åšå®¢å·²ç»æ”¹äº†ï¼Œä½ å¯ä»¥å°†æµè§ˆå™¨çª—å£å®½åº¦ç¼©å°è¯•è¯•ã€‚è¿˜å¥½ Google åˆ°äº†ä¸€ç¯‡å¤§ä½¬çš„åšå®¢ï¼Œæƒ³æ”¹çš„ç‚¹å‡»æŸ¥çœ‹å§ã€‚ æç¤ºï¼šæœ€å¥½è¿˜æ˜¯æ›´æ–°ä¸»é¢˜ï¼Œå› ä¸ºè¿™æ ·åœ¨ç§»åŠ¨ç«¯ç‚¹å‡»ä¾§æ ä¹‹å¤–ï¼Œä¾§æ ä¼šè‡ªåŠ¨å¼¹å›žï¼Œè€ŒæŒ‰ç…§ä¸Šé¢çš„é“¾æŽ¥ä¸­çš„æ–‡ç« æ›´æ”¹åˆ™æ— æ³•å®žçŽ°ã€‚ æ—¶é—´è½´é¡µé¢çš„å¹´ä»½åˆ†éš”åœ¨ Archivesï¼ˆå½’æ¡£ï¼‰é¡µé¢ï¼Œæ–‡ç« ä¹‹é—´æœ‰å¹´ä»½åˆ†éš”ï¼Œè€ŒæŸä¸€ä¸ª category å’Œ tag çš„æ—¶é—´è½´é¡µé¢å´æ²¡æœ‰ã€‚æ€Žä¹ˆåŠžå‘¢ï¼Ÿä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶ï¼ŒåŠ ä»£ç å³å¯ï½ž category åŠ åˆ°å“ªï¼Ÿè¦åŠ ä¸¤ä¸ªä½ç½®ï¼š 12345678910æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/category.swig &#123;% for post in page.posts %&#125; ä½ç½®A &#123;&#123; post_template.render(post) &#125;&#125; &#123;% endfor %&#125;...ï¼ˆçœç•¥å¥½å¤šè¡Œï¼‰..ä½ç½®Bï¼ˆæ²¡é”™æœ€åŽé¢ï¼‰ åŠ ä»€ä¹ˆï¼Ÿç»¿è‰²çš„è‡ªå·±çœ‹ç€åŠ ï¼š 12345678910111213141516171819202122232425262728æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/category.swigæˆ‘ä¸è¦ + å·ï¼ &#123;% for post in page.posts %&#125;++ &#123;# Show year #&#125;+ &#123;% set year %&#125;+ &#123;% set post.year = date(post.date, &apos;YYYY&apos;) %&#125;++ &#123;% if post.year !== year %&#125;+ &#123;% set year = post.year %&#125;+ &lt;div class=&quot;collection-title&quot;&gt;+ &lt;h2 class=&quot;archive-year motion-element&quot; id=&quot;archive-year-&#123;&#123; year &#125;&#125;&quot;&gt;&#123;&#123; year &#125;&#125;&lt;/h2&gt;+ &lt;/div&gt;+ &#123;% endif %&#125;+ &#123;# endshow #&#125;+ &#123;&#123; post_template.render(post) &#125;&#125; &#123;% endfor %&#125;...ï¼ˆçœç•¥å¥½å¤šè¡Œï¼‰..+&#123;% block script_extra %&#125;+ &#123;% if theme.use_motion %&#125;+ &lt;script type=&quot;text/javascript&quot; id=&quot;motion.page.archive&quot;&gt;+ $(&apos;.archive-year&apos;).velocity(&apos;transition.slideLeftIn&apos;);+ &lt;/script&gt;+ &#123;% endif %&#125;+&#123;% endblock %&#125; tag æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/tag.swigï¼Œå…¶å®ƒä¸Žçš„ category ä¿®æ”¹å®Œå…¨ä¸€æ ·ã€‚ è¯´æ˜Ž ä¸¤æ®µä»£ç ç›´æŽ¥ Copy åŒç›®å½•ä¸‹çš„ archive.swig æ–‡ä»¶é‡Œé¢çš„ï¼Œè€Œä¸” tag.swig å’Œ category.swig å¥½åƒéƒ½é¢„ç•™äº†ä½ç½®ä¼¼çš„ï¼Œä»£ç å°ç™½çš„æˆ‘æŠ˜è…¾äº†åŠå¤©ï¼Œæ‰æ”¹å¥½ï¼Œä¸çŸ¥é“å†™ä»£ç çš„å¤§ä½¬æ€Žä¹ˆæƒ³çš„w(ï¾ŸÐ”ï¾Ÿ)wï½ž æ–‡ç« åº•éƒ¨åŠ ä¸Šè¯„åˆ†å°æ˜Ÿæ˜Ÿ æ·˜å®ä¹°ä¸œè¥¿ï¼Œä½œä¸ºæ¶ˆè´¹è€…çš„æˆ‘ä»¬ï¼Œçœ‹è¯„ä»·å¾ˆé‡è¦ã€‚çŽ°åœ¨ä½œä¸ºåšä¸»ï¼Œå†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œå¾ˆæœŸå¾…è¯»è€…çš„åé¦ˆã€‚è€Œä¸Žæ·˜å®ä¸€æ ·ï¼Œç¡®è®¤æ”¶è´§åŽï¼Œç›¸æ¯”è¯„è®ºï¼Œæ›´æ„¿æ„äº”æ˜Ÿå¥½è¯„ã€‚é‚£ä¹ˆåšå®¢æ–‡ç« æ€Žä¹ˆåŠ ä¸Šå‘¢ï¼Ÿ é¦–å…ˆæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š 123456æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/_config.yml# Star rating support to each article.# To get your ID visit https://widgetpack.comrating: enable: true id: color: f79533 å…ˆåŽ»æ³¨é‡Šä¸­çš„ç½‘ç«™ï¼Œé¦–é¡µç‚¹ Ratingï¼Œç„¶åŽæ³¨å†Œä¸ªå¸å·ï¼Œå¡«ä¸€ä¸‹è‡ªå·±åšå®¢çš„ä¿¡æ¯ï¼Œå·¦ä¸Šè§’æœ‰ä¸ª IDï¼Œå¡«è¿›ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å°±è¡Œï¼Œcoloræ”¹æˆè‡ªå·±å–œæ¬¢çš„å³å¯ã€‚å¦ï¼š å¯ä»¥é…ç½®è¯„åˆ†æ–¹å¼ï¼Œä¾§æ  &gt; Rating &gt; Settingï¼Œå»ºè®®ç”¨ IP address æˆ– Device(cookie)ï¼Œå…ç™»å½•ï¼Œæ¯•ç«Ÿ Socials é‡Œé¢çš„é€‰é¡¹å‡ ä¹Žéƒ½è¢«å¢™ï¼Œä¸é€‚åˆå›½å†…ç½‘ç»œçŽ¯å¢ƒã€‚ å»ºè®® ä¾§æ  &gt; Site &gt; Setting ä¸­å‹¾é€‰ Private é€‰é¡¹ã€‚ ä¸Šé¢ä¸¤æ­¥å‹¾é€‰åŽåˆ«å¿˜äº†ç‚¹å‡»é¡µé¢å³ä¸‹æ–¹çš„ SAVE SETTING ç»¿è‰²æŒ‰é’®ä¿å­˜ã€‚ å¦‚æžœæ„Ÿè§‰ä¸Šä¸‹ç•™ç™½å¤ªå¤šï¼Œå’‹æ•´ï¼Ÿæµè§ˆå™¨ F12 æ‰¾å…ƒç´ ï¼Œè°ƒæˆè‡ªå·±å–œæ¬¢çš„å€¼ï¼Œç„¶åŽ Copy åˆ°custom.stylå³å¯ã€‚ ç»è¿‡ä¸Šé¢çš„é…ç½®ï¼Œé»˜è®¤æœ€ä¸‹é¢åªä¼šæ˜¾ç¤º 5 é¢—å°æ˜Ÿæ˜Ÿï¼Œç®€æ´ä½†ä¸æ˜Žäº†ï¼Œæ€Žä¹ˆåŠ ä¸Šæ–‡å­—è¯´æ˜Žå‘¢ï¼Ÿ é¦–å…ˆæ‰“å¼€æ–‡ä»¶ï¼š 123456æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_macro/post.swig &#123;% if theme.rating.enable %&#125; &lt;div class=&quot;wp_rating&quot;&gt;+ &lt;div style=&quot;color: rgba(0, 0, 0, 0.75); font-size:13px; letter-spacing:3px&quot;&gt;(&amp;gt;çœ‹å®Œè®°å¾—äº”æ˜Ÿå¥½è¯„å“¦äº²&amp;lt;)&lt;/div&gt; &lt;div id=&quot;wpac-rating&quot;&gt;&lt;/div&gt; &lt;/div&gt; &#123;% endif %&#125; ç„¶åŽ Ctrl + F æœç´¢ratingï¼Œæ‰¾åˆ°è¿™æ®µï¼Œå¯¹æ¯”æˆ‘ç»™å‡ºçš„ï¼Œåœ¨ç»¿è‰²è¿™è¡Œæ‰€ç¤ºçš„ä½ç½®ï¼ŒåŠ ä¸Šè‡ªå·±æƒ³è¦çš„è¯´æ˜Žå’Œæ ·å¼å³å¯ã€‚ ä¾§æ åŠ å…¥å·²è¿è¡Œçš„æ—¶é—´æˆ‘ä»¬éƒ½æœ‰è‡ªå·±çš„ç”Ÿæ—¥ï¼Œéƒ½çŸ¥é“è‡ªå·±çš„å²æ•°ï¼Œé‚£ä¸ºä»€ä¹ˆä¸ç»™åšå®¢åŠ ä¸Šï¼Œè®©è¯»è€…çŸ¥é“åšå®¢çš„å¹´çºªå‘¢ï¼Ÿæ“ä½œå¾ˆç®€å•ï¼Œè€Œä¸”ä¸æ˜¯ç²¾ç¡®åˆ°å¹´è€Œæ˜¯ç²¾ç¡®åˆ°ç§’ï¼Œ233333ï½ž é¦–å…ˆè¦åŠ å…¥ä¸‹é¢ä»£ç : 1234567891011121314151617181920212223242526æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_custom/sidebar.swig&lt;div id=&quot;days&quot;&gt;&lt;/div&gt;&lt;script&gt;function show_date_time()&#123;window.setTimeout(&quot;show_date_time()&quot;, 1000);BirthDay=new Date(&quot;05/27/2017 15:13:14&quot;);today=new Date();timeold=(today.getTime()-BirthDay.getTime());sectimeold=timeold/1000secondsold=Math.floor(sectimeold);msPerDay=24*60*60*1000e_daysold=timeold/msPerDaydaysold=Math.floor(e_daysold);e_hrsold=(e_daysold-daysold)*24;hrsold=setzero(Math.floor(e_hrsold));e_minsold=(e_hrsold-hrsold)*60;minsold=setzero(Math.floor((e_hrsold-hrsold)*60));seconds=setzero(Math.floor((e_minsold-minsold)*60));document.getElementById(&apos;days&apos;).innerHTML=&quot;å·²è¿è¡Œ&quot;+daysold+&quot;å¤©&quot;+hrsold+&quot;å°æ—¶&quot;+minsold+&quot;åˆ†&quot;+seconds+&quot;ç§’&quot;;&#125;function setzero(i)&#123;if (i&lt;10)&#123;i=&quot;0&quot; + i&#125;;return i;&#125;show_date_time();&lt;/script&gt; ä¸Šé¢Dateçš„å€¼è®°å¾—æ”¹ä¸ºä½ è‡ªå·±çš„ï¼Œä¸”æŒ‰ä¸Šé¢æ ¼å¼ï¼Œç„¶åŽä¿®æ”¹ï¼š 1234567891011121314151617181920æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_macro/sidebar.swig &#123;# Blogroll #&#125; &#123;% if theme.links %&#125; &lt;div class=&quot;links-of-blogroll motion-element &#123;&#123; &quot;links-of-blogroll-&quot; + theme.links_layout | default(&apos;inline&apos;) &#125;&#125;&quot;&gt; &lt;div class=&quot;links-of-blogroll-title&quot;&gt; &lt;i class=&quot;fa fa-fw fa-&#123;&#123; theme.links_icon | default(&apos;globe&apos;) | lower &#125;&#125;&quot;&gt;&lt;/i&gt; &#123;&#123; theme.links_title &#125;&#125;&amp;nbsp; &lt;i class=&quot;fa fa-fw fa-&#123;&#123; theme.links_icon | default(&apos;globe&apos;) | lower &#125;&#125;&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;ul class=&quot;links-of-blogroll-list&quot;&gt; &#123;% for name, link in theme.links %&#125; &lt;li class=&quot;links-of-blogroll-item&quot;&gt; &lt;a href=&quot;&#123;&#123; link &#125;&#125;&quot; title=&quot;&#123;&#123; name &#125;&#125;&quot; target=&quot;_blank&quot;&gt;&#123;&#123; name &#125;&#125;&lt;/a&gt; &lt;/li&gt; &#123;% endfor %&#125; &lt;/ul&gt;+ &#123;% include &apos;../_custom/sidebar.swig&apos; %&#125; &lt;/div&gt; &#123;% endif %&#125;- &#123;% include &apos;../_custom/sidebar.swig&apos; %&#125; è¿™æ ·å°±å¯ä»¥äº†ï¼å½“ç„¶ï¼Œè¦æ˜¯ä¸å–œæ¬¢é¢œè‰²ï¼Œæ„Ÿè§‰ä¸å¥½çœ‹ï¼Œå°±å¯ä»¥åœ¨ä¸Šæ–‡æ‰€æçš„custom.stylåŠ å…¥ï¼š 1234567æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl// è‡ªå®šä¹‰çš„ä¾§æ æ—¶é—´æ ·å¼#days &#123; display: block; color: rgb(7, 179, 155); font-size: 13px; margin-top: 15px;&#125; é‡Œé¢çš„å€¼ F12 è°ƒæˆè‡ªå·±å–œæ¬¢çš„ï¼Œç„¶åŽæ›´æ”¹å³å¯ã€‚è¦æ˜¯ä¸æƒ³æ”¾åœ¨ä¾§æ ï¼Œæƒ³æ”¾åœ¨é¡µè„šï¼Œè‡ªå·±åº”è¯¥èƒ½æŠ˜è…¾äº†å§ï½ž æ·»åŠ  TopX é¡µé¢åšå®¢å·²æœ‰çš„åˆ†ç±»ï¼Œå¦‚ categories å’Œ tagsï¼Œéƒ½æ˜¯åŸºäºŽåšä¸»çš„ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§åˆ†ç±»æ˜¯åŸºäºŽè¯»è€…çš„å‘¢ï¼Ÿæœ‰ï¼Œä¸€ç§æ˜¯æœç´¢ï¼Œå¦ä¸€ç§å°±æ˜¯è¿™é‡Œçš„æ–‡ç« é˜…è¯»é‡æŽ’è¡Œæ¦œã€‚ å‰ææ˜¯åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­é…ç½®äº† leancloud_visitorsã€‚ é¦–å…ˆæ–°å»ºé¡µé¢ï¼š 1æ‰€åœ¨ç›®å½•ï¼š~/blog/hexo new page &quot;top&quot; ç„¶åŽåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šèœå• top å’Œå®ƒçš„ iconï¼š 12æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/_config.ymlmenu: top: /top/ || signal æŽ¥ç€åœ¨è¯­è¨€ç¿»è¯‘æ–‡ä»¶ä¸­åŠ ä¸Šèœå• topï¼š æ³¨æ„ï¼šå¦‚æžœä½ çš„ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­çš„ languages å†™çš„ä¸æ˜¯ zh-Hansï¼Œé‚£ä¹ˆè¿™é‡Œè¯·æ›´æ”¹ç›¸åº”è¯­è¨€é…ç½®æ–‡ä»¶ã€‚ 1234567891011æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/languages/zh_Hans.ymlmenu: home: é¦–é¡µ archives: å½’æ¡£ categories: åˆ†ç±» tags: æ ‡ç­¾ about: å…³äºŽ search: æœç´¢ schedule: æ—¥ç¨‹è¡¨ sitemap: ç«™ç‚¹åœ°å›¾ commonweal: å…¬ç›Š404 top: TopX /* å¯ä»¥ä¸ä¸º TopXï¼Œéšä¾¿å– */ æœ€åŽï¼Œç¼–è¾‘ç¬¬ä¸€æ­¥æ–°å»ºé¡µé¢ç”Ÿæˆçš„æ–‡ä»¶ï¼š[3] 1234567891011121314151617181920212223242526272829303132æ–‡ä»¶ä½ç½®ï¼š~/blog/source/top/index.md---title: TopX /* å¯ä»¥ä¸ä¸º TopXï¼Œéšä¾¿å– */comments: falsekeywords: top,æ–‡ç« é˜…è¯»é‡æŽ’è¡Œæ¦œdescription: åšå®¢æ–‡ç« é˜…è¯»é‡æŽ’è¡Œæ¦œ---&lt;div id=&quot;top&quot;&gt;&lt;/div&gt;&lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt;&lt;script&gt;AV.initialize(&quot;app_id&quot;, &quot;app_key&quot;);&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; var time=0 var title=&quot;&quot; var url=&quot;&quot; var query = new AV.Query(&apos;Counter&apos;); query.notEqualTo(&apos;id&apos;,0); query.descending(&apos;time&apos;); query.limit(1000); query.find().then(function (todo) &#123; for (var i=0;i&lt;1000;i++)&#123; var result=todo[i].attributes; time=result.time; title=result.title; url=result.url; var content=&quot;&lt;a href=&apos;&quot;+&quot;https://reuixiy.github.io&quot;+url+&quot;&apos;&gt;&quot;+title+&quot;&lt;/a&gt;&quot;+&quot;&lt;br /&gt;&quot;+&quot;&lt;font color=&apos;#555&apos;&gt;&quot;+&quot;é˜…è¯»æ¬¡æ•°ï¼š&quot;+time+&quot;&lt;/font&gt;&quot;+&quot;&lt;br /&gt;&lt;br /&gt;&quot;; document.getElementById(&quot;top&quot;).innerHTML+=content &#125; &#125;, function (error) &#123; console.log(&quot;error&quot;); &#125;);&lt;/script&gt;&lt;style&gt;.post-description &#123; display: none; &#125;&lt;/style&gt; å¿…é¡»å°†é‡Œé¢çš„é‡Œé¢çš„app_idå’Œapp_keyæ›¿æ¢ä¸ºä½ çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œå¿…é¡»æ›¿æ¢é‡Œé¢åšå®¢çš„é“¾æŽ¥ï¼Œ1000æ˜¯æ˜¾ç¤ºæ–‡ç« çš„æ•°é‡ï¼Œå…¶å®ƒå¯ä»¥è‡ªå·±çœ‹æƒ…å†µæ›´æ”¹ã€‚ æœ€åŽï¼Œä¿®æ”¹æ ·å¼å¯ä»¥åœ¨custom.stylä¸­åŠ å…¥è‡ªå®šä¹‰ä»£ç ã€‚ Okay! å®Œæˆäº†ï¼ åˆ©ç”¨ gulp åŽ‹ç¼©ä»£ç å³é”®æŸ¥çœ‹ç½‘é¡µæºä»£ç å‘çŽ°æœ‰å¤§é‡ç•™ç™½ï¼Œå’‹æ•´ï¼Ÿåˆ©ç”¨ gulpã€‚ é¦–å…ˆä»»æ„ç›®å½•å…¨å±€å®‰è£…ï¼š 1npm install gulp -g ç„¶åŽåˆ°ç«™ç‚¹æ–‡ä»¶å¤¹æ ¹ç›®å½•ï¼š 1æ‰€åœ¨ç›®å½•ï¼š~/blog/npm install gulp gulp-minify-css gulp-htmlmin gulp-htmlclean --save æŽ¥ç€åœ¨ç«™ç‚¹æ–‡ä»¶å¤¹æ ¹ç›®å½•æ–°å»º gulpfile.jsï¼š 123456789101112131415161718192021æ–‡ä»¶ä½ç½®ï¼š~/blog/gulpfile.jsvar gulp = require(&apos;gulp&apos;);var minifycss = require(&apos;gulp-minify-css&apos;);var htmlmin = require(&apos;gulp-htmlmin&apos;);var htmlclean = require(&apos;gulp-htmlclean&apos;);gulp.task(&apos;minify-css&apos;, function() &#123; return gulp.src(&apos;./public/**/*.css&apos;) .pipe(minifycss()) .pipe(gulp.dest(&apos;./public&apos;))&#125;);gulp.task(&apos;minify-html&apos;, function() &#123; return gulp.src(&apos;./public/**/*.html&apos;) .pipe(htmlclean()) .pipe(htmlmin(&#123; removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true &#125;)) .pipe(gulp.dest(&apos;./public&apos;))&#125;);gulp.task(&apos;default&apos;, [&apos;minify-html&apos;, &apos;minify-css&apos;]); æœ€åŽéƒ¨ç½²åˆ° GitHub Pages ä¸ŠæŸ¥çœ‹æ•ˆæžœï¼š 1æ‰€åœ¨ç›®å½•ï¼š~/blog/hexo clean &amp;&amp; hexo g &amp;&amp; gulp &amp;&amp; hexo d æˆ‘æ²¡æœ‰åŽ‹ç¼© JavaScriptï¼Œå› ä¸ºæˆ‘å‘çŽ°ä¼šæŠ¥é”™ï¼Œå®žé™…ä¹Ÿå¹¶ä¸éœ€è¦ï¼Œå› ä¸ºå¤§éƒ¨åˆ† JavaScript éƒ½å·²åŽ‹ç¼©è¿‡ã€‚ è¿™é‡Œçš„è¿™æ®µä»£ç æ‰§è¡Œ gulp åŽä¸æ”¯æŒ hexo s æœ¬åœ°è°ƒè¯•ï¼Œè®°å¾—åœ¨å“ªçœ‹è¿‡è§£å†³æ–¹æ³•ï¼Œéœ€è¦çš„è‡ªå·± Googleã€‚ å¦å¤–ï¼Œå¯èƒ½ä¼šäº§ç”Ÿä¸€äº›å¥‡æ€ªçš„ bugsï¼Œæ²¡çœ‹åˆ°æœ€å¥½ï¼Œè¦æ˜¯çœ‹åˆ°äº†çš„è¯å°±è‡ªå·±è§£å†³å§ï½ž[é€ƒâ€¦â€¦] è®©é¡µè„šçš„å¿ƒè·³åŠ¨èµ·æ¥ä¸–ç•Œä¸Šæœ‰ä¸€ç§ä¼Ÿå¤§çš„åŠ›é‡ï¼Œå®ƒçš„åå­—æ— äººä¸æ™“ï¼Œå°±æ˜¯â€¦â€¦çˆ±ï½ž æ›´æ–° NexT ä¸»é¢˜åŽï¼Œå‘çŽ°é»˜è®¤çš„iconå˜æˆäº†ï¼ˆuserï¼‰ï¼Œä¸è¿‡è¿™å¯é˜»æŒ¡ä¸äº†çˆ±çš„åŠ›é‡ï¼ é¦–å…ˆç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š 123æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/_config.ymlfooter:- icon: user+ icon: heart ç„¶åŽç¼–è¾‘ï¼š 12æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_partials/footer.swig- &lt;span class=&quot;with-love&quot;&gt;+ &lt;span class=&quot;with-love&quot; id=&quot;heart&quot;&gt; æŽ¥ç€ç¼–è¾‘custom.stylï¼ŒåŠ å…¥ï¼š 12345678910111213æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl// è‡ªå®šä¹‰é¡µè„šè·³åŠ¨çš„å¿ƒæ ·å¼@keyframes heartAnimate &#123; 0%,100%&#123;transform:scale(1);&#125; 10%,30%&#123;transform:scale(0.9);&#125; 20%,40%,60%,80%&#123;transform:scale(1.1);&#125; 50%,70%&#123;transform:scale(1.1);&#125;&#125;#heart &#123; animation: heartAnimate 1.33s ease-in-out infinite;&#125;.with-love &#123; color: rgb(255, 113, 168);&#125; é¡µè„šåŠ ä¸Šå¾®ä¿¡äºŒç»´ç ä¸»é¢˜é»˜è®¤çš„å¾®ä¿¡è®¢é˜…ä¸ªäººæ„Ÿè§‰ä¸ç¾Žè§‚ï¼Œçœ‹åˆ°å¾ˆå¤šç½‘ç«™éƒ½æ˜¯åœ¨é¡µè„šæœ‰ä¸ªå¾®ä¿¡çš„ Logoï¼Œç„¶åŽé¼ æ ‡ç§»åŠ¨åˆ°ä¸Šé¢ä¾¿ä¼šæ˜¾ç¤ºäºŒç»´ç ï¼Œè¿™æ ·æ„Ÿè§‰å¾ˆæ£’ã€‚ é¦–å…ˆç¼–è¾‘æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ€åŽåŠ ä¸Šä¸‹é¢ä»£ç ï¼š 1234567æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_partials/footer.swig&lt;div class=&quot;weixin-box&quot;&gt; &lt;div class=&quot;weixin-menu&quot;&gt; &lt;div class=&quot;weixin-hover&quot;&gt; &lt;div class=&quot;weixin-description&quot;&gt;å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œè®¢é˜…æœ¬åšå®¢&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; ç„¶åŽç¼–è¾‘custom.stylï¼ŒåŠ å…¥ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl// è‡ªå®šä¹‰çš„é¡µè„šå¾®ä¿¡è®¢é˜…å·æ ·å¼.weixin-box &#123; position: absolute; bottom: 43px; left: 10px; border-radius: 5px; box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.35);&#125;.weixin-menu &#123; position: relative; height: 24px; width: 24px; cursor: pointer; background: url(https://å¾®ä¿¡çš„logo.svg); background-size: 24px 24px;&#125;.weixin-hover &#123; position: absolute; bottom: 0px; left: 0px; height: 0px; width: 0px; border-radius: 3px; box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.35); background: url(https://äºŒç»´ç .svg); background-color: #fff; background-repeat: no-repeat; background-size: 150px 150px; transition: all 0.35s ease-in-out; z-index: 1024; opacity: 0;&#125;.weixin-menu:hover .weixin-hover &#123; bottom: 24px; left: 24px; height: 170px; width: 150px; opacity: 1;&#125;.weixin-description &#123; opacity: 0; position: absolute; bottom: 3%; left: 5%; right: 5%; font-size: 12px; transition: all 0.35s cubic-bezier(1, 0, 0, 1);&#125;.weixin-menu:hover .weixin-description &#123; opacity: 1;&#125; å›¾ç‰‡åŠ¡å¿…ç”¨çŸ¢é‡å›¾ svg æ ¼å¼ï¼Œå¦åˆ™æ‰‹æœºä¸Šæ˜¾ç¤ºæ•ˆæžœå¾ˆå·®ï¼Œå…¶å®ƒçš„è‡ªå·±çœ‹æƒ…å†µæ›´æ”¹ã€‚ æ›´æ”¹æ ‡ç­¾äº‘ï¼ˆtagcloudï¼‰çš„é¢œè‰²å¦‚æžœä½ å’Œæˆ‘ä¸€æ ·ä¸ªæ€§åŒ–äº†åšå®¢çš„æ•´ä½“å¸ƒå±€é¢œè‰²ï¼Œé‚£ä¹ˆé»˜è®¤çš„æ ‡ç­¾äº‘é¡µé¢å¯èƒ½çœ‹èµ·æ¥å¾ˆä¸‘ï¼Œæ€Žä¹ˆæ›´æ”¹ï¼Ÿ ä¿®æ”¹ä¸‹æ–‡ä»¶ï¼š 1æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/page.swig&#123;&#123; tagcloud(&#123;min_font: 13, max_font: 31, amount: 1000, color: true, start_color: &apos;#9733EE&apos;, end_color: &apos;#FF512F&apos;&#125;) &#125;&#125; ä¿®æ”¹å¯¹åº”å‚æ•°å€¼å³å¯ï¼Œå‚æ•°è¯´æ˜Žè§ Hexo å®˜æ–¹æ–‡æ¡£ï¼Œé¢œè‰²å¯ä»¥å‚è€ƒè¿™ä¸ªç½‘ç«™ï¼Œè‡ªå·±åŽ»çº ç»“â€¦â€¦ ç‚¹å‡»ä¾§æ å¤´åƒå›žåˆ°åšå®¢é¦–é¡µä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘çœ‹åˆ°ä¾§æ å¤´åƒçš„ç¬¬ä¸€ååº”æ˜¯ç‚¹å‡»ï¼Œç„¶åŽå¿ƒç†é¢„æœŸä¼šè·³åˆ°åšå®¢é¦–é¡µï¼Œå¯æƒœä¹Ÿä»…æ˜¯é¢„æœŸï¼Œé‚£ä¹ˆå¼€å§‹åŠ¨æ‰‹å§ï½ž é¦–å…ˆè¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­é…ç½®å¥½ï¼Œæ¯”å¦‚æˆ‘æŠŠå¤´åƒavatar.gifæ”¾åœ¨~/blog/source/uploads/ä¸‹ï¼Œåˆ™ï¼š 12345æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/_config.yml# Sidebar Avatar# in theme directory(source/images): /images/avatar.gif# in site directory(source/uploads): /uploads/avatar.gif-#avatar: /images/avatar.gif+avatar: /uploads/avatar.gif ç„¶åŽç¼–è¾‘æ–‡ä»¶ï¼š 12345æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_macro/sidebar.swig+ &lt;a href=&quot;/&quot;&gt; &lt;img class=&quot;site-author-image&quot; itemprop=&quot;image&quot; src=&quot;&#123;&#123; url_for( theme.avatar | default(theme.images + &apos;/avatar.gif&apos;) ) &#125;&#125;&quot; alt=&quot;&#123;&#123; theme.author &#125;&#125;&quot; /&gt;+ &lt;/a&gt; æœ€åŽå°± OK äº†ï½ž æ–‡ç« æ‘˜è¦å›¾ç‰‡ä¿—è¯è¯´ï¼šâ€œå›¾æ–‡å¹¶èŒ‚â€ï¼ŒçŽ°å®žä¸­ç”¨ç¬”ä¹¦å†™æ–‡ç« å®žçŽ°èµ·æ¥æ¯”è¾ƒå›°éš¾ï¼Œä½†åœ¨åšå®¢ä¸Šå¯ä»¥å¾ˆè½»æ¾å®žçŽ°. é¦–å…ˆï¼Œæ–‡ç« æ‘˜è¦ï¼ˆexcerptï¼‰æ˜¯æŒ‡æ¯ç¯‡æ–‡ç« åœ¨é¡µé¢ï¼ˆpageï¼‰ä¸Šæ˜¾ç¤ºçš„é‚£éƒ¨åˆ†å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ [Read More] ä¹‹å‰çš„æ–‡ç« å†…å®¹ã€‚ç”±äºŽå®ƒä¼šå±•ç¤ºåœ¨é¡µé¢ï¼Œå› æ­¤åœ¨æ¯ç¯‡æ–‡ç« çš„æ–‡ç« æ‘˜è¦ä¸­åŠ ä¸€å¼ å›¾ç‰‡ï¼Œé¡µé¢çœ‹èµ·æ¥å°±å¾ˆç¾Žè§‚ã€‚ ä½†æ˜¯æœ‰æ—¶å€™å¯èƒ½ä¼šå‡ºçŽ°ä¸€ä¸ªé—®é¢˜ï¼šä½ æƒ³ä»Žæ–‡ç« ä¸­é€‰ä¸€å¼ å›¾ç‰‡ä½œä¸ºæ–‡ç« æ‘˜è¦å›¾ç‰‡ï¼Œè€Œè¿™å¼ å›¾ç‰‡ç”±äºŽå†™ä½œè¦æ±‚ï¼Œå¿…é¡»æ·»åŠ åœ¨æ–‡ç« çš„æœ«å°¾ï¼Œè¿™æ ·ç‚¹ [Read More] æŸ¥çœ‹æ–‡ç« æ—¶ï¼Œè¿™å¼ å›¾ç‰‡å°±ä¼šé‡å¤å‡ºçŽ°äº†ã€‚å’‹åŠžï¼Ÿ å‰ææ˜¯åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼š 1234æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/_config.ymlexcerpt_description: falseauto_excerpt: enable: false é¦–å…ˆåŠ ä»£ç ï¼š 1234567891011121314151617181920212223242526æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_macro/post.swig &#123;% if is_index %&#125; &#123;% if post.description and theme.excerpt_description %&#125; &#123;&#123; post.description &#125;&#125; &lt;!--noindex--&gt; &lt;div class=&quot;post-button text-center&quot;&gt; &lt;a class=&quot;btn&quot; href=&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot;&gt; &#123;&#123; __(&apos;post.read_more&apos;) &#125;&#125; &amp;raquo; &lt;/a&gt; &lt;/div&gt; &lt;!--/noindex--&gt; &#123;% elif post.excerpt %&#125; &#123;&#123; post.excerpt &#125;&#125;+ + &#123;% if post.image %&#125;+ &lt;div class=&quot;out-img-topic&quot;&gt;+ &lt;img src=&#123;&#123; post.image &#125;&#125; class=&quot;img-topic&quot; /&gt;+ &lt;/div&gt;+ &#123;% endif %&#125;+ &lt;!--noindex--&gt; &lt;div class=&quot;post-button text-center&quot;&gt; &lt;a class=&quot;btn&quot; href=&quot;&#123;&#123; url_for(post.path) &#125;&#125;&#123;% if theme.scroll_to_more %&#125;#&#123;&#123; __(&apos;post.more&apos;) &#125;&#125;&#123;% endif %&#125;&quot; rel=&quot;contents&quot;&gt; &#123;&#123; __(&apos;post.read_more&apos;) &#125;&#125; &amp;raquo; &lt;/a&gt; &lt;/div&gt; &lt;!--/noindex--&gt; ä¸ºäº†é˜²æ­¢æœ‰çš„å›¾ç‰‡å®½åº¦ä¸å¤Ÿå¯¼è‡´é£Žæ ¼ä¸å¤Ÿç»Ÿä¸€ï¼Œé¡µé¢ä¸ç¾Žè§‚ï¼Œéœ€è¦åœ¨custom.stylä¸­åŠ å…¥ï¼š 1234æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl// è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å›¾ç‰‡æ ·å¼img.img-topic &#123; width: 100%;&#125; æœ€åŽç¼–è¾‘æœ‰è¿™éœ€æ±‚çš„ç›¸å…³æ–‡ç« æ—¶ï¼Œåœ¨Front-matterï¼ˆæ–‡ä»¶æœ€ä¸Šæ–¹ä»¥---åˆ†éš”çš„åŒºåŸŸï¼‰åŠ ä¸Šä¸€è¡Œï¼š 1image: url urlå³å›¾ç‰‡çš„é“¾æŽ¥åœ°å€ï½ž æ–‡ç« ç½®é¡¶ç”±äºŽåšå®¢çš„é¦–é¡µå¯èƒ½æ˜¯è¢«æµè§ˆæœ€å¤šçš„é¡µé¢ï¼Œæ‰€ä»¥é¦–é¡µçš„å‰å‡ ç¯‡æ–‡ç« è¢«é˜…è¯»çš„å¯èƒ½æ€§æ¯”è¾ƒå¤§ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œé€šè¿‡å°†è‡ªå·±è®¤ä¸ºé‡è¦çš„æ–‡ç« æ”¾åœ¨é¦–é¡µï¼Œä»Žè€Œè®©é‡è¦çš„æ–‡ç« è¢«é˜…è¯»çš„å¯èƒ½æ€§å¢žå¤§ã€‚ ä½†æ˜¯ï¼Œé»˜è®¤çš„æŽ’åºåªæœ‰ä¸€ä¸ªç»´åº¦â€”â€”æ—¶é—´ï¼Œä¸¤ç§é€‰æ‹©â€”â€”æ­£åºå’Œå€’åºï¼Œè¿™å°±é€ æˆè‡ªå·±çš„å¾—æ„ä¹‹ä½œè¢«â€œåŸ‹æ²¡â€äº†ï¼Œæ€Žä¹ˆåŠžå‘¢ï¼Œå¦‚ä½•å®žçŽ°æ–‡ç« çš„ç½®é¡¶ï¼Ÿ NexT ä¸»é¢˜ä»¥å‰æœ‰è¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œç„¶è€Œç”±äºŽä¸€äº›bugsï¼ˆissueï¼‰è¢«åŽ»æŽ‰äº†ã€‚ä¸è¿‡åœ¨è¿™ä¸ªä¸°å¯Œçš„ issue ä¸­ï¼Œæˆ‘è‡ªå·±æ‘¸ç´¢å‡ºäº†ä¸€ç§è§£å†³æ–¹æ³•ï¼Œå‚è€ƒäº† issue ä¸­çš„é‚£ç¯‡æ–‡ç« ã€‚ é¦–å…ˆç§»é™¤é»˜è®¤å®‰è£…çš„æ’ä»¶ï¼š 1æ‰€åœ¨ç›®å½•ï¼š~/blog/npm uninstall hexo-generator-index --save ç„¶åŽå®‰è£…æ–°æ’ä»¶ï¼š 1æ‰€åœ¨ç›®å½•ï¼š~/blog/npm install hexo-generator-index-pin-top --save æœ€åŽç¼–è¾‘æœ‰è¿™éœ€æ±‚çš„ç›¸å…³æ–‡ç« æ—¶ï¼Œåœ¨Front-matterï¼ˆæ–‡ä»¶æœ€ä¸Šæ–¹ä»¥---åˆ†éš”çš„åŒºåŸŸï¼‰åŠ ä¸Šä¸€è¡Œï¼š 1top: true ç„¶åŽå°±è¡Œäº†ï¼Œå¦‚æžœä½ ç½®é¡¶äº†å¤šç¯‡ï¼Œæ€Žä¹ˆæŽ§åˆ¶é¡ºåºå‘¢ï¼Ÿè®¾ç½®topçš„å€¼ï¼ˆå¤§çš„åœ¨å‰é¢ï¼‰ï¼Œæ¯”å¦‚ï¼š 1234567# Post a.mdtitle: atop: 1# Post b.mdtitle: btop: 10 é‚£ä¹ˆæ–‡ç«  b ä¾¿ä¼šæ˜¾ç¤ºåœ¨æ–‡ç«  a çš„å‰é¢ã€‚ å¯æ˜¯ï¼Œæ²¡æœ‰ä»»ä½•æ ‡è®°å•Šï¼Œè¯»è€…æ€Žä¹ˆçŸ¥é“æ–‡ç« ç½®é¡¶äº†ï½ž è¿˜å¥½ NexT åŽŸæœ‰çš„ç½®é¡¶åŠŸèƒ½æœ‰è€ƒè™‘åˆ°è¿™ä¸ªï¼Œä¸”ç½®é¡¶çš„æ ·å¼æ²¡æœ‰è¢«ç§»é™¤ï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥åˆ©ç”¨ï¼Œç¼–è¾‘æ–‡ä»¶ï¼š 12345678910111213141516171819202122232425262728æ–‡ä»¶ä½ç½®ï¼š~/blog/node_modules/hexo-generator-index-pin-top/lib/generator.js&apos;use strict&apos;;var pagination = require(&apos;hexo-pagination&apos;);module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if(a.sticky &amp;&amp; b.sticky) &#123; // ä¸¤ç¯‡æ–‡ç« stickyéƒ½æœ‰å®šä¹‰ if(a.sticky == b.sticky) return b.date - a.date; // è‹¥stickyå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ else return b.sticky - a.sticky; // å¦åˆ™æŒ‰ç…§stickyå€¼é™åºæŽ’ &#125; else if(a.sticky &amp;&amp; !b.sticky) &#123; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« stickyæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰stickyçš„æŽ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰ return -1; &#125; else if(!a.sticky &amp;&amp; b.sticky) &#123; return 1; &#125; else return b.date - a.date; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ &#125;); var paginationDir = config.pagination_dir || &apos;page&apos;; return pagination(&apos;&apos;, posts, &#123; perPage: config.index_generator.per_page, layout: [&apos;index&apos;, &apos;archive&apos;], format: paginationDir + &apos;/%d/&apos;, data: &#123; __index: true &#125; &#125;);&#125;; ä¹Ÿå°±æ˜¯å°†æ’ä»¶çš„topå…¨éƒ¨æ›¿æ¢ä¸º NexT åŽŸæœ‰çš„stickyï¼Œç„¶åŽå°†Front-matterä¸­çš„topæ›¿æ¢ä¸ºstickyï¼Œå°±èƒ½è°ƒç”¨ NexT ä¸»é¢˜åŽŸæœ‰çš„ç½®é¡¶æ ·å¼äº†ã€‚ æœ€åŽå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸‹æ ·å¼ï¼š 12345678910111213æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl// è‡ªå®šä¹‰çš„æ–‡ç« ç½®é¡¶æ ·å¼.post-sticky-flag &#123; font-size: inherit; float: left; color: rgb(0, 0, 0); cursor: help; transition-duration: 0.2s; transition-timing-function: ease-in-out; transition-delay: 0s;&#125;.post-sticky-flag:hover &#123; color: #07b39b;&#125; å·²å‘çŽ°çš„ bugï¼šæ–°å®‰è£…çš„æ’ä»¶æ— æ³•å®žçŽ°ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­order_by: dateï¼Œå³æ–‡ç« æŒ‰æ—¶é—´ä»Žæ—§åˆ°æ–°æŽ’åˆ—çš„é…ç½®ï¼Œä¹Ÿå°±æ„å‘³ç€æ–‡ç« åªèƒ½æŒ‰é»˜è®¤çš„æ—¶é—´ä»Žæ–°åˆ°æ—§æŽ’åˆ—ã€‚ èƒŒæ™¯å›¾ç‰‡é€šè¿‡ jquery-backstretchï¼Œå…·ä½“æ“ä½œå‘¢ï¼Œç¼–è¾‘æ–‡ä»¶ï¼š 12345æ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/layout/_layout.swig+ &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js&quot;&gt;&lt;/script&gt;;+ &lt;script&gt;+ $(&quot;body&quot;).backstretch(&quot;https://èƒŒæ™¯å›¾.jpg&quot;);+ &lt;/script&gt;&lt;/body&gt; åŠ å…¥åˆ°æ–‡ä»¶æœ€åŽé¢&lt;/body&gt;å‰é¢å³å¯ã€‚ ä½ å¯ä»¥æµè§ˆå™¨æŒ‰ F12 æŸ¥çœ‹æˆ‘çš„é¡µé¢ï¼Œå°±å¯ä»¥åœ¨&lt;/body&gt;å‰å‘çŽ°ã€‚ å¹»ç¯ç‰‡ç­‰æ›´å¤šç”¨æ³•è¯·è‡ªè¡ŒæŸ¥çœ‹ GitHub ä¸Šçš„ READMEã€‚ åŠ¨æ€æ•ˆæžœå¯ä»¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlé‡Œçš„motionä¸­é…ç½®ï¼Œä½†æ˜¯å¦‚æžœä½ å’Œæˆ‘ä¸€æ ·æ›´æ”¹äº†åšå®¢çš„èƒŒæ™¯è‰²ï¼Œå¯èƒ½ä¸èƒ½è¾¾åˆ°å¾ˆå¥½çš„æ•ˆæžœï¼Œæ€Žä¹ˆåŠžå‘¢ï¼Ÿå‚è€ƒè¿™é‡Œï¼Œä¿®æ”¹ä¸‹é¢ä¸¤ä¸ªæ–‡ä»¶çš„ç›¸åº”å†…å®¹ã€‚ ~/blog/themes/next/source/css/_common/components/post/post.styl ~/blog/themes/next/source/js/src/motion.js]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot.JavaMail]]></title>
    <url>%2F2018%2F12%2F01%2FSpringBoot-JavaMail%2F</url>
    <content type="text"><![CDATA[JavaMailæ˜¯SUNæä¾›ç»™å¹¿å¤§Javaå¼€å‘äººå‘˜çš„ä¸€æ¬¾é‚®ä»¶å‘é€å’ŒæŽ¥å—çš„ä¸€æ¬¾å¼€æºç±»åº“ï¼Œæ”¯æŒå¸¸ç”¨çš„é‚®ä»¶åè®®ï¼Œå¦‚ï¼šSMTPã€POP3ã€IMAPï¼Œå¼€å‘äººå‘˜ä½¿ç”¨JavaMailç¼–å†™é‚®ä»¶ç¨‹åºæ—¶ï¼Œä¸å†éœ€è¦è€ƒè™‘åº•å±‚çš„é€šè®¯ç»†èŠ‚å¦‚ï¼šSocketè€Œæ˜¯å…³æ³¨åœ¨é€»è¾‘å±‚é¢ã€‚JavaMailå¯ä»¥å‘é€å„ç§å¤æ‚MIMEæ ¼å¼çš„é‚®ä»¶å†…å®¹ï¼Œæ³¨æ„JavaMailä»…æ”¯æŒJDK4åŠä»¥ä¸Šç‰ˆæœ¬ã€‚è™½ç„¶JavaMailæ˜¯JDKçš„APIä½†å®ƒå¹¶æ²¡æœ‰ç›´æŽ¥åŠ å…¥JDKä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¦å¤–æ·»åŠ ä¾èµ–ã€‚ æœ¬ç« ç›®æ ‡å°†Javaæä¾›çš„JavaMailç±»åº“ä¸ŽSpringBooté¡¹ç›®è¿›è¡Œæ•´åˆï¼Œå¹¶ä¸”ç®€å•å°è£…ä¸‹JavaMailç±»åº“ã€‚ æž„å»ºé¡¹ç›®æœ¬ç« é¡¹ç›®æ— å…³Webç›¸å…³å†…å®¹ï¼Œæ‰€ä»¥åˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹©Jarå½¢å¼åˆ›å»ºï¼Œå¹¶ä¸”ä¸éœ€è¦é¢„å…ˆå¯¼å…¥ä¾èµ–ï¼Œé¡¹ç›®åˆå§‹åŒ–å¤šä½™çš„ä¾èµ–å¹¶æ²¡æœ‰æ·»åŠ ï¼Œå¦‚æžœä½ é€‰æ‹©çš„æ˜¯Waré¡¹ç›®ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œé‚£å¥½ï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥æŠŠæˆ‘ä»¬çš„ä¸»è§’JavaMailè¯·å‡ºæ¥å§ï¼ŒæŠŠå¯¹åº”çš„ä¾èµ–æ·»åŠ åˆ°pom.xmlé…ç½®æ–‡ä»¶å†…ã€‚å¦‚ä¸‹æ‰€ç¤º 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-example&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;spring-boot-example&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;--JavaMail--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.mail&lt;/groupId&gt; &lt;artifactId&gt;mail&lt;/artifactId&gt; &lt;version&gt;1.4.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; ä¾èµ–æˆ‘ä»¬å·²ç»å¯¼å…¥æˆåŠŸäº†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ç¼–å†™JavaMailçš„å°è£…ï¼Œæˆ‘è¿™é‡Œç®€å•çš„å¯¹JavaMailåšå‡ºå°è£…ï¼Œå¦‚æžœæ‚¨éœ€è¦æ›´å®Œç¾Žçš„å°è£…ï¼Œè¯·å¯¹æˆ‘çš„ä»£ç åšå‡ºä¿®æ”¹å³å¯ï¼Œå…ˆæ¥ç¼–å†™ä¸€ä¸ªMailEntityç±»æ¥ä¿å­˜å‘é€é‚®ä»¶æ—¶éœ€è¦çš„å‚æ•°å­—æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687import java.io.Serializable;import java.util.ArrayList;import java.util.List;public class MailEntity implements Serializable &#123; //æ­¤å¤„å¡«å†™SMTPæœåŠ¡å™¨ private String smtpService; //è®¾ç½®ç«¯å£å· private String smtpPort; //è®¾ç½®å‘é€é‚®ç®±åœ°å€ private String fromMailAddress; //è®¾ç½®å‘é€é‚®ç®±SMTPå£ä»¤ private String fromMailStmpPwd; //è®¾ç½®é‚®ä»¶æ ‡é¢˜ private String title; //è®¾ç½®é‚®ä»¶å†…å®¹ private String content; //å†…å®¹æ ¼å¼ï¼ˆé»˜è®¤é‡‡ç”¨htmlï¼‰ private String contentType; //æŽ¥æ”¶é‚®ä»¶åœ°å€é›†åˆ private List&lt;String&gt; list = new ArrayList&lt;&gt;(); public String getSmtpService() &#123; return smtpService; &#125; public void setSmtpService(String smtpService) &#123; this.smtpService = smtpService; &#125; public String getSmtpPort() &#123; return smtpPort; &#125; public void setSmtpPort(String smtpPort) &#123; this.smtpPort = smtpPort; &#125; public String getFromMailAddress() &#123; return fromMailAddress; &#125; public void setFromMailAddress(String fromMailAddress) &#123; this.fromMailAddress = fromMailAddress; &#125; public String getFromMailStmpPwd() &#123; return fromMailStmpPwd; &#125; public void setFromMailStmpPwd(String fromMailStmpPwd) &#123; this.fromMailStmpPwd = fromMailStmpPwd; &#125; public String getTitle() &#123; return title; &#125; public void setTitle(String title) &#123; this.title = title; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public String getContentType() &#123; return contentType; &#125; public void setContentType(String contentType) &#123; this.contentType = contentType; &#125; public List&lt;String&gt; getList() &#123; return list; &#125; public void setList(List&lt;String&gt; list) &#123; this.list = list; &#125;&#125; æˆ‘ä»¬çš„MailEntityåŒ…å«äº†ä¸Šå›¾3çš„å­—æ®µå†…å®¹ï¼Œéƒ½æ˜¯ä¸€äº›å¿…å¡«é€‰é¡¹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªMailSenderä¹Ÿå°±æ˜¯é‚®ä»¶å‘é€è€…å®žä½“ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯ç”¨æ¥é…ç½®å‘é€é‚®ä»¶å‚æ•°ä»¥åŠæ‰§è¡Œå‘é€é‚®ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121import com.example.springbootexample.Mail.Until.PropertiesUtil;import javax.mail.*;import javax.mail.internet.InternetAddress;import javax.mail.internet.MimeMessage;import javax.mail.internet.MimeUtility;import java.util.List;import java.util.Properties;import com.sun.mail.util.MailSSLSocketFactory;public class MailSender &#123; //é‚®ä»¶å®žä½“ private static MailEntity mail = new MailEntity(); //è®¾ç½®é‚®ä»¶æ ‡é¢˜ public MailSender title(String title) &#123; mail.setTitle(title); return this; &#125; //è®¾ç½®é‚®ä»¶å†…å®¹ public MailSender content(String content) &#123; mail.setContent(content); return this; &#125; //è®¾ç½®é‚®ä»¶æ ¼å¼ public MailSender cpntentType(MailContentEnum typeEnum) &#123; mail.setContentType(typeEnum.getValue()); return this; &#125; //è®¾ç½®è¯·æ±‚é‚®ä»¶åœ°å€ public MailSender targets(List&lt;String&gt; targets) &#123; mail.setList(targets); return this; &#125; //æ‰§è¡Œå‘é€é‚®ä»¶ public void send() throws Exception &#123; //é»˜è®¤ä½¿ç”¨htmlå‘é€ if (mail.getContentType() == null) &#123; mail.setContentType(MailContentEnum.HTML.getValue()); &#125; if (mail.getTitle() == null || mail.getTitle().trim().length() == 0) &#123; throw new Exception("é‚®ä»¶æ ‡é¢˜æ²¡æœ‰è®¾ç½®ï¼Œè¯·è®¾ç½®æœ‰é‚®ä»¶æ ‡é¢˜"); &#125; if (mail.getContent() == null || mail.getContent().trim().length() == 0) &#123; throw new Exception("é‚®ä»¶å†…å®¹æ²¡æœ‰è®¾ç½®ï¼Œè¯·è®¾ç½®é‚®ä»¶å†…å®¹"); &#125; if (mail.getList().size() == 0) &#123; throw new Exception("æ²¡æœ‰æŽ¥æ”¶è€…é‚®ç®±åœ°å€"); &#125; //è¯»å–/resource/mall_zh_CN.propertiesä¸­çš„å†…å®¹ final PropertiesUtil properties = new PropertiesUtil("mail"); //åˆ›å»ºPropertiesç±»ç”¨äºŽè®°å½•é‚®ç®±çš„ä¸€äº›å±žæ€§ final Properties props = new Properties(); // å…³äºŽQQé‚®ç®±ï¼Œè¿˜è¦è®¾ç½®SSLåŠ å¯†ï¼ŒåŠ ä¸Šä»¥ä¸‹ä»£ç å³å¯ MailSSLSocketFactory sf = new MailSSLSocketFactory(); sf.setTrustAllHosts(true); props.put("mail.smtp.ssl.enable", "true"); props.put("mail.smtp.ssl.socketFactory", sf); //è¡¨ç¤ºSMTPå‘é€é‚®ä»¶ï¼Œå¿…é¡»è¿›è¡Œèº«ä»½éªŒè¯ props.put("mail.smtp.auth", "true"); //æ­¤å¤„å¡«å†™smtpæœåŠ¡å™¨ props.put("mail.smtp.host", properties.getValue("mail.smtp.service")); //è®¾ç½®ç«¯å£ã€‚QQé‚®ç®±ç»™å‡ºçš„ä¿©ä¸ªç«¯å£465//587 props.put("mail.smtp.port", properties.getValue("mail.smtp.port")); //è®¾ç½®å‘é€é‚®ç®± props.put("mail.user", properties.getValue("mail.from.address")); //è®¾ç½®å‘é€é‚®ç®±çš„16ä½SMTPå£ä»¤ props.put("mail.password", properties.getValue("mail.from.smtp.pwd")); //æž„å»ºæŽˆæƒä¿¡æ¯ï¼Œç”¨äºŽè¿›è¡ŒSMTPçœä»½éªŒè¯ Authenticator authenticator = new Authenticator() &#123; @Override protected PasswordAuthentication getPasswordAuthentication() &#123; //ç”¨æˆ·åï¼Œå¯†ç  String userName = props.getProperty("mail.user"); String passWord = props.getProperty("mail.password"); return new PasswordAuthentication(userName, passWord); &#125; &#125;; //ä½¿ç”¨çŽ¯å¢ƒå±žæ€§å’ŒæŽˆæƒä¿¡æ¯ï¼Œåˆ›å»ºé‚®ä»¶ä¼šè¯ Session mailSession = Session.getInstance(props, authenticator); mailSession.setDebug(true); //åˆ›å»ºé‚®ä»¶æ¶ˆæ¯ MimeMessage message = new MimeMessage(mailSession); //è®¾ç½®å‘ä»¶äºº String nickName = MimeUtility.encodeText(properties.getValue("mail.from.nickname")); InternetAddress form = new InternetAddress(nickName + "&lt;" + props.getProperty("mail.user") + "&gt;"); message.setFrom(form); //è®¾ç½®é‚®ä»¶æ ‡é¢˜ message.setSubject(mail.getTitle()); //htmlå‘é€é‚®ä»¶ if (mail.getContentType().equals(MailContentEnum.HTML.getValue())) &#123; //è®¾ç½®é‚®ä»¶æ ‡é¢˜ message.setContent(mail.getContent(), mail.getContentType()); &#125; //æ–‡æœ¬å‘é€é‚®ä»¶ else if (mail.getContentType().equals(MailContentEnum.TEXT.getValue())) &#123; message.setText(mail.getContent()); &#125; //å‘é€é‚®ç®±åœ°å€ List&lt;String&gt; targets = mail.getList(); for (int i = 0; i &lt; targets.size(); i++) &#123; try &#123; //è®¾ç½®æ”¶ä»¶äººçš„é‚®ç®± InternetAddress to = new InternetAddress(targets.get(i)); message.setRecipients(Message.RecipientType.TO, new InternetAddress[]&#123;to&#125;); //å‘é€é‚®ä»¶ Transport.send(message); &#125; catch (Exception e) &#123; continue; &#125; &#125; &#125;&#125; å› ä¸ºç®€ä¹¦çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸æ”¯æŒä»£ç å—ï¼Œä¸‹æ¬¡ç¼–å†™æ–‡ç« ä½¿ç”¨MarkDownæ–¹å¼æ¥å†™ï¼Œç±»è¿‡é•¿è´´èµ·æ¥å›¾æŒºè´¹åŠ²ã€‚ä¸Šé¢å¯ä»¥çœ‹åˆ°æˆ‘ä½¿ç”¨åˆ°äº†MailContentTypeEnumä»¥åŠPropertiesUtilå·¥å…·ç±»ã€‚ MailContentTypeEnumè¿™æ˜¯ä¸€ä¸ªæˆ‘è‡ªå®šä¹‰çš„æžšä¸¾ç±»åž‹ï¼Œæžšä¸¾ç±»åž‹åŒ…å«äº†é‚®ä»¶å†…å®¹çš„ç±»åž‹ï¼Œç›®å‰æˆ‘ä»…ä»…æ·»åŠ äº†ä¸¤ç§ï¼Œä¸€ç§æ˜¯htmlå¦å¤–ä¸€ç§åˆ™æ˜¯textå½¢å¼ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415public enumMailContentEnum &#123; TEXT("text"), HTML("text/html;charset=UTF-8"); private String value; MailContentEnum(String value) &#123; this.value = value; &#125; public String getValue() &#123; return value; &#125;&#125; PropertiesUtilPropertiesUtilæ˜¯ç”¨äºŽè¯»å–*.propertiesé…ç½®æ–‡ä»¶çš„å·¥å…·ç±»ï¼Œä½¿ç”¨JavaMailéœ€è¦é…ç½®SMTPä»¥åŠç”¨æˆ·åã€å¯†ç ç­‰ä¹Ÿå°±æ˜¯MailEntityå†…çš„å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨/resourceç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåå­—å«mail.propertiesçš„é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å­˜æ”¾æˆ‘ä»¬å®šä¹‰çš„é‚®ä»¶å‘é€å‚æ•°é…ç½®ï¼Œè¿™æ ·æ–¹ä¾¿ä¿®æ”¹ï¼Œæˆ‘åˆ†åˆ«è´´å‡ºPropertiesUtilã€mail.propertiesä»£ç å†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021import java.util.Locale;import java.util.ResourceBundle;public class PropertiesUtil &#123; private ResourceBundle resource = null; private final String fileName; //èŽ·å–æ–‡ä»¶èµ„æºå¯¹è±¡ public PropertiesUtil(String fileName) &#123; this.fileName = fileName; Locale locale = new Locale("zh", "CN"); this.resource = ResourceBundle.getBundle(this.fileName, locale); &#125; //key value public String getValue(String key) &#123; String message = this.resource.getString(key); return message; &#125;&#125; 12345678910#å¯¹åº”å‘é€æœåŠ¡å™¨çš„smtpæœåŠ¡å™¨åœ°å€mail.smtp.service=smtp.qq.com#å¯¹åº”æœåŠ¡å™¨çš„smtpæœåŠ¡ç«¯å£å·mail.smtp.port=465#å‘ä»¶äººé‚®ç®±åœ°å€mail.from.address=809962111@qq.com#smtpæŽˆæƒå¯†ç mail.from.smtp.pwd= // smtpæŽˆæƒå¯†ç #å‘ä»¶äººé‚®ç®±æ˜¾ç¤ºæ˜µç§°mail.from.nickname=aaa æˆ‘ä½¿ç”¨çš„QQé‚®ç®±åœ°å€ä½œä¸ºæµ‹è¯•ï¼Œå¦‚æžœä½ éœ€è¦ä½¿ç”¨ä½ çš„QQåœ°å€ä½œä¸ºæµ‹è¯•ï¼Œè¯·å…ˆåˆ°QQé‚®ç®±å¼€å¯POP3/SMTPæœåŠ¡ï¼Œå¼€å¯æ­¥éª¤å¦‚ä¸‹ã€‚ å¼€å¯POP3/SMTPç¬¬ä¸€æ­¥ï¼šè¿›å…¥é‚®ç®±ç‚¹å‡»â€œè®¾ç½®â€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç¬¬äºŒéƒ¨ï¼šç‚¹å‡»â€œè´¦æˆ·â€ã€‚ ç¬¬ä¸‰æ­¥ï¼šèŽ·å–æŽˆæƒç ã€‚ æˆ‘çš„POP3ä»¥åŠSMTPä»¥åŠå¼€å¯äº†æ‰€ä»¥è¿™é‡Œæ˜¾ç¤ºçš„çŠ¶æ€æ˜¯å·²å¼€å¯ï¼Œå¦‚æžœæ‚¨ç¬¬ä¸€æ¬¡ä½¿ç”¨QQé‚®ç®±çš„SMTPæœåŠ¡ï¼Œè¯·ç‚¹å‡»â€œå¼€å¯â€å¹¶ä¸”æŒ‰ç…§æç¤ºæ­¥éª¤å®ŒæˆèŽ·å–â€œæŽˆæƒç â€å³å¯ï¼ŒæŽˆæƒç å°±æ˜¯å‘é€é‚®ä»¶å‚æ•°çš„smtp.pwdå±žæ€§ã€‚ æµ‹è¯•å‘é€é‚®ä»¶æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªsendMailToç±»æ¥ä½œä¸ºæµ‹è¯•å…¥å£ï¼Œå› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®æ˜¯jarå½¢å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æŽ¥æ–°å»ºä¸€ä¸ªmainæ–¹æ³•ç›´æŽ¥è°ƒç”¨å‘é€é‚®ä»¶å°±å¯ä»¥äº†ï¼Œå¦‚ä¸‹æ‰€ç¤ºæµ‹è¯•ä»£ç ï¼š 123456789101112131415161718import com.example.springbootexample.Mail.Config.MailContentEnum;import com.example.springbootexample.Mail.Config.MailSender;import java.util.ArrayList;public class sendMailTo &#123; public static void main(String[] args) throws Exception &#123; new MailSender() .title("æµ‹è¯•SpringBootå‘é€é‚®ä»¶") .content("ç®€å•æ–‡æœ¬å†…å®¹å‘é€") .cpntentType(MailContentEnum.TEXT) .targets(new ArrayList&lt;String&gt;() &#123;&#123; add("895800655@qq.com"); &#125;&#125;) .send(); &#125;&#125; æˆ‘æ˜¯å‘æˆ‘çš„895800655@qq.comé‚®ç®±å‘é€äº†ä¸€æ¡æ–‡æœ¬ç±»åž‹çš„æµ‹è¯•é‚®ä»¶ï¼Œå‘é€æ•ˆæžœå›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•é€šè¿‡Hexoä¸ŽGitHubæ­å»ºå±žäºŽè‡ªå·±çš„åšå®¢]]></title>
    <url>%2F2018%2F11%2F28%2FHexoAndGit%2F</url>
    <content type="text"><![CDATA[å…³äºŽåšå®¢å†™åšå®¢å¯¹äºŽç¨‹åºçŒ¿æ¥è¯´ï¼Œåº”è¯¥æ˜¯ä¸ªä¼˜ç§€çš„ä¹ æƒ¯ï¼Œä¸ªäººä¹Ÿè§‰å¾—è›®é«˜å¤§ä¸Šçš„ ^_^ã€‚ç½‘ä¸Šçš„åšå®¢è®ºå›ç½‘ç«™ä¹Ÿå¤šç§å¤šæ ·ï¼Œä¸ªäººè§‰å¾—åœ¨é•¿ä¹…ä»¥æ¥çš„ä¸æ–­ç«žäº‰æ·˜æ±°ä¸­ï¼Œå„å¤§ç½‘ç«™çš„åŠŸèƒ½ç­‰å¯èƒ½éƒ½ç›¸å·®æ— å‡ äº†ï¼Œé€‰æ‹©è‡ªå·±ç¨å¾®åå¥½çš„å°±å¯ä»¥äº†ã€‚ æˆ‘çš„ä¸ªäººæƒ…å†µå°±æ˜¯ç»“åˆHexoå’ŒGithub Pagesçš„ç‹¬ç«‹ä¸ªäººåšå®¢ç½‘é¡µï¼Œå› ä¸ºå¬è¯´æ‹¥æœ‰è‡ªå·±çš„Githubä¸»é¡µä¹Ÿæ˜¯ä¸€ä»¶è›®é«˜å¤§ä¸Šçš„äº‹ -_- ã€‚ å…³äºŽHexo Hexoæ˜¯ä¸€æ¬¾åŸºäºŽNode.jsçš„é™æ€åšå®¢æ¡†æž¶ï¼Œä¾èµ–å°‘æ˜“äºŽå®‰è£…ä½¿ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿çš„ç”Ÿæˆé™æ€ç½‘é¡µæ‰˜ç®¡åœ¨GitHubå’ŒHerokuä¸Šï¼Œæ˜¯æ­å»ºåšå®¢çš„é¦–é€‰æ¡†æž¶ã€‚è¿™é‡Œæˆ‘ä»¬é€‰ç”¨çš„æ˜¯GitHubï¼Œä½ æ²¡çœ‹é”™ï¼Œå…¨çƒæœ€å¤§çš„åŒæ€§æ‹äº¤å‹ç½‘ç«™ï¼ˆé€ƒâ€¦â€¦ï¼‰ã€‚HexoåŒæ—¶ä¹Ÿæ˜¯GitHubä¸Šçš„å¼€æºé¡¹ç›®ï¼Œå‚è§ï¼šhexojs/hexo å¦‚æžœæƒ³è¦æ›´åŠ å…¨é¢çš„äº†è§£Hexoï¼Œå¯ä»¥åˆ°å…¶å®˜ç½‘ Hexo äº†è§£æ›´å¤šçš„ç»†èŠ‚ï¼Œå› ä¸ºHexoçš„åˆ›å»ºè€…æ˜¯å°æ¹¾äººï¼Œå¯¹ä¸­æ–‡çš„æ”¯æŒå¾ˆå‹å¥½ï¼Œå¯ä»¥é€‰æ‹©ä¸­æ–‡è¿›è¡ŒæŸ¥çœ‹ã€‚è¿™é‡Œï¼Œé»˜è®¤å„ä½çŒ¿/åª›å„¿éƒ½çŸ¥é“GitHubå°±ä¸å†èµ˜è¿°ã€‚ å…³äºŽGithubç„¶åŽç®€å•ä»‹ç»ä¸€ä¸‹Githubä»¥åŠå…¶Github PagesåŠŸèƒ½ã€‚GitHubæ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿï¼Œè¯¦æƒ…è§ç™¾åº¦ç™¾ç§‘ã€‚è¯´åˆ°åˆ†å¸ƒå¼ï¼Œè‡ªç„¶ä¹Ÿæœ‰å¦å¤–ä¸€ç§é›†ä¸­å¼ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿï¼šSVNï¼Œæœ‰å…´è¶£å°ä¼™ä¼´å¯ä»¥äº†è§£ç™¾åº¦ç™¾ç§‘ã€‚GItæ˜¯SVNçš„å‘å±•ç‰ˆï¼Œè€Œä¸”çŽ°åœ¨ä¸»æµä¹Ÿæ˜¯GItï¼Œä½†æŸäº›å¤§å…¬å¸ä¾ç„¶åœ¨ä½¿ç”¨SVNï¼ŒäºŒè€…å„æœ‰ä¼˜åŠ£ï¼Œè‡ªè¡Œä½“ä¼šï¼Œæ­¤å¤„ä¸åšè¯¦è§£ï¼Œç”¨ä¸€å¼ å›¾ç®€å•è¯´æ˜Žï¼š GIthub Pagesåˆ™æ˜¯githubä¸Šçš„ä¸€é¡¹åŠŸèƒ½ï¼Œå¯ä»¥æ”¾ç½®ç½‘é¡µæ–‡ä»¶åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œç„¶åŽç»™ä½ ä¸€ä¸ªä¸“å±žåŸŸåç”¨äºŽå±•ç¤ºä¸€äº›é¡¹ç›®ï¼Œä½†çŽ°åœ¨å¤§å¤šç”¨æ¥å¼€å‘åˆ¶ä½œä¸ªäººåšå®¢ç½‘ç«™ã€‚æŽ¥ä¸‹æ¥å°±ä¸€æ­¥æ­¥æŒ‰ç…§æˆ‘æ›¾ç»çš„æ­¥éª¤æ¥æ­å»ºä¸ªäººåšå®¢ï¼Œé¡ºä¾¿è®²è®²æ²¿é€”é‡åˆ°è¿‡çš„å‘ï¼Œå¦‚æ²¡æœ‰çš„æåŠè¯·è‡ªè¡Œç™¾åº¦ã€‚ æ­å»ºæ­¥éª¤ï¼š æ­å»ºçŽ¯å¢ƒå‡†å¤‡ï¼ˆåŒ…æ‹¬node.jså’ŒgitçŽ¯å¢ƒï¼ŒgitHubè´¦æˆ·çš„é…ç½®ï¼‰ é…ç½®Hexo é…ç½®GitHub å¸¸ç”¨å‘½ä»¤ æ­å»ºçŽ¯å¢ƒ å®‰è£…git å¯ä»¥åˆ°gitå®˜ç½‘ä¸‹è½½ç›¸åº”å¹³å°çš„ç‰ˆæœ¬è¿›è¡Œå®‰è£…ã€‚è€ƒè™‘åˆ°ä½ å¯èƒ½æ˜¯æ— ç…§é©¾é©¶ï¼Œç›´æŽ¥åœ¨github/gitä¸‹è½½ã€‚ ç”³è¯·githubè´¦å· è¿›å…¥githubæ³¨å†Œã€‚æ­¤å¤„çœç•¥ä¸€åƒå­—ã€‚ å®‰è£…node.js, åˆ°node.jså®˜ç½‘ä¸‹è½½ç›¸åº”å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå‚»ç“œå¼å®‰è£…ï¼ˆè‡ªå¸¦å®‰è£…npmï¼‰ã€‚ å®‰è£…hexo æ‰“å¼€git bashæˆ–è€…cmdï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤: 1npm install -g hexo-cli â€‹ å¦‚æžœæ²¡æœ‰é”™è¯¯æç¤ºï¼Œé‚£ä¹ˆåœ¨gitçš„äº¤äº’çŽ¯å¢ƒè¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹gitç‰ˆæœ¬ï¼š 1hexo version é…ç½®Hexoé¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚blogï¼Œç”¨æ¥å­˜æ”¾hexoçš„é…ç½®æ–‡ä»¶ç­‰ï¼Œç„¶åŽè¿›å…¥blogè¿›è¡Œæ“ä½œã€‚ åˆå§‹åŒ– å³é”® git bashï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤: 1hexo init å®‰è£…ä¾èµ–åŒ… 1npm install ç”Ÿæˆé™æ€é¡µé¢ 1hexo generate æˆ–è€… hexo g æœ¬åœ°è¿è¡Œ 1hexo server æˆ–è€… hexo s æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ è¾“å…¥localhost:4000ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ­å»ºå¥½çš„æœ¬åœ°åšå®¢äº†ã€‚åˆ°æ­¤åªæ˜¯æ­å»ºå¥½äº†æœ¬åœ°åšå®¢ï¼Œè¿˜éœ€è¦å°†åšå®¢éƒ¨ç½²åˆ°githubä¸Šã€‚ é…ç½®GitHub æ–°å»ºrepository å»ºç«‹ä¸Žä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸ºã€ your_username.github.ioã€‘ ã€‚ éƒ¨ç½²åšå®¢è¿›å…¥ä½ çš„hexoæ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹ï¼Œç”¨ç¼–è¾‘å™¨æ‰“å¼€_config.ymlï¼Œä¿®æ”¹deployé¡¹ï¼Œå¦‚ä¸‹ï¼ˆæ ¹æ®ä½ çš„githubè¿›è¡Œç›¸åº”æ›´æ”¹ï¼‰ï¼š 1234deploy: type: git #æ³¨æ„ï¼šæœ‰çš„ç‰ˆæœ¬typeæ˜¯github repo: https://github.com/ä½ çš„è´¦æˆ·å/ä½ çš„è´¦æˆ·å.github.io.git branch: master æ­¤æ—¶å°±å®Œæˆéƒ¨ç½²äº†ï¼Œç”¨æµè§ˆå™¨è®¿é—®xiaobinhong1.github.ioå³å¯(ç¬¬ä¸€æ¬¡å‘å¸ƒå¯èƒ½ä¼šæœ‰10åˆ†é’Ÿçš„å»¶è¿Ÿ)ã€‚æ¯æ¬¡ä¿®æ”¹å®Œæœ¬åœ°çš„æ–‡ä»¶åŽè¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡æ–°éƒ¨ç½²åˆ°githubä¸Šï¼š 123hexo clean hexo generate hexo deploy æˆ–è€… hexo d å¸¸ç”¨å‘½ä»¤1234567hexo new â€œpostNameâ€ // æ–°å»ºæ–‡ç«  hexo new page â€œpageNameâ€ // æ–°å»ºé¡µé¢ hexo generate // ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•hexo server // å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œâ€™ctrl + câ€™å…³é—­serverï¼‰hexo deploy // å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHubhexo help // æŸ¥çœ‹å¸®åŠ©hexo version // æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬]]></content>
      <categories>
        <category>Hexo</category>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Git</tag>
      </tags>
  </entry>
</search>
